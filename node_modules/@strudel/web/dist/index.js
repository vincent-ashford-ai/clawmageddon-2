var strudel=function(u){"use strict";var za=typeof document<"u"?document.currentScript:null;const $s="strudel.log";let pA=1e3,Qg,qg;function as(e,t="cyclist"){mt(`[${t}] error: ${e.message}`)}function mt(e,t,n={}){let i=performance.now();Qg===e&&i-qg<pA||(Qg=e,qg=i,console.log(`%c${e}`,"background-color: black;color:white;border-radius:15px"),typeof document<"u"&&typeof CustomEvent<"u"&&document.dispatchEvent(new CustomEvent($s,{detail:{message:e,type:t,data:n}})))}mt.key=$s,typeof BigInt>"u"&&(BigInt=function(e){if(isNaN(e))throw new Error("");return e});const de=BigInt(0),Xe=BigInt(1),us=BigInt(2),Na=BigInt(5),xt=BigInt(10),mA=2e3,q={s:Xe,n:de,d:Xe};function Dn(e,t){try{e=BigInt(e)}catch{throw In()}return e*t}function tn(e){return typeof e=="bigint"?e:Math.floor(e)}function it(e,t){if(t===de)throw Wa();const n=Object.create(Je.prototype);n.s=e<de?-Xe:Xe,e=e<de?-e:e;const i=ui(e,t);return n.n=e/i,n.d=t/i,n}function Di(e){const t={};let n=e,i=us,s=Na-Xe;for(;s<=n;){for(;n%i===de;)n/=i,t[i]=(t[i]||de)+Xe;s+=Xe+us*i++}return n!==e?n>1&&(t[n]=(t[n]||de)+Xe):t[e]=(t[e]||de)+Xe,t}const ft=function(e,t){let n=de,i=Xe,s=Xe;if(e!=null)if(t!==void 0){if(typeof e=="bigint")n=e;else{if(isNaN(e))throw In();if(e%1!==0)throw $g();n=BigInt(e)}if(typeof t=="bigint")i=t;else{if(isNaN(t))throw In();if(t%1!==0)throw $g();i=BigInt(t)}s=n*i}else if(typeof e=="object"){if("d"in e&&"n"in e)n=BigInt(e.n),i=BigInt(e.d),"s"in e&&(n*=BigInt(e.s));else if(0 in e)n=BigInt(e[0]),1 in e&&(i=BigInt(e[1]));else if(typeof e=="bigint")n=e;else throw In();s=n*i}else if(typeof e=="number"){if(isNaN(e))throw In();if(e<0&&(s=-Xe,e=-e),e%1===0)n=BigInt(e);else if(e>0){let r=1,a=0,o=1,c=1,l=1,d=1e7;for(e>=1&&(r=10**Math.floor(1+Math.log10(e)),e/=r);o<=d&&l<=d;){let m=(a+c)/(o+l);if(e===m){o+l<=d?(n=a+c,i=o+l):l>o?(n=c,i=l):(n=a,i=o);break}else e>m?(a+=c,o+=l):(c+=a,l+=o),o>d?(n=c,i=l):(n=a,i=o)}n=BigInt(n)*BigInt(r),i=BigInt(i)}}else if(typeof e=="string"){let r=0,a=de,o=de,c=de,l=Xe,d=Xe,m=e.replace(/_/g,"").match(/\d+|./g);if(m===null)throw In();if(m[r]==="-"?(s=-Xe,r++):m[r]==="+"&&r++,m.length===r+1?o=Dn(m[r++],s):m[r+1]==="."||m[r]==="."?(m[r]!=="."&&(a=Dn(m[r++],s)),r++,(r+1===m.length||m[r+1]==="("&&m[r+3]===")"||m[r+1]==="'"&&m[r+3]==="'")&&(o=Dn(m[r],s),l=xt**BigInt(m[r].length),r++),(m[r]==="("&&m[r+2]===")"||m[r]==="'"&&m[r+2]==="'")&&(c=Dn(m[r+1],s),d=xt**BigInt(m[r+1].length)-Xe,r+=3)):m[r+1]==="/"||m[r+1]===":"?(o=Dn(m[r],s),l=Dn(m[r+2],Xe),r+=3):m[r+3]==="/"&&m[r+1]===" "&&(a=Dn(m[r],s),o=Dn(m[r+2],s),l=Dn(m[r+4],Xe),r+=5),m.length<=r)i=l*d,s=n=c+i*a+d*o;else throw In()}else if(typeof e=="bigint")n=e,s=e,i=Xe;else throw In();if(i===de)throw Wa();q.s=s<de?-Xe:Xe,q.n=n<de?-n:n,q.d=i<de?-i:i};function fA(e,t,n){let i=Xe;for(;t>de;e=e*e%n,t>>=Xe)t&Xe&&(i=i*e%n);return i}function yA(e,t){for(;t%us===de;t/=us);for(;t%Na===de;t/=Na);if(t===Xe)return de;let n=xt%t,i=1;for(;n!==Xe;i++)if(n=n*xt%t,i>mA)return de;return BigInt(i)}function gA(e,t,n){let i=Xe,s=fA(xt,n,t);for(let r=0;r<300;r++){if(i===s)return BigInt(r);i=i*xt%t,s=s*xt%t}return 0}function ui(e,t){if(!e)return t;if(!t)return e;for(;;){if(e%=t,!e)return t;if(t%=e,!t)return e}}function Je(e,t){if(ft(e,t),this instanceof Je)e=ui(q.d,q.n),this.s=q.s,this.n=q.n/e,this.d=q.d/e;else return it(q.s*q.n,q.d)}var Wa=function(){return new Error("Division by Zero")},In=function(){return new Error("Invalid argument")},$g=function(){return new Error("Parameters must be integer")};Je.prototype={s:Xe,n:de,d:Xe,abs:function(){return it(this.n,this.d)},neg:function(){return it(-this.s*this.n,this.d)},add:function(e,t){return ft(e,t),it(this.s*this.n*q.d+q.s*this.d*q.n,this.d*q.d)},sub:function(e,t){return ft(e,t),it(this.s*this.n*q.d-q.s*this.d*q.n,this.d*q.d)},mul:function(e,t){return ft(e,t),it(this.s*q.s*this.n*q.n,this.d*q.d)},div:function(e,t){return ft(e,t),it(this.s*q.s*this.n*q.d,this.d*q.n)},clone:function(){return it(this.s*this.n,this.d)},mod:function(e,t){if(e===void 0)return it(this.s*this.n%this.d,Xe);if(ft(e,t),de===q.n*this.d)throw Wa();return it(this.s*(q.d*this.n)%(q.n*this.d),q.d*this.d)},gcd:function(e,t){return ft(e,t),it(ui(q.n,this.n)*ui(q.d,this.d),q.d*this.d)},lcm:function(e,t){return ft(e,t),q.n===de&&this.n===de?it(de,Xe):it(q.n*this.n,ui(q.n,this.n)*ui(q.d,this.d))},inverse:function(){return it(this.s*this.d,this.n)},pow:function(e,t){if(ft(e,t),q.d===Xe)return q.s<de?it((this.s*this.d)**q.n,this.n**q.n):it((this.s*this.n)**q.n,this.d**q.n);if(this.s<de)return null;let n=Di(this.n),i=Di(this.d),s=Xe,r=Xe;for(let a in n)if(a!=="1"){if(a==="0"){s=de;break}if(n[a]*=q.n,n[a]%q.d===de)n[a]/=q.d;else return null;s*=BigInt(a)**n[a]}for(let a in i)if(a!=="1"){if(i[a]*=q.n,i[a]%q.d===de)i[a]/=q.d;else return null;r*=BigInt(a)**i[a]}return q.s<de?it(r,s):it(s,r)},log:function(e,t){if(ft(e,t),this.s<=de||q.s<=de)return null;const n={},i=Di(q.n),s=Di(q.d),r=Di(this.n),a=Di(this.d);for(const l in s)i[l]=(i[l]||de)-s[l];for(const l in a)r[l]=(r[l]||de)-a[l];for(const l in i)l!=="1"&&(n[l]=!0);for(const l in r)l!=="1"&&(n[l]=!0);let o=null,c=null;for(const l in n){const d=i[l]||de,m=r[l]||de;if(d===de){if(m!==de)return null;continue}let f=m,b=d;const g=ui(f,b);if(f/=g,b/=g,o===null&&c===null)o=f,c=b;else if(f*c!==o*b)return null}return o!==null&&c!==null?it(o,c):null},equals:function(e,t){return ft(e,t),this.s*this.n*q.d===q.s*q.n*this.d},lt:function(e,t){return ft(e,t),this.s*this.n*q.d<q.s*q.n*this.d},lte:function(e,t){return ft(e,t),this.s*this.n*q.d<=q.s*q.n*this.d},gt:function(e,t){return ft(e,t),this.s*this.n*q.d>q.s*q.n*this.d},gte:function(e,t){return ft(e,t),this.s*this.n*q.d>=q.s*q.n*this.d},compare:function(e,t){ft(e,t);let n=this.s*this.n*q.d-q.s*q.n*this.d;return(de<n)-(n<de)},ceil:function(e){return e=xt**BigInt(e||0),it(tn(this.s*e*this.n/this.d)+(e*this.n%this.d>de&&this.s>=de?Xe:de),e)},floor:function(e){return e=xt**BigInt(e||0),it(tn(this.s*e*this.n/this.d)-(e*this.n%this.d>de&&this.s<de?Xe:de),e)},round:function(e){return e=xt**BigInt(e||0),it(tn(this.s*e*this.n/this.d)+this.s*((this.s>=de?Xe:de)+us*(e*this.n%this.d)>this.d?Xe:de),e)},roundTo:function(e,t){ft(e,t);const n=this.n*q.d,i=this.d*q.n,s=n%i;let r=tn(n/i);return s+s>=i&&r++,it(this.s*r*q.n,q.d)},divisible:function(e,t){return ft(e,t),!(!(q.n*this.d)||this.n*q.d%(q.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e){let t=this.n,n=this.d;e=e||15;let i=yA(t,n),s=gA(t,n,i),r=this.s<de?"-":"";if(r+=tn(t/n),t%=n,t*=xt,t&&(r+="."),i){for(let a=s;a--;)r+=tn(t/n),t%=n,t*=xt;r+="(";for(let a=i;a--;)r+=tn(t/n),t%=n,t*=xt;r+=")"}else for(let a=e;t&&a--;)r+=tn(t/n),t%=n,t*=xt;return r},toFraction:function(e){let t=this.n,n=this.d,i=this.s<de?"-":"";if(n===Xe)i+=t;else{let s=tn(t/n);e&&s>de&&(i+=s,i+=" ",t%=n),i+=t,i+="/",i+=n}return i},toLatex:function(e){let t=this.n,n=this.d,i=this.s<de?"-":"";if(n===Xe)i+=t;else{let s=tn(t/n);e&&s>de&&(i+=s,t%=n),i+="\\frac{",i+=t,i+="}{",i+=n,i+="}"}return i},toContinued:function(){let e=this.n,t=this.d,n=[];do{n.push(tn(e/t));let i=e%t;e=t,t=i}while(e!==Xe);return n},simplify:function(e){const t=BigInt(1/(e||.001)|0),n=this.abs(),i=n.toContinued();for(let s=1;s<i.length;s++){let r=it(i[s-1],Xe);for(let o=s-2;o>=0;o--)r=r.inverse().add(i[o]);let a=r.sub(n);if(a.n*t<a.d)return r.mul(this.s)}return this}};const eb=e=>/^[a-gA-G][#bsf]*[0-9]*$/.test(e),_n=e=>/^[a-gA-G][#bsf]*-?[0-9]*$/.test(e),Ta=e=>{if(typeof e!="string")return[];const[t,n="",i]=e.match(/^([a-gA-G])([#bsf]*)(-?[0-9]*)$/)?.slice(1)||[];return t?[t,n,i?Number(i):void 0]:[]},bA={c:0,d:2,e:4,f:5,g:7,a:9,b:11},MA={"#":1,b:-1,s:1,f:-1},er=e=>e?.split("").reduce((t,n)=>t+MA[n],0)||0,nn=(e,t=3)=>{const[n,i,s=t]=Ta(e);if(!n)throw new Error('not a note: "'+e+'"');const r=bA[n.toLowerCase()],a=er(i);return(Number(s)+1)*12+r+a},Yn=e=>Math.pow(2,(e-69)/12)*440,tr=e=>12*Math.log(e/440)/Math.LN2+69,tb=(e,t)=>{if(typeof e!="object")throw new Error("valueToMidi: expected object value");let{freq:n,note:i}=e;if(typeof n=="number")return tr(n);if(typeof i=="string")return nn(i);if(typeof i=="number")return i;if(!t)throw new Error("valueToMidi: expected freq or note to be set");return t},nb=(e,t)=>(e-t)*1e3,Ia=e=>Yn(typeof e=="number"?e:nn(e)),CA=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],ib=e=>{const t=Math.floor(e/12)-1;return CA[e%12]+t},Nt=(e,t)=>(e%t+t)%t,_a=e=>e.reduce((t,n)=>t+n)/e.length;function Ya(e,t=0){return isNaN(Number(e))?(mt(`"${e}" is not a number, falling back to ${t}`,"warning"),t):e}const sb=(e,t)=>Nt(Math.round(Ya(e??0,0)),t),rb=e=>{let{value:t,context:n}=e,i=t;if(typeof i=="object"&&!Array.isArray(i)&&(i=i.note||i.n||i.value,i===void 0))throw new Error(`cannot find a playable note for ${JSON.stringify(t)}`);if(typeof i=="number"&&n.type!=="frequency")i=Yn(e.value);else if(typeof i=="number"&&n.type==="frequency")i=e.value;else if(typeof i!="string"||!_n(i))throw new Error("not a note: "+JSON.stringify(i));return i},Ha=e=>{let{value:t,context:n}=e;if(typeof t=="object")return t.freq?t.freq:Ia(t.note||t.n||t.value);if(typeof t=="number"&&n.type!=="frequency")t=Yn(e.value);else if(typeof t=="string"&&_n(t))t=Yn(nn(e.value));else if(typeof t!="number")throw new Error("not a note or frequency: "+t);return t},Ka=(e,t)=>e.slice(t).concat(e.slice(0,t)),ja=(...e)=>e.reduce((t,n)=>(...i)=>t(n(...i)),t=>t),ab=(...e)=>ja(...e.reverse()),Hn=e=>e.filter(t=>t!=null),yn=e=>[].concat(...e),oi=e=>e,ub=(e,t)=>e,Xi=(e,t)=>Array.from({length:t-e+1},(n,i)=>i+e);function Fe(e,t,n=e.length){const i=function s(...r){if(r.length>=n)return e.apply(this,r);{const a=function(...o){return s.apply(this,r.concat(o))};return t&&t(a,r),a}};return t&&t(i,[]),i}function nr(e){const t=Number(e);if(!isNaN(t))return t;if(_n(e))return nn(e);throw new Error(`cannot parse as numeral: "${e}"`)}function ir(e,t){return(...n)=>e(...n.map(t))}function Rt(e){return ir(e,nr)}function Oa(e){const t=Number(e);if(!isNaN(t))return t;const n={pi:Math.PI,w:1,h:.5,q:.25,e:.125,s:.0625,t:1/3,f:.2,x:1/6}[e];if(typeof n<"u")return n;throw new Error(`cannot parse as fractional: "${e}"`)}const ob=e=>ir(e,Oa),sr=function(e,t){return[t.slice(0,e),t.slice(e)]},os=(e,t,n)=>t.map((i,s)=>e(i,n[s])),Ua=function(e){const t=[];for(let n=0;n<e.length-1;++n)t.push([e[n],e[n+1]]);return t},cs=(e,t,n)=>Math.min(Math.max(e,t),n),vA=["Do","Reb","Re","Mib","Mi","Fa","Solb","Sol","Lab","La","Sib","Si"],PA=["Sa","Re","Ga","Ma","Pa","Dha","Ni"],GA=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Hb","H"],AA=["Ni","Pab","Pa","Voub","Vou","Ga","Dib","Di","Keb","Ke","Zob","Zo"],FA=["I","Ro","Ha","Ni","Ho","He","To"],wA=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],cb=(e,t="letters")=>{const i=(t==="solfeggio"?vA:t==="indian"?PA:t==="german"?GA:t==="byzantine"?AA:t==="japanese"?FA:wA)[e%12],s=Math.floor(e/12)-1;return i+s};function lb(e){var t={};return e.filter(function(n){return t.hasOwn(n)?!1:t[n]=!0})}function db(e){return e.sort().filter(function(t,n,i){return!n||t!=i[n-1]})}function Ja(e){return e.sort((t,n)=>t.compare(n)).filter(function(t,n,i){return!n||t.ne(i[n-1])})}function Qa(e){const t=new TextEncoder().encode(e);return btoa(String.fromCharCode(...t))}function qa(e){const t=new Uint8Array(atob(e).split("").map(i=>i.charCodeAt(0)));return new TextDecoder().decode(t)}function hb(e){return encodeURIComponent(Qa(e))}function pb(e){return qa(decodeURIComponent(e))}function $a(e,t){return Array.isArray(e)?e.map(t):Object.fromEntries(Object.entries(e).map(([n,i],s)=>[n,t(i,n,s)]))}function rr(e,t){return e/t}class eu{constructor({getTargetClockTime:t=DA,weight:n=16,offsetDelta:i=.005,checkAfterTime:s=2,resetAfterTime:r=8}){this.offsetTime,this.timeAtPrevOffsetSample,this.prevOffsetTimes=[],this.getTargetClockTime=t,this.weight=n,this.offsetDelta=i,this.checkAfterTime=s,this.resetAfterTime=r,this.reset=()=>{this.prevOffsetTimes=[],this.offsetTime=null,this.timeAtPrevOffsetSample=null}}calculateOffset(t){const n=this.getTargetClockTime(),i=n-this.timeAtPrevOffsetSample,s=n-t;if(i>this.resetAfterTime&&this.reset(),this.offsetTime==null&&(this.offsetTime=s),this.prevOffsetTimes.push(s),this.prevOffsetTimes.length>this.weight&&this.prevOffsetTimes.shift(),this.timeAtPrevOffsetSample==null||i>this.checkAfterTime){this.timeAtPrevOffsetSample=n;const r=_a(this.prevOffsetTimes);Math.abs(r-this.offsetTime)>this.offsetDelta&&(this.offsetTime=r)}return this.offsetTime}calculateTimestamp(t,n){return this.calculateOffset(t)+n}}function mb(){return performance.now()*.001}function DA(){return Date.now()*.001}const tu=new Map([["control","Control"],["ctrl","Control"],["alt","Alt"],["shift","Shift"],["down","ArrowDown"],["up","ArrowUp"],["left","ArrowLeft"],["right","ArrowRight"]]);let ls;function nu(){if(ls==null){if(typeof window>"u")return;ls={},window.addEventListener("keydown",e=>{ls[e.key]=!0}),window.addEventListener("keyup",e=>{ls[e.key]=!1})}return{...ls}}function ar(e,t=!1){return typeof e=="object"?t?JSON.stringify(e).slice(1,-1).replaceAll('"',"").replaceAll(","," "):JSON.stringify(e):e}Je.prototype.sam=function(){return this.floor()},Je.prototype.nextSam=function(){return this.sam().add(1)},Je.prototype.wholeCycle=function(){return new ut(this.sam(),this.nextSam())},Je.prototype.cyclePos=function(){return this.sub(this.sam())},Je.prototype.lt=function(e){return this.compare(e)<0},Je.prototype.gt=function(e){return this.compare(e)>0},Je.prototype.lte=function(e){return this.compare(e)<=0},Je.prototype.gte=function(e){return this.compare(e)>=0},Je.prototype.eq=function(e){return this.compare(e)==0},Je.prototype.ne=function(e){return this.compare(e)!=0},Je.prototype.max=function(e){return this.gt(e)?this:e},Je.prototype.maximum=function(...e){return e=e.map(t=>new Je(t)),e.reduce((t,n)=>n.max(t),this)},Je.prototype.min=function(e){return this.lt(e)?this:e},Je.prototype.mulmaybe=function(e){return e!==void 0?this.mul(e):void 0},Je.prototype.divmaybe=function(e){return e!==void 0?this.div(e):void 0},Je.prototype.addmaybe=function(e){return e!==void 0?this.add(e):void 0},Je.prototype.submaybe=function(e){return e!==void 0?this.sub(e):void 0},Je.prototype.show=function(){return this.s*this.n+"/"+this.d},Je.prototype.or=function(e){return this.eq(0)?e:this};const U=e=>Je(e),XA=(...e)=>{if(e=Hn(e),e.length!==0)return e.reduce((t,n)=>t.gcd(n),U(1))},sn=(...e)=>{if(e=Hn(e),e.length===0)return;const t=e.pop();return e.reduce((n,i)=>n===void 0||i===void 0?void 0:n.lcm(i),t)},SA=e=>e instanceof Je;U._original=Je;class ut{constructor(t,n){this.begin=U(t),this.end=U(n)}get spanCycles(){const t=[];var n=this.begin;const i=this.end,s=i.sam();if(n.equals(i))return[new ut(n,i)];for(;i.gt(n);){if(n.sam().equals(s)){t.push(new ut(n,this.end));break}const r=n.nextSam();t.push(new ut(n,r)),n=r}return t}get duration(){return this.end.sub(this.begin)}cycleArc(){const t=this.begin.cyclePos(),n=t.add(this.duration);return new ut(t,n)}withTime(t){return new ut(t(this.begin),t(this.end))}withEnd(t){return new ut(this.begin,t(this.end))}withCycle(t){const n=this.begin.sam(),i=n.add(t(this.begin.sub(n))),s=n.add(t(this.end.sub(n)));return new ut(i,s)}intersection(t){const n=this.begin.max(t.begin),i=this.end.min(t.end);if(!n.gt(i)&&!(n.equals(i)&&(n.equals(this.end)&&this.begin.lt(this.end)||n.equals(t.end)&&t.begin.lt(t.end))))return new ut(n,i)}intersection_e(t){const n=this.intersection(t);if(n==null)throw"TimeSpans do not intersect";return n}midpoint(){return this.begin.add(this.duration.div(U(2)))}equals(t){return this.begin.equals(t.begin)&&this.end.equals(t.end)}show(){return this.begin.show()+" → "+this.end.show()}}class Qe{constructor(t,n,i,s={},r=!1){this.whole=t,this.part=n,this.value=i,this.context=s,this.stateful=r,r&&console.assert(typeof this.value=="function","Stateful values must be functions")}get duration(){let t;return typeof this.value?.duration=="number"?t=U(this.value.duration):t=this.whole.end.sub(this.whole.begin),typeof this.value?.clip=="number"?t.mul(this.value.clip):t}get endClipped(){return this.whole.begin.add(this.duration)}isActive(t){return this.whole.begin<=t&&this.endClipped>=t}isInPast(t){return t>this.endClipped}isInNearPast(t,n){return n-t<=this.endClipped}isInFuture(t){return t<this.whole.begin}isInNearFuture(t,n){return n<this.whole.begin&&n>this.whole.begin-t}isWithinTime(t,n){return this.whole.begin<=n&&this.endClipped>=t}wholeOrPart(){return this.whole?this.whole:this.part}withSpan(t){const n=this.whole?t(this.whole):void 0;return new Qe(n,t(this.part),this.value,this.context)}withValue(t){return new Qe(this.whole,this.part,t(this.value),this.context)}hasOnset(){return this.whole!=null&&this.whole.begin.equals(this.part.begin)}hasTag(t){return this.context.tags?.includes(t)}resolveState(t){if(this.stateful&&this.hasOnset()){console.log("stateful");const n=this.value,[i,s]=n(t);return[i,new Qe(this.whole,this.part,s,this.context,!1)]}return[t,this]}spanEquals(t){return this.whole==null&&t.whole==null||this.whole.equals(t.whole)}equals(t){return this.spanEquals(t)&&this.part.equals(t.part)&&this.value===t.value}show(t=!1){const n=typeof this.value=="object"?t?JSON.stringify(this.value).slice(1,-1).replaceAll('"',"").replaceAll(","," "):JSON.stringify(this.value):this.value;var i="";if(this.whole==null)i="~"+this.part.show;else{var s=this.whole.begin.equals(this.part.begin)&&this.whole.end.equals(this.part.end);this.whole.begin.equals(this.part.begin)||(i=this.whole.begin.show()+" ⇜ "),s||(i+="("),i+=this.part.show(),s||(i+=")"),this.whole.end.equals(this.part.end)||(i+=" ⇝ "+this.whole.end.show())}return"[ "+i+" | "+n+" ]"}showWhole(t=!1){return`${this.whole==null?"~":this.whole.show()}: ${ar(this.value,t)}`}combineContext(t){const n=this;return{...n.context,...t.context,locations:(n.context.locations||[]).concat(t.context.locations||[])}}setContext(t){return new Qe(this.whole,this.part,this.value,t)}ensureObjectValue(){if(typeof this.value!="object")throw new Error(`expected hap.value to be an object, but got "${this.value}". Hint: append .note() or .s() to the end`,"error")}}class ci{constructor(t,n={}){this.span=t,this.controls=n}setSpan(t){return new ci(t,this.controls)}withSpan(t){return this.setSpan(t(this.span))}setControls(t){return new ci(this.span,{...this.controls,...t})}}function ZA(e,t,n){if(t?.value!==void 0&&Object.keys(t).length===1)return mt("[warn]: Can't do arithmetic on control pattern."),e;const i=Object.keys(e).filter(s=>Object.keys(t).includes(s));return Object.assign({},e,t,Object.fromEntries(i.map(s=>[s,n(e[s],t[s])])))}Fe((e,t)=>e*t),Fe((e,t)=>t.map(e));function iu(e,t=60){let n=0,i=U(0),s=[""],r="";for(;s[0].length<t;){const a=e.queryArc(n,n+1),o=a.filter(d=>d.hasOnset()).map(d=>d.duration),c=XA(...o),l=c.inverse();s=s.map(d=>d+"|"),r+="|";for(let d=0;d<l;d++){const[m,f]=[i,i.add(c)],b=a.filter(P=>P.whole.begin.lte(m)&&P.whole.end.gte(f)),g=b.length-s.length;g>0&&(s=s.concat(Array(g).fill(r))),s=s.map((P,A)=>{const x=b[A];if(x){const V=x.whole.begin.eq(m)?""+x.value:"-";return P+V}return P+"."}),r+=".",i=i.add(c)}n++}return s.join(`
`)}const ur={},ds=async(...e)=>{const t=await Promise.allSettled(e),n=t.filter(i=>i.status==="fulfilled").map(i=>i.value);return t.forEach((i,s)=>{i.status==="rejected"&&console.warn(`evalScope: module with index ${s} could not be loaded:`,i.reason)}),n.forEach(i=>{Object.entries(i).forEach(([s,r])=>{globalThis[s]=r,ur[s]=r})}),n};function EA(e,t={}){const{wrapExpression:n=!0,wrapAsync:i=!0}=t;n&&(e=`{${e}}`),i&&(e=`(async ()=>${e})()`);const s=`"use strict";return (${e})`;return Function(s)()}const fb=async(e,t,n)=>{let i={};if(t){const a=t(e,n);e=a.output,i=a}return{mode:"javascript",pattern:await EA(e,{wrapExpression:!!t}),meta:i}};let su,Wt=!0;const yb=function(e){Wt=!!e},ru=e=>su=e;let _=class Mt{constructor(t,n=void 0){this.query=t,this._Pattern=!0,this._steps=n}get _steps(){return this.__steps}set _steps(t){this.__steps=t===void 0?void 0:U(t)}setSteps(t){return this._steps=t,this}withSteps(t){return Wt?new Mt(this.query,this._steps===void 0?void 0:t(this._steps)):this}get hasSteps(){return this._steps!==void 0}withValue(t){const n=new Mt(i=>this.query(i).map(s=>s.withValue(t)));return n._steps=this._steps,n}withState(t){return new Mt(n=>this.query(t(n)))}fmap(t){return this.withValue(t)}appWhole(t,n){const i=this,s=function(r){const a=i.query(r),o=n.query(r),c=function(l,d){const m=l.part.intersection(d.part);if(m!=null)return new Qe(t(l.whole,d.whole),m,l.value(d.value),d.combineContext(l))};return yn(a.map(l=>Hn(o.map(d=>c(l,d)))))};return new Mt(s)}appBoth(t){const n=this,i=function(r,a){if(!(r==null||a==null))return r.intersection_e(a)},s=n.appWhole(i,t);return Wt&&(s._steps=sn(t._steps,n._steps)),s}appLeft(t){const n=this,i=function(r){const a=[];for(const o of n.query(r)){const c=t.query(r.setSpan(o.wholeOrPart()));for(const l of c){const d=o.whole,m=o.part.intersection(l.part);if(m){const f=o.value(l.value),b=l.combineContext(o),g=new Qe(d,m,f,b);a.push(g)}}}return a},s=new Mt(i);return s._steps=this._steps,s}appRight(t){const n=this,i=function(r){const a=[];for(const o of t.query(r)){const c=n.query(r.setSpan(o.wholeOrPart()));for(const l of c){const d=o.whole,m=l.part.intersection(o.part);if(m){const f=l.value(o.value),b=o.combineContext(l),g=new Qe(d,m,f,b);a.push(g)}}}return a},s=new Mt(i);return s._steps=t._steps,s}bindWhole(t,n){const i=this,s=function(r){const a=function(c,l){return new Qe(t(c.whole,l.whole),l.part,l.value,Object.assign({},c.context,l.context,{locations:(c.context.locations||[]).concat(l.context.locations||[])}))},o=function(c){return n(c.value).query(r.setSpan(c.part)).map(l=>a(c,l))};return yn(i.query(r).map(c=>o(c)))};return new Mt(s)}bind(t){const n=function(i,s){if(!(i==null||s==null))return i.intersection_e(s)};return this.bindWhole(n,t)}join(){return this.bind(oi)}outerBind(t){return this.bindWhole(n=>n,t).setSteps(this._steps)}outerJoin(){return this.outerBind(oi)}innerBind(t){return this.bindWhole((n,i)=>i,t)}innerJoin(){return this.innerBind(oi)}resetJoin(t=!1){const n=this;return new Mt(i=>n.discreteOnly().query(i).map(s=>s.value.late(t?s.whole.begin:s.whole.begin.cyclePos()).query(i).map(r=>new Qe(r.whole?r.whole.intersection(s.whole):void 0,r.part.intersection(s.part),r.value).setContext(s.combineContext(r))).filter(r=>r.part)).flat())}restartJoin(){return this.resetJoin(!0)}squeezeJoin(){const t=this;function n(i){const s=t.discreteOnly().query(i);function r(o){const l=o.value._focusSpan(o.wholeOrPart()).query(i.setSpan(o.part));function d(m,f){let b;if(f.whole&&m.whole&&(b=f.whole.intersection(m.whole),!b))return;const g=f.part.intersection(m.part);if(!g)return;const P=f.combineContext(m);return new Qe(b,g,f.value,P)}return l.map(m=>d(o,m))}return yn(s.map(r)).filter(o=>o)}return new Mt(n)}squeezeBind(t){return this.fmap(t).squeezeJoin()}polyJoin=function(){const t=this;return t.fmap(n=>n.extend(t._steps.div(n._steps))).outerJoin()};polyBind(t){return this.fmap(t).polyJoin()}queryArc(t,n,i={}){try{return this.query(new ci(new ut(t,n),i))}catch(s){return as(s,"query"),[]}}splitQueries(){const t=this,n=i=>yn(i.span.spanCycles.map(s=>t.query(i.setSpan(s))));return new Mt(n)}withQuerySpan(t){return new Mt(n=>this.query(n.withSpan(t)))}withQuerySpanMaybe(t){const n=this;return new Mt(i=>{const s=i.withSpan(t);return s.span?n.query(s):[]})}withQueryTime(t){return new Mt(n=>this.query(n.withSpan(i=>i.withTime(t))))}withHapSpan(t){return new Mt(n=>this.query(n).map(i=>i.withSpan(t)))}withHapTime(t){return this.withHapSpan(n=>n.withTime(t))}withHaps(t){const n=new Mt(i=>t(this.query(i),i));return n._steps=this._steps,n}withHap(t){return this.withHaps(n=>n.map(t))}setContext(t){return this.withHap(n=>n.setContext(t))}withContext(t){const n=this.withHap(i=>i.setContext(t(i.context)));return this.__pure!==void 0&&(n.__pure=this.__pure,n.__pure_loc=this.__pure_loc),n}stripContext(){return this.withHap(t=>t.setContext({}))}withLoc(t,n){const i={start:t,end:n},s=this.withContext(r=>{const a=(r.locations||[]).concat([i]);return{...r,locations:a}});return this.__pure&&(s.__pure=this.__pure,s.__pure_loc=i),s}filterHaps(t){return new Mt(n=>this.query(n).filter(t))}filterValues(t){return new Mt(n=>this.query(n).filter(i=>t(i.value))).setSteps(this._steps)}removeUndefineds(){return this.filterValues(t=>t!=null)}onsetsOnly(){return this.filterHaps(t=>t.hasOnset())}discreteOnly(){return this.filterHaps(t=>t.whole)}defragmentHaps(){return this.discreteOnly().withHaps(n=>{const i=[];for(var s=0;s<n.length;++s){for(var r=!0,a=n[s];r;){const l=JSON.stringify(n[s].value);for(var o=!1,c=s+1;c<n.length;c++){const d=n[c];if(a.whole.equals(d.whole)){if(a.part.begin.eq(d.part.end)){if(l===JSON.stringify(d.value)){a=new Qe(a.whole,new ut(d.part.begin,a.part.end),a.value),n.splice(c,1),o=!0;break}}else if(d.part.begin.eq(a.part.end)&&l==JSON.stringify(d.value)){a=new Qe(a.whole,new ut(a.part.begin,d.part.end),a.value),n.splice(c,1),o=!0;break}}}r=o}i.push(a)}return i})}firstCycle(t=!1){var n=this;return t||(n=n.stripContext()),n.query(new ci(new ut(U(0),U(1))))}get firstCycleValues(){return this.firstCycle().map(t=>t.value)}get showFirstCycle(){return this.firstCycle().map(t=>`${t.value}: ${t.whole.begin.toFraction()} - ${t.whole.end.toFraction()}`)}sortHapsByPart(){return this.withHaps(t=>t.sort((n,i)=>n.part.begin.sub(i.part.begin).or(n.part.end.sub(i.part.end)).or(n.whole.begin.sub(i.whole.begin).or(n.whole.end.sub(i.whole.end)))))}asNumber(){return this.fmap(nr)}_opIn(t,n){return this.fmap(n).appLeft(H(t))}_opOut(t,n){return this.fmap(n).appRight(H(t))}_opMix(t,n){return this.fmap(n).appBoth(H(t))}_opSqueeze(t,n){const i=H(t);return this.fmap(s=>i.fmap(r=>n(s)(r))).squeezeJoin()}_opSqueezeOut(t,n){const i=this;return H(t).fmap(r=>i.fmap(a=>n(a)(r))).squeezeJoin()}_opReset(t,n){return H(t).fmap(s=>this.fmap(r=>n(r)(s))).resetJoin()}_opRestart(t,n){return H(t).fmap(s=>this.fmap(r=>n(r)(s))).restartJoin()}_opPoly(t,n){const i=H(t);return this.fmap(s=>i.fmap(r=>n(r)(s))).polyJoin()}layer(...t){return qe(...t.map(n=>n(this)))}superimpose(...t){return this.stack(...t.map(n=>n(this)))}stack(...t){return qe(this,...t)}sequence(...t){return Yt(this,...t)}seq(...t){return Yt(this,...t)}cat(...t){return Si(this,...t)}fastcat(...t){return Ct(this,...t)}slowcat(...t){return Xn(this,...t)}onTrigger(t,n=!0){return this.withHap(i=>i.setContext({...i.context,onTrigger:(...s)=>{i.context.onTrigger?.(...s),t(...s)},dominantTrigger:i.context.dominantTrigger||n}))}log(t=i=>`[hap] ${i.showWhole(!0)}`,n=i=>({hap:i})){return this.onTrigger((...i)=>{mt(t(...i),void 0,n(...i))},!1)}logValues(t=n=>`[hap] ${ar(n,!0)}`){return this.log(n=>t(n.value))}drawLine(){return console.log(iu(this)),this}unjoin(t,n=oi){return t.withHap(i=>i.withValue(s=>s?n(this.ribbon(i.whole.begin,i.whole.duration)):this))}into(t,n){return this.unjoin(t,n).innerJoin()}};function LA(e,t){let n=[];return t.forEach(i=>{const s=n.findIndex(([r])=>e(i,r));s===-1?n.push([i]):n[s].push(i)}),n}const xA=(e,t)=>e.spanEquals(t);_.prototype.collect=function(){return this.withHaps(e=>LA(xA,e).map(t=>new Qe(t[0].whole,t[0].part,t,{})))};const gb=k("arpWith",(e,t)=>t.collect().fmap(n=>H(e(n))).innerJoin().withHap(n=>new Qe(n.whole,n.part,n.value.value,n.combineContext(n.value)))),bb=k("arp",(e,t)=>t.arpWith(n=>H(e).fmap(i=>n[i%n.length])),!1);function or(e){return!Array.isArray(e)&&typeof e=="object"&&!SA(e)}function RA(e,t,n){return or(e)||or(t)?(or(e)||(e={value:e}),or(t)||(t={value:t}),ZA(e,t,n)):n(e,t)}(function(){const e={set:[(n,i)=>i],keep:[n=>n],keepif:[(n,i)=>i?n:void 0],add:[Rt((n,i)=>n+i)],sub:[Rt((n,i)=>n-i)],mul:[Rt((n,i)=>n*i)],div:[Rt((n,i)=>n/i)],mod:[Rt(Nt)],pow:[Rt(Math.pow)],log2:[Rt(Math.log2)],band:[Rt((n,i)=>n&i)],bor:[Rt((n,i)=>n|i)],bxor:[Rt((n,i)=>n^i)],blshift:[Rt((n,i)=>n<<i)],brshift:[Rt((n,i)=>n>>i)],lt:[(n,i)=>n<i],gt:[(n,i)=>n>i],lte:[(n,i)=>n<=i],gte:[(n,i)=>n>=i],eq:[(n,i)=>n==i],eqt:[(n,i)=>n===i],ne:[(n,i)=>n!=i],net:[(n,i)=>n!==i],and:[(n,i)=>n&&i],or:[(n,i)=>n||i],func:[(n,i)=>i(n)]},t=["In","Out","Mix","Squeeze","SqueezeOut","Reset","Restart","Poly"];for(const[n,[i,s]]of Object.entries(e)){_.prototype["_"+n]=function(r){return this.fmap(a=>i(a,r))},Object.defineProperty(_.prototype,n,{get:function(){const r=this,a=(...o)=>r[n].in(...o);for(const o of t)a[o.toLowerCase()]=function(...c){var l=r;c=Yt(c),s&&(l=s(l),c=s(c));var d;return n==="keepif"?(d=l["_op"+o](c,m=>f=>i(m,f)),d=d.removeUndefineds()):d=l["_op"+o](c,m=>f=>RA(m,f,i)),d};return a.squeezein=a.squeeze,a}});for(const r of t)_.prototype[r.toLowerCase()]=function(...a){return this.set[r.toLowerCase()](a)}}_.prototype.struct=function(...n){return this.keepif.out(...n)},_.prototype.structAll=function(...n){return this.keep.out(...n)},_.prototype.mask=function(...n){return this.keepif.in(...n)},_.prototype.maskAll=function(...n){return this.keep.in(...n)},_.prototype.reset=function(...n){return this.keepif.reset(...n)},_.prototype.resetAll=function(...n){return this.keep.reset(...n)},_.prototype.restart=function(...n){return this.keepif.restart(...n)},_.prototype.restartAll=function(...n){return this.keep.restart(...n)}})();const Mb=qe,Cb=qe,vb=hs,li=e=>new _(()=>[],e),Te=li(1),Bt=li(0);function je(e){function t(i){return i.span.spanCycles.map(s=>new Qe(U(s.begin).wholeCycle(),s,e))}const n=new _(t,1);return n.__pure=e,n}function cr(e){return e instanceof _||e?._Pattern}function H(e){return cr(e)?e:su&&typeof e=="string"?su(e):je(e)}function au(e){let t=je([]);for(const n of e)t=t.bind(i=>n.fmap(s=>i.concat([s])));return t}function qe(...e){e=e.map(i=>Array.isArray(i)?Yt(...i):H(i));const t=i=>yn(e.map(s=>s.query(i))),n=new _(t);return Wt&&(n._steps=sn(...e.map(i=>i._steps))),n}function uu(e,t){if(t=t.map(r=>Array.isArray(r)?Yt(...r):H(r)),t.length===0)return Te;if(t.length===1)return t[0];const[n,...i]=t.map(r=>r._steps),s=Wt?n.maximum(...i):void 0;return qe(...e(s,t))}function ou(...e){return uu((t,n)=>n.map(i=>i._steps.eq(t)?i:Zt(i,li(t.sub(i._steps)))),e)}function cu(...e){return uu((t,n)=>n.map(i=>i._steps.eq(t)?i:Zt(li(t.sub(i._steps)),i)),e)}function lu(...e){return uu((t,n)=>n.map(i=>{if(i._steps.eq(t))return i;const s=li(t.sub(i._steps).div(2));return Zt(s,i,s)}),e)}function Pb(e,...t){const[n,...i]=t.map(a=>a._steps),s=n.maximum(...i),r={centre:lu,left:ou,right:cu,expand:qe,repeat:(...a)=>hs(...a).steps(s)};return e.inhabit(r).fmap(a=>a(...t)).innerJoin().setSteps(s)}function Xn(...e){if(e=e.map(i=>Array.isArray(i)?Ct(...i):H(i)),e.length==1)return e[0];const t=function(i){const s=i.span,r=Nt(s.begin.sam(),e.length),a=e[r];if(!a)return[];const o=s.begin.floor().sub(s.begin.div(e.length).floor());return a.withHapTime(c=>c.add(o)).query(i.setSpan(s.withTime(c=>c.sub(o))))},n=Wt?sn(...e.map(i=>i._steps)):void 0;return new _(t).splitQueries().setSteps(n)}function lr(...e){e=e.map(H);const t=function(n){const i=Math.floor(n.span.begin)%e.length;return e[i]?.query(n)||[]};return new _(t).splitQueries()}function Si(...e){return Xn(...e)}function Gb(...e){const t=e.reduce((n,[i])=>n+i,0);return e=e.map(([n,i])=>[n,i.fast(n)]),Zt(...e).slow(t)}function Ab(...e){let t=U(0);for(let n of e)n.length==2&&n.unshift(t),t=n[1];return qe(...e.map(([n,i,s])=>je(H(s)).compress(U(n).div(t),U(i).div(t)))).slow(t).innerJoin()}function Ct(...e){let t=Xn(...e);return e.length>1&&(t=t._fast(e.length),t._steps=e.length),e.length==1&&e[0].__steps_source&&(e._steps=e[0]._steps),t}function Yt(...e){return Ct(...e)}function du(...e){return Ct(...e)}function hu(e){return Array.isArray(e)?e.length==0?[Te,0]:e.length==1?hu(e[0]):[Ct(...e.map(t=>hu(t)[0])),e.length]:[H(e),1]}const Fb=Fe((e,t)=>H(t).mask(e)),wb=Fe((e,t)=>H(t).struct(e)),Db=Fe((e,t)=>H(t).superimpose(...e)),Xb=Fe((e,t)=>H(t).withValue(e)),Sb=Fe((e,t)=>H(t).bind(e)),Zb=Fe((e,t)=>H(t).innerBind(e)),Eb=Fe((e,t)=>H(t).outerBind(e)),Lb=Fe((e,t)=>H(t).squeezeBind(e)),xb=Fe((e,t)=>H(t).stepBind(e)),Rb=Fe((e,t)=>H(t).polyBind(e)),Bb=Fe((e,t)=>H(t).set(e)),kb=Fe((e,t)=>H(t).keep(e)),Vb=Fe((e,t)=>H(t).keepif(e)),zb=Fe((e,t)=>H(t).add(e)),Nb=Fe((e,t)=>H(t).sub(e)),Wb=Fe((e,t)=>H(t).mul(e)),Tb=Fe((e,t)=>H(t).div(e)),Ib=Fe((e,t)=>H(t).mod(e)),_b=Fe((e,t)=>H(t).pow(e)),Yb=Fe((e,t)=>H(t).band(e)),Hb=Fe((e,t)=>H(t).bor(e)),Kb=Fe((e,t)=>H(t).bxor(e)),jb=Fe((e,t)=>H(t).blshift(e)),Ob=Fe((e,t)=>H(t).brshift(e)),Ub=Fe((e,t)=>H(t).lt(e)),Jb=Fe((e,t)=>H(t).gt(e)),Qb=Fe((e,t)=>H(t).lte(e)),qb=Fe((e,t)=>H(t).gte(e)),$b=Fe((e,t)=>H(t).eq(e)),e2=Fe((e,t)=>H(t).eqt(e)),t2=Fe((e,t)=>H(t).ne(e)),n2=Fe((e,t)=>H(t).net(e)),i2=Fe((e,t)=>H(t).and(e)),s2=Fe((e,t)=>H(t).or(e)),r2=Fe((e,t)=>H(t).func(e));function k(e,t,n=!0,i=!1,s=r=>r.innerJoin()){if(Array.isArray(e)){const c={};for(const l of e)c[l]=k(l,t,n,i,s);return c}const r=t.length;var a;n?a=function(...c){c=c.map(H);const l=c[c.length-1];let d;if(r===1)d=t(l);else{const m=c.slice(0,-1);if(m.every(f=>f.__pure!=null)){const f=m.map(g=>g.__pure),b=m.filter(g=>g.__pure_loc).map(g=>g.__pure_loc);d=t(...f,l),d=d.withContext(g=>{const P=(g.locations||[]).concat(b);return{...g,locations:P}})}else{const[f,...b]=m;let g=(...P)=>t(...P,l);g=Fe(g,null,r-1),d=s(b.reduce((P,A)=>P.appLeft(A),f.fmap(g)))}}return i&&(d._steps=l._steps),d}:a=function(...c){c=c.map(H);const l=t(...c);return i&&(l._steps=c[c.length-1]._steps),l},_.prototype[e]=function(...c){if(r===2&&c.length!==1)c=[Yt(...c)];else if(r!==c.length+1)throw new Error(`.${e}() expects ${r-1} inputs but got ${c.length}.`);return c=c.map(H),a(...c,this)},r>1&&(_.prototype["_"+e]=function(...c){const l=t(...c,this);return i&&l.setSteps(this._steps),l});const o=Fe(a,null,r);return ur[e]=o,o}function Zi(e,t,n=!0,i=!1,s=r=>r.stepJoin()){return k(e,t,n,i,s)}const a2=k("round",function(e){return e.asNumber().fmap(t=>Math.round(t))}),u2=k("floor",function(e){return e.asNumber().fmap(t=>Math.floor(t))}),o2=k("ceil",function(e){return e.asNumber().fmap(t=>Math.ceil(t))}),c2=k("toBipolar",function(e){return e.fmap(t=>t*2-1)}),l2=k("fromBipolar",function(e){return e.fmap(t=>(t+1)/2)}),d2=k("range",function(e,t,n){return n.mul(t-e).add(e)}),h2=k("rangex",function(e,t,n){return n._range(Math.log(e),Math.log(t)).fmap(Math.exp)}),p2=k("range2",function(e,t,n){return n.fromBipolar()._range(e,t)}),m2=k("ratio",e=>e.fmap(t=>Array.isArray(t)?t.slice(1).reduce((n,i)=>n/i,t[0]):t)),f2=k("compress",function(e,t,n){return e=U(e),t=U(t),e.gt(t)||e.gt(1)||t.gt(1)||e.lt(0)||t.lt(0)?Te:n._fastGap(U(1).div(t.sub(e)))._late(e)}),{compressSpan:y2,compressspan:g2}=k(["compressSpan","compressspan"],function(e,t){return t._compress(e.begin,e.end)}),{fastGap:b2,fastgap:M2}=k(["fastGap","fastgap"],function(e,t){const n=function(s){const r=s.begin.sam(),a=s.begin.sub(r).mul(e).min(1),o=s.end.sub(r).mul(e).min(1);if(!(a>=1))return new ut(r.add(a),r.add(o))},i=function(s){const r=s.part.begin,a=s.part.end,o=r.sam(),c=r.sub(o).div(e).min(1),l=a.sub(o).div(e).min(1),d=new ut(o.add(c),o.add(l)),m=s.whole?new ut(d.begin.sub(r.sub(s.whole.begin).div(e)),d.end.add(s.whole.end.sub(a).div(e))):void 0;return new Qe(m,d,s.value,s.context)};return t.withQuerySpanMaybe(n).withHap(i).splitQueries()}),C2=k("focus",function(e,t,n){return e=U(e),t=U(t),n._early(e.sam())._fast(U(1).div(t.sub(e)))._late(e)}),{focusSpan:v2,focusspan:P2}=k(["focusSpan","focusspan"],function(e,t){return t._focus(e.begin,e.end)}),G2=k("ply",function(e,t){const n=t.fmap(i=>je(i)._fast(e)).squeezeJoin();return Wt&&(n._steps=U(e).mulmaybe(t._steps)),n}),{fast:A2,density:NB}=k(["fast","density"],function(e,t){return e===0?Te:(e=U(e),t.withQueryTime(i=>i.mul(e)).withHapTime(i=>i.div(e)).setSteps(t._steps))},!0,!0),F2=k("hurry",function(e,t){return t._fast(e).mul(je({speed:e}))}),{slow:w2,sparsity:D2}=k(["slow","sparsity"],function(e,t){return e===0?Te:t._fast(U(1).div(e))}),X2=k("inside",function(e,t,n){return t(n._slow(e))._fast(e)}),S2=k("outside",function(e,t,n){return t(n._fast(e))._slow(e)}),Z2=k("lastOf",function(e,t,n){const i=Array(e-1).fill(n);return i.push(t(n)),lr(...i)}),{firstOf:E2,every:L2}=k(["firstOf","every"],function(e,t,n){const i=Array(e-1).fill(n);return i.unshift(t(n)),lr(...i)}),x2=k("apply",function(e,t){return e(t)}),R2=k("cpm",function(e,t){return t._fast(e/60/1)}),B2=k("early",function(e,t){return e=U(e),t.withQueryTime(n=>n.add(e)).withHapTime(n=>n.sub(e))},!0,!0),pu=k("late",function(e,t){return e=U(e),t._early(U(0).sub(e))},!0,!0),k2=k("zoom",function(e,t,n){if(t=U(t),e=U(e),e.gte(t))return Bt;const i=t.sub(e),s=Wt?n._steps?.mulmaybe(i):void 0;return n.withQuerySpan(r=>r.withCycle(a=>a.mul(i).add(e))).withHapSpan(r=>r.withCycle(a=>a.sub(e).div(i))).splitQueries().setSteps(s)}),{zoomArc:V2,zoomarc:z2}=k(["zoomArc","zoomarc"],function(e,t){return t.zoom(e.begin,e.end)}),N2=k("bite",(e,t,n)=>t.fmap(i=>s=>{const r=U(i).div(s).mod(1),a=r.add(U(1).div(s));return n.zoom(r,a)}).appLeft(e).squeezeJoin(),!1),W2=k("linger",function(e,t){return e==0?Te:e<0?t._zoom(e.add(1),1)._slow(e):t._zoom(0,e)._slow(e)},!0,!0),{segment:T2,seg:I2}=k(["segment","seg"],function(e,t){return t.struct(je(!0)._fast(e)).setSteps(e)}),_2=k("swingBy",(e,t,n)=>n.inside(t,pu(du(0,e/2)))),Y2=k("swing",(e,t)=>t.swingBy(1/3,e)),{invert:H2,inv:K2}=k(["invert","inv"],function(e){return e.fmap(t=>!t)},!0,!0),j2=k("when",function(e,t,n){return e?t(n):n}),O2=k("off",function(e,t,n){return qe(n,t(n.late(e)))}),U2=k("brak",function(e){return e.when(Xn(!1,!0),t=>Ct(t,Te)._late(.25))}),mu=k("rev",function(e){const t=function(n){const i=n.span,s=i.begin.sam(),r=i.begin.nextSam(),a=function(c){const l=c.withTime(m=>s.add(r.sub(m))),d=l.begin;return l.begin=l.end,l.end=d,l};return e.query(n.setSpan(a(i))).map(c=>c.withSpan(a))};return new _(t).splitQueries()},!1,!0),J2=k("revv",function(e){const t=n=>new ut(U(0).sub(n.end),U(0).sub(n.begin));return e.withQuerySpan(t).withHapSpan(t)}),Q2=k("pressBy",function(e,t){return t.fmap(n=>je(n).compress(e,1)).squeezeJoin()}),q2=k("press",function(e){return e._pressBy(.5)});_.prototype.hush=function(){return Te};const $2=k("palindrome",function(e){return e.lastOf(2,mu)},!0,!0),{juxBy:eM,juxby:tM}=k(["juxBy","juxby"],function(e,t,n){e/=2;const i=function(a,o,c){return o in a?a[o]:c},s=n.withValue(a=>Object.assign({},a,{pan:i(a,"pan",.5)-e})),r=t(n.withValue(a=>Object.assign({},a,{pan:i(a,"pan",.5)+e})));return qe(s,r).setSteps(Wt?sn(s._steps,r._steps):void 0)}),nM=k("jux",function(e,t){return t._juxBy(1,e,t)}),{echoWith:iM,echowith:sM,stutWith:rM,stutwith:aM}=k(["echoWith","echowith","stutWith","stutwith"],function(e,t,n,i){return qe(...Xi(0,e-1).map(s=>n(i.late(U(t).mul(s)),s)))}),uM=k("echo",function(e,t,n,i){return i._echoWith(e,t,(s,r)=>s.gain(Math.pow(n,r)))}),oM=k("stut",function(e,t,n,i){return i._echoWith(e,n,(s,r)=>s.gain(Math.pow(t,r)))}),fu=k("applyN",function(e,t,n){let i=n;for(let s=0;s<e;s++)i=t(i);return i}),cM=k(["plyWith","plywith"],function(e,t,n){const i=n.fmap(s=>Si(...Xi(0,e-1).map(r=>fu(r,t,s)))._fast(e)).squeezeJoin();return Wt&&(i._steps=U(e).mulmaybe(n._steps)),i}),lM=k(["plyForEach","plyforeach"],function(e,t,n){const i=n.fmap(s=>Si(Si(je(s),...Xi(1,e-1).map(r=>t(je(s),r))))._fast(e)).squeezeJoin();return Wt&&(i._steps=U(e).mulmaybe(n._steps)),i}),yu=function(e,t,n=!1){return e=U(e),Xn(...Xi(0,e.sub(1)).map(i=>n?t.late(U(i).div(e)):t.early(U(i).div(e))))},dM=k("iter",function(e,t){return yu(e,t,!1)},!0,!0),{iterBack:hM,iterback:pM}=k(["iterBack","iterback"],function(e,t){return yu(e,t,!0)},!0,!0),{repeatCycles:mM}=k("repeatCycles",function(e,t){return new _(function(n){const i=n.span.begin.sam(),s=i.div(e).sam(),r=i.sub(s);return n=n.withSpan(a=>a.withTime(o=>o.sub(r))),t.query(n).map(a=>a.withSpan(o=>o.withTime(c=>c.add(r))))}).splitQueries()},!0,!0),gu=function(e,t,n,i=!1,s=!1){const r=Array(e-1).fill(!1);r.unshift(!0);const a=yu(e,Yt(...r),!i);return s||(n=n.repeatCycles(e)),n.when(a,t)},{chunk:fM,slowchunk:yM,slowChunk:gM}=k(["chunk","slowchunk","slowChunk"],function(e,t,n){return gu(e,t,n,!1,!1)},!0,!0),{chunkBack:bM,chunkback:MM}=k(["chunkBack","chunkback"],function(e,t,n){return gu(e,t,n,!0)},!0,!0),{fastchunk:CM,fastChunk:vM}=k(["fastchunk","fastChunk"],function(e,t,n){return gu(e,t,n,!1,!0)},!0,!0),{chunkinto:PM,chunkInto:GM}=k(["chunkinto","chunkInto"],function(e,t,n){return n.into(Ct(!0,...Array(e-1).fill(!1))._iterback(e),t)}),{chunkbackinto:AM,chunkBackInto:FM}=k(["chunkbackinto","chunkBackInto"],function(e,t,n){return n.into(Ct(!0,...Array(e-1).fill(!1))._iter(e)._early(1),t)}),wM=k("bypass",function(e,t){return e=!!parseInt(e),e?Te:t},!0,!0),{ribbon:DM,rib:XM}=k(["ribbon","rib"],(e,t,n)=>n.early(e).restart(je(1).slow(t))),SM=k("hsla",(e,t,n,i,s)=>s.color(`hsla(${e}turn,${t*100}%,${n*100}%,${i})`)),ZM=k("hsl",(e,t,n,i)=>i.color(`hsl(${e}turn,${t*100}%,${n*100}%)`));_.prototype.tag=function(e){return this.withContext(t=>({...t,tags:(t.tags||[]).concat([e])}))};const EM=k("filter",(e,t)=>t.withHaps(n=>n.filter(e))),LM=k("filterWhen",(e,t)=>t.filter(n=>e(n.whole.begin))),xM=k("within",(e,t,n,i)=>qe(n(i.filterWhen(s=>s.cyclePos()>=e&&s.cyclePos()<=t)),i.filterWhen(s=>s.cyclePos()<e||s.cyclePos()>t)));_.prototype.stepJoin=function(){const e=this,t=Zt(...dr(hr(e.queryArc(0,1))))._steps,n=function(i){const r=e.early(i.span.begin.sam()).query(i.setSpan(new ut(U(0),U(1))));return Zt(...dr(hr(r))).query(i)};return new _(n,t)},_.prototype.stepBind=function(e){return this.fmap(e).stepJoin()};function dr(e){const t=e.filter((r,a)=>a.hasSteps).reduce((r,a)=>r.add(a),U(0)),n=Hn(e.map((r,a)=>a._steps)).reduce((r,a)=>r.add(a),U(0)),i=t.eq(0)?void 0:n.div(t);function s(r,a){return a._steps===void 0?[r.mulmaybe(i),a]:[a._steps,a]}return e.map(r=>s(...r))}function hr(e){const t=yn(e.map(s=>[s.part.begin,s.part.end])),n=Ja([U(0),U(1),...t]);return Ua(n).map(s=>[s[1].sub(s[0]),qe(...bu(new ut(...s),e).map(r=>r.value.withHap(a=>a.setContext(a.combineContext(r)))))])}function bu(e,t){return Hn(t.map(n=>Mu(e,n)))}function Mu(e,t){const n=e.intersection(t.part);if(n!=null)return new Qe(t.whole,n,t.value,t.context)}const Cu=k("pace",function(e,t){return t._steps===void 0?t:t._steps.eq(U(0))?Bt:t._fast(U(e).div(t._steps)).setSteps(e)});function vu(e,...t){const n=t.map(s=>hu(s));if(n.length==0)return Te;e==0&&(e=n[0][1]);const i=[];for(const s of n)s[1]!=0&&(e==s[1]?i.push(s[0]):i.push(s[0]._fast(U(e).div(U(s[1])))));return qe(...i)}function hs(...e){if(Array.isArray(e[0]))return vu(0,...e);if(e=e.filter(i=>i.hasSteps),e.length==0)return Te;const t=sn(...e.map(i=>i._steps));if(t.eq(U(0)))return Bt;const n=qe(...e.map(i=>i.pace(t)));return n._steps=t,n}function Zt(...e){if(e.length===0)return Bt;const t=a=>Array.isArray(a)?a:[a._steps??1,a];if(e=e.map(t),e.find(a=>a[0]===void 0)){const a=e.map(c=>c[0]).filter(c=>c!==void 0);if(a.length===0)return Ct(...e.map(c=>c[1]));if(a.length===e.length)return Bt;const o=a.reduce((c,l)=>c.add(l),U(0)).div(a.length);for(let c of e)c[0]===void 0&&(c[0]=o)}if(e.length==1)return H(e[0][1]).withSteps(o=>e[0][0]);const n=e.map(a=>a[0]).reduce((a,o)=>a.add(o),U(0));let i=U(0);const s=[];for(const[a,o]of e){if(U(a).eq(0))continue;const c=i.add(a);s.push(H(o)._compress(i.div(n),c.div(n))),i=c}const r=qe(...s);return r._steps=n,r}function Pu(...e){e=e.map(s=>Array.isArray(s)?s.map(H):[H(s)]);const t=sn(...e.map(s=>U(s.length)));let n=[];for(let s=0;s<t;++s)n.push(...e.map(r=>r.length==0?Te:r[s%r.length]));n=n.filter(s=>s.hasSteps&&s._steps>0);const i=n.reduce((s,r)=>s.add(r._steps),U(0));return n=Zt(...n),n._steps=i,n}const Gu=Zi("take",function(e,t){if(!t.hasSteps||t._steps.lte(0)||(e=U(e),e.eq(0)))return Bt;const n=e<0;n&&(e=e.abs());const i=e.div(t._steps);return i.lte(0)?Bt:i.gte(1)?t:n?t.zoom(U(1).sub(i),1):t.zoom(0,i)}),Au=Zi("drop",function(e,t){return t.hasSteps?(e=U(e),e.lt(0)?t.take(t._steps.add(e)):t.take(U(0).sub(t._steps.sub(e)))):Bt}),Fu=Zi("extend",function(e,t){return t.fast(e).expand(e)}),RM=Zi("replicate",function(e,t){return t.repeatCycles(e).fast(e).expand(e)}),wu=Zi("expand",function(e,t){return t.withSteps(n=>n.mul(U(e)))}),Du=Zi("contract",function(e,t){return t.withSteps(n=>n.div(U(e)))});_.prototype.shrinklist=function(e){const t=this;if(!t.hasSteps)return[t];let[n,i]=Array.isArray(e)?e:[e,t._steps];if(n=U(n),i===0||n===0)return[t];const s=n>0,r=[];if(s){const a=U(1).div(t._steps).mul(n);for(let o=0;o<i;++o){const c=a.mul(o);if(c.gt(1))break;r.push([c,1])}}else{n=U(0).sub(n);const a=U(1).div(t._steps).mul(n);for(let o=0;o<i;++o){const c=U(1).sub(a.mul(o));if(c.lt(0))break;r.push([U(0),c])}}return r.map(a=>t.zoom(...a))};const Xu=(e,t)=>t.shrinklist(e),Su=k("shrink",function(e,t){if(!t.hasSteps)return Bt;const n=t.shrinklist(e),i=Zt(...n);return i._steps=n.reduce((s,r)=>s.add(r._steps),U(0)),i},!0,!1,e=>e.stepJoin()),BM=k("grow",function(e,t){if(!t.hasSteps)return Bt;const n=t.shrinklist(U(0).sub(e));n.reverse();const i=Zt(...n);return i._steps=n.reduce((s,r)=>s.add(r._steps),U(0)),i},!0,!1,e=>e.stepJoin()),Zu=function(e,...t){return e.tour(...t)};_.prototype.tour=function(...e){return Zt(...[].concat(...e.map((t,n)=>[...e.slice(0,e.length-n),this,...e.slice(e.length-n)]),this,...e))};const Eu=function(...e){e=e.filter(i=>i.hasSteps);const t=Xn(...e.map(i=>i._slow(i._steps))),n=sn(...e.map(i=>i._steps));return t._fast(n).setSteps(n)},kM=Zt,pr=Zt,VM=Zt,zM=Pu,NM=hs;_.prototype.s_polymeter=_.prototype.polymeter;const WM=Su;_.prototype.s_taper=_.prototype.shrink;const TM=Xu;_.prototype.s_taperlist=_.prototype.shrinklist;const IM=Gu;_.prototype.s_add=_.prototype.take;const _M=Au;_.prototype.s_sub=_.prototype.drop;const YM=wu;_.prototype.s_expand=_.prototype.expand;const HM=Fu;_.prototype.s_extend=_.prototype.extend;const KM=Du;_.prototype.s_contract=_.prototype.contract;const jM=Zu;_.prototype.s_tour=_.prototype.tour;const OM=Eu;_.prototype.s_zip=_.prototype.zip;const UM=Cu;_.prototype.steps=_.prototype.pace;const JM=k("chop",function(e,t){const i=Array.from({length:e},(a,o)=>o).map(a=>({begin:a/e,end:(a+1)/e})),s=function(a,o){if("begin"in a&&"end"in a&&a.begin!==void 0&&a.end!==void 0){const c=a.end-a.begin;o={begin:a.begin+o.begin*c,end:a.begin+o.end*c}}return Object.assign({},a,o)},r=function(a){return Yt(i.map(o=>s(a,o)))};return t.squeezeBind(r).setSteps(Wt?U(e).mulmaybe(t._steps):void 0)}),QM=k("striate",function(e,t){const i=Array.from({length:e},(r,a)=>a).map(r=>({begin:r/e,end:(r+1)/e})),s=Xn(...i);return t.set(s)._fast(e).setSteps(Wt?U(e).mulmaybe(t._steps):void 0)}),qM=function(e,t,n=.5){return t.speed(1/e*n).unit("c").slow(e)},Lu=k("slice",function(e,t,n){return e.innerBind(i=>t.outerBind(s=>n.outerBind(r=>{r=r instanceof Object?r:{s:r};const a=Array.isArray(i)?i[s]:s/i,o=Array.isArray(i)?i[s+1]:(s+1)/i;return je({begin:a,end:o,_slices:i,...r})}))).setSteps(t._steps)},!1);_.prototype.onTriggerTime=function(e){return this.onTrigger((t,n,i,s)=>{const r=s-n;window.setTimeout(()=>{e(t)},r*1e3)},!1)};const $M=k("splice",function(e,t,n){const i=Lu(e,t,n);return new _(s=>{const r=s.controls._cps||1;return i.query(s).map(o=>o.withValue(c=>({speed:r/c._slices/o.whole.duration*(c.speed||1),unit:"c",...c})))}).setSteps(t._steps)},!1),{loopAt:e3,loopat:t3}=k(["loopAt","loopat"],function(e,t){const n=t._steps?t._steps.div(e):void 0;return new _(i=>qM(e,t,i.controls._cps).query(i),n)}),n3=k("fit",e=>e.withHaps((t,n)=>t.map(i=>i.withValue(s=>{const r=("end"in s?s.end:1)-("begin"in s?s.begin:0);return{...s,speed:(n.controls._cps||1)/i.whole.duration*r,unit:"c"}})))),{loopAtCps:i3,loopatcps:s3}=k(["loopAtCps","loopatcps"],function(e,t,n){return qM(e,n,t)}),r3=e=>je(1).withValue(()=>H(e())).innerJoin();let a3=e=>e<.5?1:1-(e-.5)/.5,xu=(e,t,n)=>{t=H(t),e=H(e),n=H(n);let i=t.fmap(r=>({gain:a3(r)})),s=t.fmap(r=>({gain:a3(1-r)}));return qe(e.mul(i),n.mul(s))};_.prototype.xfade=function(e,t){return xu(this,e,t)};const BA=e=>(t,n,i)=>{t=U(t).mod(n),n=U(n);const s=t.div(n),r=t.add(1).div(n);return e(i.fmap(a=>je(a)._compress(s,r)))},{beat:u3}=k(["beat"],BA(e=>e.innerJoin())),mr=(e,t,n)=>{n=U(n);const i=U(1).div(e.length),s=o=>{const c=[];for(const[l,d]of o.entries())d&&c.push([U(l).div(o.length),d]);return c},r=os(([o,c],[l,d])=>{const m=n.mul(l-o).add(o),f=m.add(i);return new ut(m,f)},s(e),s(t));function a(o){const c=o.span.begin.sam(),l=o.span.cycleArc(),d=[];for(const m of r){const f=m.intersection(l);f!==void 0&&d.push(new Qe(m.withTime(b=>b.add(c)),f.withTime(b=>b.add(c)),!0))}return d}return new _(a).splitQueries()},o3=(e,t,n)=>(e=H(e),t=H(t),n=H(n),e.innerBind(i=>t.innerBind(s=>n.innerBind(r=>mr(i,s,r))))),Kn=function(e){const t=function(n,i){const s=H(n).fmap(r=>Array.isArray(r)?[...r,e]:[r,1,e]);return i?i.distort(s):je({}).distort(s)};return _.prototype[e]=function(n){return t(n,this)},t},c3=Kn("soft"),l3=Kn("hard"),d3=Kn("cubic"),h3=Kn("diode"),p3=Kn("asym"),m3=Kn("fold"),f3=Kn("sinefold"),y3=Kn("chebyshev"),fr=e=>{let n=je(Fe((...i)=>i,null,e.length));for(const i of e)n=n.appBoth(H(i));return n},yr=e=>Array.isArray(e)?fr(e):H(e);_.prototype.partials=function(e){return this.withValue(t=>n=>({...t,partials:n})).appLeft(yr(e))};const g3=e=>yr(e).as("partials");_.prototype.phases=function(e){return this.withValue(t=>n=>({...t,phases:n})).appLeft(yr(e))};const b3=e=>yr(e).as("phases");_.prototype.FX=function(...e){return e=e.map(H),this.withValue(t=>n=>{const i=t.FX??[];return{...t,FX:i.concat(n)}}).appLeft(fr(e))};const kA=e=>{let n=je(Fe((...i)=>i,null,e.length));for(const i of e)n=n.appLeft(i);return n};_.prototype.worklet=function(e,...t){return t=t.map(H),this.outerBind(n=>kA(t).withValue(i=>{const s=n.workletInputs??[];return{...n,workletSrc:e,workletInputs:s.concat(i)}}))};const M3=(...e)=>je({}).worklet(...e);function ps(e){let t=Array.isArray(e);e=t?e:[e];const n=e[0],i=r=>{let a;if(typeof r=="object"&&r.value!==void 0&&(a={...r},r=r.value,delete a.value),t&&Array.isArray(r)){const o=a||{};return r.forEach((c,l)=>{l<e.length&&(o[e[l]]=c)}),o}else return a?(a[n]=r,a):{[n]:r}},s=function(r,a){return a?typeof r>"u"?a.fmap(i):a.set(H(r).withValue(i)):H(r).withValue(i)};return _.prototype[n]=function(r){return s(r,this)},s}const ms=new Map;function Ru(e){return ms.has(e)}function w(e,...t){const n=Array.isArray(e)?e[0]:e;let i={};return i[n]=ps(e),ms.set(n,n),t.forEach(s=>{i[s]=i[n],ms.set(s,n),_.prototype[s]=_.prototype[n]}),i}function rn(e,t,...n){e=Array.isArray(e)?e:[e];let i={};for(let s=1;s<=t;s++){let r=[...n],a=[...e];if(s===1){const c=r.map(d=>`${d}1`),l=a.map(d=>`${d}1`);r=r.concat(c).concat(l)}else r=r.map(c=>`${c}${s}`),a=a.map(c=>`${c}${s}`);const o=w(a,...r);i={...i,...o}}return i}const{s:Bu,sound:ku}=w(["s","n","gain"],"sound"),{wt:Vu,wavetablePosition:zu}=w("wt","wavetablePosition"),{wtenv:Nu}=w("wtenv"),{wtattack:Wu,wtatt:Tu}=w("wtattack","wtatt"),{wtdecay:Iu,wtdec:_u}=w("wtdecay","wtdec"),{wtsustain:Yu,wtsus:Hu}=w("wtsustain","wtsus"),{wtrelease:Ku,wtrel:ju}=w("wtrelease","wtrel"),{wtrate:Ou}=w("wtrate"),{wtsync:Uu}=w("wtsync"),{wtdepth:Ju}=w("wtdepth"),{wtshape:Qu}=w("wtshape"),{wtdc:qu}=w("wtdc"),{wtskew:$u}=w("wtskew"),{warp:eo,wavetableWarp:to}=w("warp","wavetableWarp"),{warpattack:no,warpatt:io}=w("warpattack","warpatt"),{warpdecay:so,warpdec:ro}=w("warpdecay","warpdec"),{warpsustain:ao,warpsus:uo}=w("warpsustain","warpsus"),{warprelease:oo,warprel:co}=w("warprelease","warprel"),{warprate:lo}=w("warprate"),{warpdepth:ho}=w("warpdepth"),{warpshape:po}=w("warpshape"),{warpdc:mo}=w("warpdc"),{warpskew:fo}=w("warpskew"),{warpmode:yo,wavetableWarpMode:go}=w("warpmode","wavetableWarpMode"),{wtphaserand:bo,wavetablePhaseRand:Mo}=w("wtphaserand","wavetablePhaseRand"),{warpenv:Co}=w("warpenv"),{warpsync:vo}=w("warpsync"),{source:Po,src:Go}=w("source","src"),{n:Ao}=w("n"),{note:Fo}=w(["note","n"]),{accelerate:wo}=w("accelerate"),{velocity:Do,vel:Xo}=w("velocity","vel"),{gain:So}=w("gain"),{postgain:Zo}=w("postgain"),{amp:Eo}=w("amp"),{attack:Lo,att:xo}=w("attack","att"),{fmh:Ro,fmh1:Bo,fmh2:ko,fmh3:Vo,fmh4:zo,fmh5:No,fmh6:Wo,fmh7:To,fmh8:Io}=rn(["fmh","fmi"],8,"fmh"),{fmi:_o,fmi1:Yo,fmi2:Ho,fmi3:Ko,fmi4:jo,fmi5:Oo,fmi6:Uo,fmi7:Jo,fmi8:Qo,fm:qo,fm1:$o,fm2:ec,fm3:tc,fm4:nc,fm5:ic,fm6:sc,fm7:rc,fm8:ac}=rn(["fmi","fmh"],8,"fm"),{fmenv:uc,fmenv1:oc,fmenv2:cc,fmenv3:lc,fmenv4:dc,fmenv5:hc,fmenv6:pc,fmenv7:mc,fmenv8:fc}=rn("fmenv",8),{fmattack:yc,fmattack1:gc,fmattack2:bc,fmattack3:Mc,fmattack4:Cc,fmattack5:vc,fmattack6:Pc,fmattack7:Gc,fmattack8:Ac,fmatt:Fc,fmatt1:wc,fmatt2:Dc,fmatt3:Xc,fmatt4:Sc,fmatt5:Zc,fmatt6:Ec,fmatt7:Lc,fmatt8:xc}=rn("fmattack",8,"fmatt"),{fmwave:Rc,fmwave1:Bc,fmwave2:kc,fmwave3:Vc,fmwave4:zc,fmwave5:Nc,fmwave6:Wc,fmwave7:Tc,fmwave8:Ic}=rn("fmwave",8),{fmdecay:_c,fmdecay1:Yc,fmdecay2:Hc,fmdecay3:Kc,fmdecay4:jc,fmdecay5:Oc,fmdecay6:Uc,fmdecay7:Jc,fmdecay8:Qc,fmdec:qc,fmdec1:$c,fmdec2:el,fmdec3:tl,fmdec4:nl,fmdec5:il,fmdec6:sl,fmdec7:rl,fmdec8:al}=rn("fmdecay",8,"fmdec"),{fmsustain:ul,fmsustain1:ol,fmsustain2:cl,fmsustain3:ll,fmsustain4:dl,fmsustain5:hl,fmsustain6:pl,fmsustain7:ml,fmsustain8:fl,fmsus:yl,fmsus1:gl,fmsus2:bl,fmsus3:Ml,fmsus4:Cl,fmsus5:vl,fmsus6:Pl,fmsus7:Gl,fmsus8:Al}=rn("fmsustain",8,"fmsus"),{fmrelease:Fl,fmrelease1:wl,fmrelease2:Dl,fmrelease3:Xl,fmrelease4:Sl,fmrelease5:Zl,fmrelease6:El,fmrelease7:Ll,fmrelease8:xl,fmrel:Rl,fmrel1:Bl,fmrel2:kl,fmrel3:Vl,fmrel4:zl,fmrel5:Nl,fmrel6:Wl,fmrel7:Tl,fmrel8:Il}=rn("fmrelease",8,"fmrel");for(let e=0;e<=8;e++)for(let t=0;t<=8;t++)w(`fmi${e}${t}`,`fm${e}${t}`);const{bank:_l}=w("bank"),{chorus:Yl}=w("chorus"),{analyze:Hl}=w("analyze"),{fft:Kl}=w("fft"),{decay:jl,dec:Ol}=w("decay","dec"),{sustain:Ul,sus:Jl}=w("sustain","sus"),{release:Ql,rel:ql}=w("release","rel"),{hold:$l}=w("hold"),{bandf:e0,bpf:t0,bp:n0}=w(["bandf","bandq","bpenv"],"bpf","bp"),{bandq:i0,bpq:s0}=w("bandq","bpq"),{begin:r0}=w("begin"),{end:a0}=w("end"),{loop:u0}=w("loop"),{loopBegin:o0,loopb:c0}=w("loopBegin","loopb"),{loopEnd:l0,loope:d0}=w("loopEnd","loope"),{crush:h0}=w("crush"),{coarse:p0}=w("coarse"),{tremolo:m0,trem:f0}=w(["tremolo","tremolodepth","tremoloskew","tremolophase"],"trem"),{tremolosync:y0}=w(["tremolosync","tremolodepth","tremoloskew","tremolophase"],"tremsync"),{tremolodepth:g0}=w("tremolodepth","tremdepth"),{tremoloskew:b0}=w("tremoloskew","tremskew"),{tremolophase:M0}=w("tremolophase","tremphase"),{tremoloshape:C0}=w("tremoloshape","tremshape"),{drive:v0}=w("drive"),{duck:P0}=w("duckorbit","duck"),{duckdepth:G0}=w("duckdepth"),{duckonset:A0}=w("duckonset","duckons"),{duckattack:F0}=w("duckattack","duckatt"),{byteBeatExpression:w0,bbexpr:D0}=w("byteBeatExpression","bbexpr"),{byteBeatStartTime:X0,bbst:S0}=w("byteBeatStartTime","bbst"),{channels:Z0,ch:E0}=w("channels","ch"),{pw:L0}=w(["pw","pwrate","pwsweep"]),{pwrate:x0}=w("pwrate"),{pwsweep:R0}=w("pwsweep"),{phaserrate:B0,ph:k0,phaser:V0}=w(["phaserrate","phaserdepth","phasercenter","phasersweep"],"ph","phaser"),{phasersweep:z0,phs:N0}=w("phasersweep","phs"),{phasercenter:W0,phc:T0}=w("phasercenter","phc"),{phaserdepth:I0,phd:_0,phasdp:Y0}=w("phaserdepth","phd","phasdp"),{channel:H0}=w("channel"),{cut:K0}=w("cut"),{cutoff:j0,ctf:O0,lpf:U0,lp:J0}=w(["cutoff","resonance","lpenv"],"ctf","lpf","lp"),{lpenv:Q0,lpe:q0}=w("lpenv","lpe"),{hpenv:$0,hpe:ed}=w("hpenv","hpe"),{bpenv:td,bpe:nd}=w("bpenv","bpe"),{lpattack:id,lpa:sd}=w("lpattack","lpa"),{hpattack:rd,hpa:ad}=w("hpattack","hpa"),{bpattack:ud,bpa:od}=w("bpattack","bpa"),{lpdecay:cd,lpd:ld}=w("lpdecay","lpd"),{hpdecay:dd,hpd:hd}=w("hpdecay","hpd"),{bpdecay:pd,bpd:md}=w("bpdecay","bpd"),{lpsustain:fd,lps:yd}=w("lpsustain","lps"),{hpsustain:gd,hps:bd}=w("hpsustain","hps"),{bpsustain:Md,bps:Cd}=w("bpsustain","bps"),{lprelease:vd,lpr:Pd}=w("lprelease","lpr"),{hprelease:Gd,hpr:Ad}=w("hprelease","hpr"),{bprelease:Fd,bpr:wd}=w("bprelease","bpr"),{ftype:Dd}=w("ftype"),{fanchor:Xd}=w("fanchor"),{lprate:Sd}=w("lprate"),{lpsync:Zd}=w("lpsync"),{lpdepth:Ed}=w("lpdepth"),{lpdepthfrequency:Ld,lpdepthfreq:xd}=w("lpdepthfrequency","lpdepthfreq"),{lpshape:Rd}=w("lpshape"),{lpdc:Bd}=w("lpdc"),{lpskew:kd}=w("lpskew"),{bprate:Vd}=w("bprate"),{bpsync:zd}=w("bpsync"),{bpdepth:Nd}=w("bpdepth"),{bpdepthfrequency:Wd,bpdepthfreq:Td}=w("bpdepthfrequency","bpdepthfreq"),{bpshape:Id}=w("bpshape"),{bpdc:_d}=w("bpdc"),{bpskew:Yd}=w("bpskew"),{hprate:Hd}=w("hprate"),{hpsync:Kd}=w("hpsync"),{hpdepth:jd}=w("hpdepth"),{hpdepthfrequency:Od,hpdepthfreq:Ud}=w("hpdepthfrequency","hpdepthfreq"),{hpshape:Jd}=w("hpshape"),{hpdc:Qd}=w("hpdc"),{hpskew:qd}=w("hpskew"),{vib:$d,vibrato:eh,v:th}=w(["vib","vibmod"],"vibrato","v"),{noise:nh}=w("noise"),{vibmod:ih,vmod:sh}=w(["vibmod","vib"],"vmod"),{hcutoff:rh,hpf:ah,hp:uh}=w(["hcutoff","hresonance","hpenv"],"hpf","hp"),{hresonance:oh,hpq:ch}=w("hresonance","hpq"),{resonance:lh,lpq:dh}=w("resonance","lpq"),{djf:hh}=w("djf"),{delay:ph}=w(["delay","delaytime","delayfeedback"]),{delayfeedback:mh,delayfb:fh,dfb:yh}=w("delayfeedback","delayfb","dfb"),{delayspeed:gh}=w("delayspeed"),{delaytime:bh,delayt:Mh,dt:Ch}=w("delaytime","delayt","dt"),{delaysync:vh}=w("delaysync"),{lock:Ph}=w("lock"),{detune:Gh,det:Ah}=w("detune","det"),{unison:Fh}=w("unison"),{spread:wh}=w("spread"),{dry:Dh}=w("dry"),{fadeTime:Xh,fadeOutTime:Sh}=w("fadeTime","fadeOutTime"),{fadeInTime:Zh}=w("fadeInTime"),{freq:Eh}=w("freq"),{pattack:Lh,patt:xh}=w("pattack","patt"),{pdecay:Rh,pdec:Bh}=w("pdecay","pdec"),{psustain:kh,psus:Vh}=w("psustain","psus"),{prelease:zh,prel:Nh}=w("prelease","prel"),{penv:Wh}=w("penv"),{pcurve:Th}=w("pcurve"),{panchor:Ih}=w("panchor"),{gate:_h,gat:Yh}=w("gate","gat"),{leslie:Hh}=w("leslie"),{lrate:Kh}=w("lrate"),{lsize:jh}=w("lsize"),{activeLabel:Oh}=w("activeLabel"),{label:Uh}=w(["label","activeLabel"]),{degree:Jh}=w("degree"),{mtranspose:Qh}=w("mtranspose"),{ctranspose:qh}=w("ctranspose"),{harmonic:$h}=w("harmonic"),{stepsPerOctave:ep}=w("stepsPerOctave"),{octaveR:tp}=w("octaveR"),{nudge:np}=w("nudge"),{octave:ip,oct:sp}=w("octave","oct"),{orbit:rp}=w("orbit","o"),{bus:ap}=w("bus"),{busgain:up,bgain:op}=w("busgain","bgain"),{overgain:cp}=w("overgain"),{overshape:lp}=w("overshape"),{pan:dp}=w("pan"),{panspan:hp}=w("panspan"),{pansplay:pp}=w("pansplay"),{panwidth:mp}=w("panwidth"),{panorient:fp}=w("panorient"),{slide:yp}=w("slide"),{semitone:gp}=w("semitone"),{voice:bp}=w("voice"),{chord:Mp}=w("chord"),{dictionary:Cp,dict:vp}=w("dictionary","dict"),{anchor:Pp}=w("anchor"),{offset:Gp}=w("offset"),{octaves:Ap}=w("octaves"),{mode:Fp}=w(["mode","anchor"]),{room:wp}=w(["room","size"]),{roomlp:Dp,rlp:Xp}=w("roomlp","rlp"),{roomdim:Sp,rdim:Zp}=w("roomdim","rdim"),{roomfade:Ep,rfade:Lp}=w("roomfade","rfade"),{ir:xp,iresponse:Rp}=w(["ir","i"],"iresponse"),{irspeed:Bp}=w("irspeed"),{irbegin:kp}=w("irbegin"),{roomsize:Vp,size:zp,sz:Np,rsize:Wp}=w("roomsize","size","sz","rsize"),{shape:Tp}=w(["shape","shapevol"]),{distort:Ip,dist:_p}=w(["distort","distortvol","distorttype"],"dist"),{distortvol:Yp}=w("distortvol","distvol"),{distorttype:Hp}=w("distorttype","disttype"),{compressor:Kp}=w(["compressor","compressorRatio","compressorKnee","compressorAttack","compressorRelease"]),{compressorKnee:jp}=w("compressorKnee"),{compressorRatio:Op}=w("compressorRatio"),{compressorAttack:Up}=w("compressorAttack"),{compressorRelease:Jp}=w("compressorRelease"),{speed:gr}=w("speed"),{stretch:Qp}=w("stretch"),{unit:qp}=w("unit"),{squiz:$p}=w("squiz"),{vowel:em}=w("vowel"),{waveloss:tm}=w("waveloss"),{density:VA}=w("density"),{expression:nm}=w("expression"),{sustainpedal:im}=w("sustainpedal"),{fshift:sm}=w("fshift"),{fshiftnote:rm}=w("fshiftnote"),{fshiftphase:am}=w("fshiftphase"),{triode:um}=w("triode"),{krush:om}=w("krush"),{kcutoff:cm}=w("kcutoff"),{octer:lm}=w("octer"),{octersub:dm}=w("octersub"),{octersubsub:hm}=w("octersubsub"),{ring:pm}=w("ring"),{ringf:mm}=w("ringf"),{ringdf:fm}=w("ringdf"),{freeze:ym}=w("freeze"),{xsdelay:gm}=w("xsdelay"),{tsdelay:bm}=w("tsdelay"),{real:Mm}=w("real"),{imag:Cm}=w("imag"),{enhance:vm}=w("enhance"),{comb:Pm}=w("comb"),{smear:Gm}=w("smear"),{scram:Am}=w("scram"),{binshift:Fm}=w("binshift"),{hbrick:wm}=w("hbrick"),{lbrick:Dm}=w("lbrick"),{frameRate:Xm}=w("frameRate"),{frames:Sm}=w("frames"),{hours:Zm}=w("hours"),{minutes:Em}=w("minutes"),{seconds:Lm}=w("seconds"),{songPtr:xm}=w("songPtr"),{uid:Rm}=w("uid"),{val:Bm}=w("val"),{cps:km}=w("cps"),{clip:Vm,legato:zm}=w("clip","legato"),{duration:Nm,dur:Wm}=w("duration","dur"),{zrand:Tm}=w("zrand"),{curve:Im}=w("curve"),{deltaSlide:_m}=w("deltaSlide"),{pitchJump:Ym}=w("pitchJump"),{pitchJumpTime:Hm}=w("pitchJumpTime"),{znoise:Km}=w("znoise"),{zmod:jm}=w("zmod"),{zcrush:Om}=w("zcrush"),{zdelay:Um}=w("zdelay"),{zzfx:Jm}=w("zzfx"),{color:Qm,colour:qm}=w(["color","colour"]);let br=(...e)=>e.reduce((t,n)=>Object.assign(t,{[n]:ps(n)}),{});const $m=k("adsr",(e,t)=>{e=Array.isArray(e)?e:[e];const[n,i,s,r]=e;return t.set({attack:n,decay:i,sustain:s,release:r})}),ef=k("ad",(e,t)=>{e=Array.isArray(e)?e:[e];const[n,i=n]=e;return t.attack(n).decay(i)}),tf=k("ds",(e,t)=>{e=Array.isArray(e)?e:[e];const[n,i=0]=e;return t.set({decay:n,sustain:i})}),nf=k("ar",(e,t)=>{e=Array.isArray(e)?e:[e];const[n,i=n]=e;return t.set({attack:n,release:i})}),{midichan:sf}=w("midichan"),{midimap:rf}=w("midimap"),{midiport:af}=w("midiport"),{midicmd:uf}=w("midicmd"),of=k("control",(e,t)=>{if(!Array.isArray(e))throw new Error("control expects an array of [ccn, ccv]");const[n,i]=e;return t.ccn(n).ccv(i)}),{ccn:cf}=w("ccn"),{ccv:lf}=w("ccv"),{ctlNum:df}=w("ctlNum"),{nrpnn:hf}=w("nrpnn"),{nrpv:pf}=w("nrpv"),{progNum:mf}=w("progNum"),ff=k("sysex",(e,t)=>{if(!Array.isArray(e))throw new Error("sysex expects an array of [id, data]");const[n,i]=e;return t.sysexid(n).sysexdata(i)}),{sysexid:yf}=w("sysexid"),{sysexdata:gf}=w("sysexdata"),{midibend:bf}=w("midibend"),{miditouch:Mf}=w("miditouch"),{polyTouch:Cf}=w("polyTouch"),{oschost:vf}=w("oschost"),{oscport:Pf}=w("oscport"),Ei=e=>ms.has(e)?ms.get(e):e,Gf=k("as",(e,t)=>(e=Array.isArray(e)?e:[e],t.fmap(n=>{n=Array.isArray(n)?n:[n];const i=[];for(let s=0;s<e.length;++s)n[s]!==void 0&&i.push([Ei(e[s]),n[s]]);return Object.fromEntries(i)}))),Af=k("scrub",(e,t)=>e.outerBind(n=>{Array.isArray(n)||(n=[n]);const[i,s=1]=n;return t.begin(i).mul(gr(s)).clip(1)}),!1),Ff=new Map,zA=(e,t,...n)=>{const i=Ff.get(e)??new Map,s=new Set([t,...n]);for(const r of s)i.set(String(r).toLowerCase(),t);Ff.set(e,i)},wf=(e,t=[])=>{for(const[n,...i]of t)zA(e,n,...i)},NA=(e,t)=>{const n=Ff.get(e);return n?n.get(String(t).toLowerCase())??t:t};wf("lfo",[["control","c"],["subControl","sc"],["rate","r"],["depth","dep","dr"],["depthabs","da"],["dcoffset","dc"],["shape","sh"],["skew","sk"],["curve","cu"],["sync","s"],["fxi"]]),wf("env",[["control","c"],["subControl","sc"],["attack","att","a"],["decay","dec","d"],["sustain","sus","s"],["release","rel","r"],["depth","dep","dr"],["depthabs","da"],["acurve","ac"],["dcurve","dc"],["rcurve","rc"],["fxi"]]),wf("bmod",[["bus","b"],["control","c"],["subControl","sc"],["depth","dep","dr"],["depthabs","da"],["dc"],["fxi"]]),_.prototype.modulate=function(e,t,n){t={control:void 0,...t};const i=["lfo","env","bmod"];if(!i.includes(e))return mt(`[core] Modulation type ${e} not found. Please use one of 'lfo', 'env', 'bmod'`),this;let s=this,r;s=s.fmap(a=>o=>({v:a,id:o})).appLeft(H(n));for(const[a,o]of Object.entries(t)){const c=NA(e,a),l=H(o);s=s.fmap(({v:d,id:m})=>f=>{if(r===void 0){let g=Ei(Object.keys(d).at(-1));i.includes(g)&&(g=`${g}_${[...d[g].__ids].at(-1)}`),r=g}d[e]??={__ids:new Set};const b=d[e];return m??=b.__ids.size,b[m]??={control:r},b.__ids.add(m),f===void 0?{v:d,id:m}:(c==="control"||c==="subControl"?b[m][c]=Ei(f):b[m][c]=f,{v:d,id:m})}).appLeft(l)}return s.fmap(({v:a})=>a)},_.prototype.lfo=function(e,t){return this.modulate("lfo",e,t)};const Df=e=>je({}).lfo(e);_.prototype.env=function(e,t){return this.modulate("env",e,t)};const Xf=e=>je({}).env(e);_.prototype.bmod=function(e,t){return this.modulate("bmod",e,t)};const Sf=e=>je({}).bmod(e),{transient:Zf}=w(["transient","transsustain"]),{FXrelease:Ef,FXrel:Lf,FXr:xf,fxr:Rf}=w("FXrelease","FXrel","FXr","fxr"),C3=Object.freeze(Object.defineProperty({__proto__:null,FXr:xf,FXrel:Lf,FXrelease:Ef,accelerate:wo,activeLabel:Oh,ad:ef,adsr:$m,amp:Eo,analyze:Hl,anchor:Pp,ar:nf,as:Gf,att:xo,attack:Lo,bandf:e0,bandq:i0,bank:_l,bbexpr:D0,bbst:S0,begin:r0,bgain:op,binshift:Fm,bmod:Sf,bp:n0,bpa:od,bpattack:ud,bpd:md,bpdc:_d,bpdecay:pd,bpdepth:Nd,bpdepthfreq:Td,bpdepthfrequency:Wd,bpe:nd,bpenv:td,bpf:t0,bpq:s0,bpr:wd,bprate:Vd,bprelease:Fd,bps:Cd,bpshape:Id,bpskew:Yd,bpsustain:Md,bpsync:zd,bus:ap,busgain:up,byteBeatExpression:w0,byteBeatStartTime:X0,ccn:cf,ccv:lf,ch:E0,channel:H0,channels:Z0,chord:Mp,chorus:Yl,clip:Vm,coarse:p0,color:Qm,colour:qm,comb:Pm,compressor:Kp,compressorAttack:Up,compressorKnee:jp,compressorRatio:Op,compressorRelease:Jp,control:of,cps:km,createParam:ps,createParams:br,crush:h0,ctf:O0,ctlNum:df,ctranspose:qh,curve:Im,cut:K0,cutoff:j0,dec:Ol,decay:jl,degree:Jh,delay:ph,delayfb:fh,delayfeedback:mh,delayspeed:gh,delaysync:vh,delayt:Mh,delaytime:bh,deltaSlide:_m,density:VA,det:Ah,detune:Gh,dfb:yh,dict:vp,dictionary:Cp,dist:_p,distort:Ip,distorttype:Hp,distortvol:Yp,djf:hh,drive:v0,dry:Dh,ds:tf,dt:Ch,duck:P0,duckattack:F0,duckdepth:G0,duckonset:A0,dur:Wm,duration:Nm,end:a0,enhance:vm,env:Xf,expression:nm,fadeInTime:Zh,fadeOutTime:Sh,fadeTime:Xh,fanchor:Xd,fft:Kl,fm:qo,fm1:$o,fm2:ec,fm3:tc,fm4:nc,fm5:ic,fm6:sc,fm7:rc,fm8:ac,fmatt:Fc,fmatt1:wc,fmatt2:Dc,fmatt3:Xc,fmatt4:Sc,fmatt5:Zc,fmatt6:Ec,fmatt7:Lc,fmatt8:xc,fmattack:yc,fmattack1:gc,fmattack2:bc,fmattack3:Mc,fmattack4:Cc,fmattack5:vc,fmattack6:Pc,fmattack7:Gc,fmattack8:Ac,fmdec:qc,fmdec1:$c,fmdec2:el,fmdec3:tl,fmdec4:nl,fmdec5:il,fmdec6:sl,fmdec7:rl,fmdec8:al,fmdecay:_c,fmdecay1:Yc,fmdecay2:Hc,fmdecay3:Kc,fmdecay4:jc,fmdecay5:Oc,fmdecay6:Uc,fmdecay7:Jc,fmdecay8:Qc,fmenv:uc,fmenv1:oc,fmenv2:cc,fmenv3:lc,fmenv4:dc,fmenv5:hc,fmenv6:pc,fmenv7:mc,fmenv8:fc,fmh:Ro,fmh1:Bo,fmh2:ko,fmh3:Vo,fmh4:zo,fmh5:No,fmh6:Wo,fmh7:To,fmh8:Io,fmi:_o,fmi1:Yo,fmi2:Ho,fmi3:Ko,fmi4:jo,fmi5:Oo,fmi6:Uo,fmi7:Jo,fmi8:Qo,fmrel:Rl,fmrel1:Bl,fmrel2:kl,fmrel3:Vl,fmrel4:zl,fmrel5:Nl,fmrel6:Wl,fmrel7:Tl,fmrel8:Il,fmrelease:Fl,fmrelease1:wl,fmrelease2:Dl,fmrelease3:Xl,fmrelease4:Sl,fmrelease5:Zl,fmrelease6:El,fmrelease7:Ll,fmrelease8:xl,fmsus:yl,fmsus1:gl,fmsus2:bl,fmsus3:Ml,fmsus4:Cl,fmsus5:vl,fmsus6:Pl,fmsus7:Gl,fmsus8:Al,fmsustain:ul,fmsustain1:ol,fmsustain2:cl,fmsustain3:ll,fmsustain4:dl,fmsustain5:hl,fmsustain6:pl,fmsustain7:ml,fmsustain8:fl,fmwave:Rc,fmwave1:Bc,fmwave2:kc,fmwave3:Vc,fmwave4:zc,fmwave5:Nc,fmwave6:Wc,fmwave7:Tc,fmwave8:Ic,frameRate:Xm,frames:Sm,freeze:ym,freq:Eh,fshift:sm,fshiftnote:rm,fshiftphase:am,ftype:Dd,fxr:Rf,gain:So,gat:Yh,gate:_h,getControlName:Ei,harmonic:$h,hbrick:wm,hcutoff:rh,hold:$l,hours:Zm,hp:uh,hpa:ad,hpattack:rd,hpd:hd,hpdc:Qd,hpdecay:dd,hpdepth:jd,hpdepthfreq:Ud,hpdepthfrequency:Od,hpe:ed,hpenv:$0,hpf:ah,hpq:ch,hpr:Ad,hprate:Hd,hprelease:Gd,hps:bd,hpshape:Jd,hpskew:qd,hpsustain:gd,hpsync:Kd,hresonance:oh,imag:Cm,ir:xp,irbegin:kp,iresponse:Rp,irspeed:Bp,isControlName:Ru,kcutoff:cm,krush:om,label:Uh,lbrick:Dm,legato:zm,leslie:Hh,lfo:Df,lock:Ph,loop:u0,loopBegin:o0,loopEnd:l0,loopb:c0,loope:d0,lp:J0,lpa:sd,lpattack:id,lpd:ld,lpdc:Bd,lpdecay:cd,lpdepth:Ed,lpdepthfreq:xd,lpdepthfrequency:Ld,lpe:q0,lpenv:Q0,lpf:U0,lpq:dh,lpr:Pd,lprate:Sd,lprelease:vd,lps:yd,lpshape:Rd,lpskew:kd,lpsustain:fd,lpsync:Zd,lrate:Kh,lsize:jh,midibend:bf,midichan:sf,midicmd:uf,midimap:rf,midiport:af,miditouch:Mf,minutes:Em,mode:Fp,mtranspose:Qh,n:Ao,noise:nh,note:Fo,nrpnn:hf,nrpv:pf,nudge:np,oct:sp,octave:ip,octaveR:tp,octaves:Ap,octer:lm,octersub:dm,octersubsub:hm,offset:Gp,orbit:rp,oschost:vf,oscport:Pf,overgain:cp,overshape:lp,pan:dp,panchor:Ih,panorient:fp,panspan:hp,pansplay:pp,panwidth:mp,patt:xh,pattack:Lh,pcurve:Th,pdec:Bh,pdecay:Rh,penv:Wh,ph:k0,phasdp:Y0,phaser:V0,phasercenter:W0,phaserdepth:I0,phaserrate:B0,phasersweep:z0,phc:T0,phd:_0,phs:N0,pitchJump:Ym,pitchJumpTime:Hm,polyTouch:Cf,postgain:Zo,prel:Nh,prelease:zh,progNum:mf,psus:Vh,psustain:kh,pw:L0,pwrate:x0,pwsweep:R0,rdim:Zp,real:Mm,registerControl:w,registerMultiControl:rn,rel:ql,release:Ql,resonance:lh,rfade:Lp,ring:pm,ringdf:fm,ringf:mm,rlp:Xp,room:wp,roomdim:Sp,roomfade:Ep,roomlp:Dp,roomsize:Vp,rsize:Wp,s:Bu,scram:Am,scrub:Af,seconds:Lm,semitone:gp,shape:Tp,size:zp,slide:yp,smear:Gm,songPtr:xm,sound:ku,source:Po,speed:gr,spread:wh,squiz:$p,src:Go,stepsPerOctave:ep,stretch:Qp,sus:Jl,sustain:Ul,sustainpedal:im,sysex:ff,sysexdata:gf,sysexid:yf,sz:Np,transient:Zf,trem:f0,tremolo:m0,tremolodepth:g0,tremolophase:M0,tremoloshape:C0,tremoloskew:b0,tremolosync:y0,triode:um,tsdelay:bm,uid:Rm,unison:Fh,unit:qp,v:th,val:Bm,vel:Xo,velocity:Do,vib:$d,vibmod:ih,vibrato:eh,vmod:sh,voice:bp,vowel:em,warp:eo,warpatt:io,warpattack:no,warpdc:mo,warpdec:ro,warpdecay:so,warpdepth:ho,warpenv:Co,warpmode:yo,warprate:lo,warprel:co,warprelease:oo,warpshape:po,warpskew:fo,warpsus:uo,warpsustain:ao,warpsync:vo,waveloss:tm,wavetablePhaseRand:Mo,wavetablePosition:zu,wavetableWarp:to,wavetableWarpMode:go,wt:Vu,wtatt:Tu,wtattack:Wu,wtdc:qu,wtdec:_u,wtdecay:Iu,wtdepth:Ju,wtenv:Nu,wtphaserand:bo,wtrate:Ou,wtrel:ju,wtrelease:Ku,wtshape:Qu,wtskew:$u,wtsus:Hu,wtsustain:Yu,wtsync:Uu,xsdelay:gm,zcrush:Om,zdelay:Um,zmod:jm,znoise:Km,zrand:Tm,zzfx:Jm},Symbol.toStringTag,{value:"Module"})),WA=function(e,t){const[n,i]=e,[s,r]=t,[a,o]=sr(i,s);return[[i,n-i],[os((c,l)=>c.concat(l),a,r),o]]},TA=function(e,t){const[n,i]=e,[s,r]=t,[a,o]=sr(n,r);return[[n,i-n],[os((l,d)=>l.concat(d),s,a),o]]},v3=function(e,t){const[n,i]=e;return Math.min(n,i)<=1?[e,t]:v3(...n>i?WA(e,t):TA(e,t))},Mr=function(e,t){const n=e<0,i=Math.abs(e),s=t-i,r=Array(i).fill([1]),a=Array(s).fill([0]),o=v3([i,s],[r,a]),c=yn(o[1][0]).concat(yn(o[1][1]));return n?c.map(l=>1-l):c},Cr=function(e,t,n){const i=Mr(e,t);return n?Ka(i,-n):i},P3=k("euclid",function(e,t,n){return n.struct(Cr(e,t,0))}),G3=k("bjork",function(e,t){Array.isArray(e)||(e=[e]);const[n,i=n,s=0]=e;return t.struct(Cr(n,i,s))}),{euclidrot:A3,euclidRot:F3}=k(["euclidrot","euclidRot"],function(e,t,n,i){return i.struct(Cr(e,t,n))}),w3=function(e,t,n,i){if(e<1)return Te;const r=Cr(e,t,0).join("").split("1").slice(1).map(a=>[a.length+1,!0]);return i.struct(pr(...r)).late(U(n).div(t))},D3=k(["euclidLegato"],function(e,t,n){return w3(e,t,0,n)}),X3=k(["euclidLegatoRot"],function(e,t,n,i){return w3(e,t,n,i)}),{euclidish:S3,eish:Z3}=k(["euclidish","eish"],function(e,t,n,i){const s=mr(Mr(e,t),new Array(e).fill(1),n);return i.struct(s).setSteps(t)});function Bf(e,t,n=.05,i=.1,s=.1,r=globalThis.setInterval,a=globalThis.clearInterval,o=!0){let c=0,l=0,d=10**4,m=.01;const f=S=>n=S(n);s=s||i/2;const b=()=>{const S=e(),X=S+i+s;for(l===0&&(l=S+m);l<X;)l=o?Math.round(l*d)/d:l,t(l,n,c,S),l+=n,c++};let g;const P=()=>{A(),b(),g=r(b,i*1e3)},A=()=>{g!==void 0&&a(g),g=void 0};return{setDuration:f,start:P,stop:()=>{c=0,l=0,A()},pause:()=>A(),duration:n,interval:i,getPhase:()=>l,minLatency:m}}class kf{constructor({interval:t,onTrigger:n,onToggle:i,onError:s,getTime:r,latency:a=.1,setInterval:o,clearInterval:c,beforeStart:l}){this.started=!1,this.beforeStart=l,this.cps=.5,this.num_ticks_since_cps_change=0,this.lastTick=0,this.lastBegin=0,this.lastEnd=0,this.getTime=r,this.num_cycles_at_cps_change=0,this.seconds_at_cps_change,this.onToggle=i,this.latency=a,this.clock=Bf(r,(d,m,f,b)=>{this.num_ticks_since_cps_change===0&&(this.num_cycles_at_cps_change=this.lastEnd,this.seconds_at_cps_change=d),this.num_ticks_since_cps_change++;const P=this.num_ticks_since_cps_change*m*this.cps;try{const A=this.lastEnd;this.lastBegin=A;const x=this.num_cycles_at_cps_change+P;if(this.lastEnd=x,this.lastTick=d,d<b){console.log("skip query: too late");return}this.pattern.queryArc(A,x,{_cps:this.cps,cyclist:"cyclist"}).forEach(V=>{if(V.hasOnset()){const S=(V.whole.begin-this.num_cycles_at_cps_change)/this.cps+this.seconds_at_cps_change+a,X=V.duration/this.cps,L=S-d;n?.(V,L,X,this.cps,S),V.value.cps!==void 0&&this.cps!=V.value.cps&&(this.cps=V.value.cps,this.num_ticks_since_cps_change=0)}})}catch(A){as(A),s?.(A)}},t,.1,.1,o,c)}now(){if(!this.started)return 0;const t=this.getTime()-this.lastTick-this.clock.duration;return this.lastBegin+t*this.cps}setStarted(t){this.started=t,this.onToggle?.(t)}async start(){if(await this.beforeStart?.(),this.num_ticks_since_cps_change=0,this.num_cycles_at_cps_change=0,!this.pattern)throw new Error("Scheduler: no pattern set! call .setPattern first.");mt("[cyclist] start"),this.clock.start(),this.setStarted(!0)}pause(){mt("[cyclist] pause"),this.clock.pause(),this.setStarted(!1)}stop(){mt("[cyclist] stop"),this.clock.stop(),this.lastEnd=0,this.setStarted(!1)}async setPattern(t,n=!1){this.pattern=t,n&&!this.started&&await this.start()}setCps(t=.5){this.cps!==t&&(this.cps=t,this.num_ticks_since_cps_change=0)}log(t,n,i){const s=i.filter(r=>r.hasOnset());console.log(`${t.toFixed(4)} - ${n.toFixed(4)} ${Array(s.length).fill("I").join("")}`)}}let fs={};const Vf=function(){zf()},zf=function(){fs={}},E3=k("timeline",function(e,t){e=H(e);const n=function(i){const s=!!i.controls.cyclist,r=e.query(i),a=[];for(const o of r){const c=o.value;let l;if(c===0)l=0;else if(c in fs)l=fs[c];else{const m=o.wholeOrPart();!s||i.span.begin.lt(m.midpoint())?l=m.begin:l=m.end}s&&(fs[c]=l,c!==0&&delete fs[-c]);const d=t.late(l).query(i.setSpan(o.part)).map(m=>m.setContext(m.combineContext(o)));a.push(...d)}return a};return new _(n,t._steps)},!1),gn=function(e,t,n=!0){const i=Array.isArray(e),s=Object.keys(e).length;return e=$a(e,H),s===0?Te:t.fmap(r=>{let a=r;return i&&(a=n?Math.round(a)%s:cs(Math.round(a),0,e.length-1)),e[a]})},Nf=function(e,t){return Array.isArray(t)&&([t,e]=[e,t]),IA(e,t)},IA=k("pick",function(e,t){return gn(e,t,!1).innerJoin()}),Wf=k("pickmod",function(e,t){return gn(e,t,!0).innerJoin()}),L3=k("pickF",function(e,t,n){return n.apply(Nf(e,t))}),x3=k("pickmodF",function(e,t,n){return n.apply(Wf(e,t))}),R3=k("pickOut",function(e,t){return gn(e,t,!1).outerJoin()}),B3=k("pickmodOut",function(e,t){return gn(e,t,!0).outerJoin()}),k3=k("pickRestart",function(e,t){return gn(e,t,!1).restartJoin()}),V3=k("pickmodRestart",function(e,t){return gn(e,t,!0).restartJoin()}),z3=k("pickReset",function(e,t){return gn(e,t,!1).resetJoin()}),N3=k("pickmodReset",function(e,t){return gn(e,t,!0).resetJoin()}),{inhabit:W3,pickSqueeze:T3}=k(["inhabit","pickSqueeze"],function(e,t){return gn(e,t,!1).squeezeJoin()}),{inhabitmod:I3,pickmodSqueeze:_3}=k(["inhabitmod","pickmodSqueeze"],function(e,t){return gn(e,t,!0).squeezeJoin()}),Y3=(e,t)=>(t=t.map(H),t.length==0?Te:e.fmap(n=>{const i=Nt(Math.round(n),t.length);return t[i]}).squeezeJoin());class _A{constructor({onTrigger:t,onToggle:n,getTime:i}){this.started=!1,this.cps=.5,this.getTime=i,this.time_at_last_tick_message=0,this.collator=new eu({getTargetClockTime:i}),this.onToggle=n,this.latency=.1,this.cycle=0,this.id=Math.round(Date.now()*Math.random()),this.worker=new SharedWorker(new URL(""+new URL("assets/clockworker-ZDiUtESR.js",document.currentScript&&document.currentScript.tagName.toUpperCase()==="SCRIPT"&&document.currentScript.src||document.baseURI).href,za&&za.tagName.toUpperCase()==="SCRIPT"&&za.src||new URL("index.js",document.baseURI).href)),this.worker.port.start(),this.channel=new BroadcastChannel("strudeltick");const s=a=>{const{cps:o,begin:c,end:l,cycle:d,time:m}=a;this.cps=o,this.cycle=d;const f=this.collator.calculateOffset(m)+m;r(c,l,f),this.time_at_last_tick_message=f},r=(a,o,c)=>{if(this.started===!1)return;this.pattern.queryArc(a,o,{_cps:this.cps,cyclist:"neocyclist"}).forEach(d=>{if(d.hasOnset()){const f=rr(d.whole.begin-this.cycle,this.cps)+c+this.latency,b=rr(d.duration,this.cps);t?.(d,0,b,this.cps,f)}})};this.channel.onmessage=a=>{if(!this.started)return;const{payload:o,type:c}=a.data;switch(c){case"tick":s(o)}}}sendMessage(t,n){this.worker.port.postMessage({type:t,payload:n,id:this.id})}now(){const t=(this.getTime()-this.time_at_last_tick_message)*this.cps;return this.cycle+t}setCps(t=1){this.sendMessage("cpschange",{cps:t})}setCycle(t){this.sendMessage("setcycle",{cycle:t})}setStarted(t){this.sendMessage("toggle",{started:t}),this.started=t,this.onToggle?.(t)}start(){mt("[cyclist] start"),this.setStarted(!0)}stop(){mt("[cyclist] stop"),this.collator.reset(),this.setStarted(!1)}setPattern(t,n=!1){this.pattern=t,n&&!this.started&&this.start()}log(t,n,i){const s=i.filter(r=>r.hasOnset());console.log(`${t.toFixed(4)} - ${n.toFixed(4)} ${Array(s.length).fill("I").join("")}`)}}let Tf,H3,K3,j3,O3;function vr(){if(!Tf)throw new Error("no time set! use setTime to define a time source");return Tf()}function ys(e){Tf=e}function If(e){H3=e}function U3(){return H3?.()}function _f(e){K3=e}function J3(){return K3}function Yf(e){j3=e}function Q3(){return j3}function Hf(e){O3=!!e}function q3(){return O3}function Kf(e,t){if(t||(t="assertion failed"),!e)throw new Error(t)}let Ze=class{constructor(t,n){this.type=t,n!==void 0&&(this.value=n),this.ins=[]}static parseInput(t,n){if(typeof t=="function"){if(!n)throw new Error("tried to parse function input without without passing node..");return t(n)}return typeof t=="object"?t:typeof t=="number"&&!isNaN(t)||typeof t=="string"?Ht(t):(console.log(`invalid input type "${typeof t}" for node of type "${n.type}", falling back to 0. The input was:`,t),0)}};const Li=(e,t)=>new Ze(e,t);let Ft=new Map;const jn="poly",jf="exit";Ze.prototype.inherit=function(e){return e.inputOf&&(this.inputOf=e.inputOf),e.outputOf&&(this.outputOf=e.outputOf),this},Ze.prototype.toObject=function(){return JSON.parse(JSON.stringify(this))},Ze.prototype.stringify=function(){return JSON.stringify(this,null,2).replaceAll('"',"'")};function $3(e,...t){let n=1;if(t=t.map(s=>{if(Array.isArray(s)){if(s.length===1)return s[0];s=new Ze(jn).withIns(...s)}if(typeof s=="function"){const r=s(new Ze("peek"));r.type===jn&&(n=Math.max(r.ins.length,n))}return s.type===jn&&(n=Math.max(s.ins.length,n)),s}),n===1){const s=Li(e);return s.withIns(...t.map(r=>Ze.parseInput(r,s)))}if(e===jf){const s=t.map(r=>r.type===jn?r.ins.map(a=>Ze.parseInput(a).inherit(a)):r).flat();return Li(jf).withIns(...s)}const i=Array.from({length:n},(s,r)=>{const a=new Ze(e),o=t.map(c=>c.type===jn?Ze.parseInput(c.ins[r%c.ins.length],a).inherit(c):(c=Ze.parseInput(c,a),c.type===jn&&(c=c.ins[r]),c));return a.withIns(...o)});return new Ze(jn).withIns(...i)}function YA(e,t){const n=Ft.get(e);return n?.ins?.[t]?n.ins[t].name:""}let $=(e,t)=>yt(e,(...n)=>$3(e,...n),t);Ft.set("register",{tags:["meta"],graph:!1,description:"Registers a new Node function. Sets it on the prototype + returns the function itself. Like `module` but doesn't hide complexity in graph viz.",examples:[`let kick = register('kick', gate => gate.adsr(0,.11,0,.11)
.apply(env => env.mul(env)
  .mul(158)
  .sine(env)
  .distort(.85)
))
impulse(2).kick().out()`]});let yt=(e,t,n)=>(n&&Ft.set(e,n),Ze.prototype[e]=function(...i){return t(this,...i)},Ze.prototype["_"+e]=function(){return this},t);Ft.set("module",{tags:["meta"],graph:!0,description:"Creates a module. Like `register`, but the graph viz will hide the internal complexity of the module.",examples:[`let kick = module('kick', gate => gate.adsr(0,.11,0,.11)
.apply(env => env.mul(env)
  .mul(158)
  .sine(env)
  .distort(.85)
))
impulse(2).kick().out()`]});let HA=0;function Tt(e,t,n){return yt(e,(...i)=>{const s=HA++;return i=i.map((r,a)=>Ze.parseInput(r).asModuleInput?.(e,s,a)),t(...i).asModuleOutput?.(e,s)},n)}Ft.set("n",{tags:["math"],description:"Constant value node. Turns a number into a Node.",ins:[{name:"value",default:0}]});function Ht(e){return Array.isArray(e)?poly(...e.map(t=>Ht(t))):typeof e=="object"?e:Li("n",e)}Ft.set("out",{tags:["meta"],description:"Sends the node to the audio output"}),Ft.set("withIns",{internal:!0,tags:["innards"],description:"Sets the inputs of a node. Returns the node itself",ins:[{name:"in",dynamic:!0}]}),Ze.prototype.withIns=function(...e){return this.ins=e,this},Ft.set("flatten",{internal:!0,tags:["innards"],description:"Flattens the node to a list of all nodes in the graph, where each Node's ins are now indices"}),Ze.prototype.flatten=function(){return jA(this)},Ft.set("apply",{graph:!0,tags:["meta"],description:"Applies the given function to the Node. Useful when a node has to be used multiple times.",examples:[`impulse(4)
.apply(imp=>imp
  .seq(110,220,330,440)
  .sine()
  .mul( imp.ad(.1,.1) )
).out()`]}),Ze.prototype.apply=function(e){return e(this)},Ft.set("clone",{internal:!0,tags:["innards"],description:"Clones the node"}),Ze.prototype.clone=function(){return new Ze(this.type,this.value).withIns(...this.ins)},Ft.set("map",{tags:["meta"],description:"Applies the given function to all ins if it's poly node. Otherwise it applies the function to itself.",examples:[`n([110,220,330])
.map( freq=>freq.mul([1,1.007]).saw().mix() )
.mix(2).mul(.5).out()`]}),Ze.prototype.map=function(e){return this.type!=="poly"?e(this):poly(...this.ins.map(e))},Ze.prototype.channel=function(e){return this.type!=="poly"?this:this.ins[e%this.ins.length]},Ft.set("select",{tags:["meta"],graph:!0,description:"Find the first occurence of the given type up in the graph and returns the match. Useful to exit a feedback loop at another point.",examples:[`sine(220).mul(impulse(1).ad(.001,.2))
.add( x=>x.delay(.2).mul(.8) )
.select('delay').out()
`]}),Ze.prototype.select=function(e){for(let t of this.ins){if(t.type===e)return t;const n=t.select(e);if(n)return n}},Ft.set("debug",{tags:["meta"],description:"Logs the node to the console"}),Ze.prototype.debug=function(e=t=>t){return console.log(e(this)),this};function KA(e){const t=modules.get(e),n=Array.from({length:t.length},(s,r)=>Li(`$INPUT${r}`)),i=t(...n);return JSON.stringify(i,null,2)}function jA(e){const t=[];return Of(e,n=>(t.push(n),n)),t.map(n=>{let i={...n,type:n.type,ins:n.ins.map(s=>t.indexOf(s)+"")};return n.value!==void 0&&(i.value=n.value),n.to!==void 0&&(i.to=t.indexOf(n.to)),i})}let eC=$("exit",{internal:!0});function tC(e,t){let n=[];const i=yt("out",function(s,r=[0,1]){return n.push(s.output(r)),s});return t?(t.out=i,Function(...Object.keys(t),e)(...Object.values(t))):(globalThis.out=i,Function(e)()),eC(...n)}Ze.prototype.over=function(e){return this.apply(t=>add(t,e(t)))},Ze.prototype.dfs=function(e,t){return this.apply(n=>Of(n,e,t))},Ze.prototype.apply2=function(e){return e(this,this)};let Of=(e,t,n=[])=>(e=t(e,n),n.push(e),e.ins=e.ins.map(i=>n.includes(i)?i:Of(i,t,n)),e);Ze.prototype.asModuleInput=function(e,t,n){return this.inputOf=this.inputOf||[],this.inputOf.push([e,t,n]),this},Ze.prototype.asModuleOutput=function(e,t){return this.outputOf=[e,t],this};function Uf(e,t={}){const{log:n=!1,lang:i="js",fallbackType:s="thru",constType:r="n",getRegister:a=g=>`r[${g}]`,getOutput:o=g=>`o[${g}]`,getSource:c=g=>`s[${g}]`}=t;n&&console.log("compile",e);const l=OA(e);let d=[],m=g=>l[g].type!==r?a(g):typeof l[g].value=="string"?`"${l[g].value}"`:l[g].value;const f=[];for(let g in l){const P=l[g],A=l[g].ins.map(S=>m(l.indexOf(S))),x=f.length;let E=Ft.get(P.type);E||(console.warn(`unhandled node type "${l[g].type}". falling back to "${s}"`),E=Ft.get(s));const V={vars:A,node:P,nodes:l,id:g,ugenIndex:x,ugen:E.ugen,name:m(g),lang:i,getRegister:a,getOutput:o,getSource:c};E.compile&&d.push(E.compile(V)),E.ugen&&f.push({type:E.ugen,inputs:A})}const b=d.join(`
`);return n&&(console.log("compiled code:"),console.log(b)),{src:b,ugens:f,registers:l.length}}Ze.prototype.compile=function(e){return Uf(this,e)};function OA(e){const t=[],n=new Set;function i(s){if(!(typeof s!="object"||n.has(s))){n.add(s);for(let r in s.ins)i(s.ins[r]);t.push(s)}}return i(e),t}const nC=Object.freeze(Object.defineProperty({__proto__:null,compile:Uf},Symbol.toStringTag,{value:"Module"}));class iC{constructor(){this._events={}}on(t,n){this._events[t]||(this._events[t]=[]);let i=this._events[t];Kf(i.indexOf(n)==-1),i.push(n)}removeListener(t,n){let i=this._events[t],s=i.indexOf(n);s!=-1&&i.splice(s,1)}trigger(t,...n){let i=this._events[t]||[];for(let s=0;s<i.length;s++)i[s].apply(null,n)}}class UA extends iC{constructor(t=navigator){super(),this.midiAccess=null,this.getMIDIAccess(t)}async getMIDIAccess(t){if("requestMIDIAccess"in t){this.midiAccess=await t.requestMIDIAccess({sysex:!1}),console.log("got MIDI access");for(let n of this.midiAccess.inputs.values())n.state=="connected"&&(n.onmidimessage=i=>this.trigger("midimessage",n.id,i.data));this.midiAccess.onstatechange=n=>{n.port.type=="input"&&n.port.state=="connected"&&(console.log("MIDI device connected:",n.port.name,"PORT:",n.port.id),n.port.onmidimessage=i=>this.trigger("midimessage",n.port.id,i.data))}}}broadcast(t,n){if(midi)for(let i of this.midiAccess.outputs.values())i.send(t,n)}}function JA(e){let t=e[0]&240,n=(e[0]&15)+1;if(t==176&&e.length==3){let i=e[1],s=e[2]/127*2-1;return{type:"CC",channel:n,cc:i,value:s}}if(t==224&&e.length==3){let i=e[1],s=(e[2]<<7|i)/16383*2-1;return{type:"PITCHBEND",channel:n,value:s}}if(t==144&&e.length==3){let i=e[1],s=e[2]/127;return{type:"NOTE_ON",channel:n,note:i,velocity:s}}if(t==128&&e.length==3){let i=e[1];return{type:"NOTE_ON",channel:n,note:i,velocity:0}}}class QA extends iC{constructor(){super(),this.attach()}attach(){typeof window<"u"&&(this.handleMouseMove=t=>{const n=t.clientX/document.body.clientWidth*2-1,i=t.clientY/document.body.clientHeight*2-1;this.trigger("move",n,i)},document.addEventListener("mousemove",this.handleMouseMove))}detach(){typeof window<"u"&&document.removeEventListener("mousemove",this.handleMouseMove)}}const qA="data:text/javascript;base64,KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGcoaCx0KXtpZih0fHwodD0iYXNzZXJ0aW9uIGZhaWxlZCIpLCFoKXRocm93IG5ldyBFcnJvcih0KX1mdW5jdGlvbiBTKGgsdCxzKXtyZXR1cm4gaDw9MD90Omg+PTE/czp0K2gqKHMtdCl9ZnVuY3Rpb24gUChoLHQscyl7cmV0dXJuIGg8PXQ/MDpoPj1zPzE6cz09PXQ/MDooaC10KS8ocy10KX1mdW5jdGlvbiBFKGgsdCl7cmV0dXJuIGg8dD8oaC89dCxoK2gtaCpoLTEpOmg+MS10PyhoPShoLTEpL3QsaCpoK2graCsxKTowfWZ1bmN0aW9uIFUoaCl7cmV0dXJuIE1hdGguZmxvb3IoaCk9PT1ofWZ1bmN0aW9uIF8oaCl7cmV0dXJuIFUoaCkmJmg+MH1mdW5jdGlvbiBrKGgsdCl7dD1NYXRoLm1pbihNYXRoLm1heCh0LDApLDEpLHQtPS4wMTt2YXIgcz0yKnQvKDEtdCksZT0oMStzKSpoLygxK3MqTWF0aC5hYnMoaCkpO3JldHVybiBlfWZ1bmN0aW9uIHcoaCx0LHMpe3JldHVybiBoPj0xP3M6dCtoKihzLXQpfWZ1bmN0aW9uIFQoKXt0aGlzLnN0YXRlPSJvZmYiLHRoaXMuc3RhcnRUaW1lPTAsdGhpcy5zdGFydFZhbD0wfVQucHJvdG90eXBlLmV2YWw9ZnVuY3Rpb24oaCx0LHMsZSxpLG4pe3N3aXRjaCh0aGlzLnN0YXRlKXtjYXNlIm9mZiI6cmV0dXJuIHQ+MCYmKHRoaXMuc3RhdGU9ImF0dGFjayIsdGhpcy5zdGFydFRpbWU9aCx0aGlzLnN0YXJ0VmFsPTApLDA7Y2FzZSJhdHRhY2siOntsZXQgcj1oLXRoaXMuc3RhcnRUaW1lO3JldHVybiByPnM/KHRoaXMuc3RhdGU9ImRlY2F5Iix0aGlzLnN0YXJ0VGltZT1oLDEpOncoci9zLHRoaXMuc3RhcnRWYWwsMSl9Y2FzZSJkZWNheSI6e2xldCByPWgtdGhpcy5zdGFydFRpbWUsbD13KHIvZSwxLGkpO3JldHVybiB0PD0wPyh0aGlzLnN0YXRlPSJyZWxlYXNlIix0aGlzLnN0YXJ0VGltZT1oLHRoaXMuc3RhcnRWYWw9bCxsKTpyPmU/KHRoaXMuc3RhdGU9InN1c3RhaW4iLHRoaXMuc3RhcnRUaW1lPWgsaSk6bH1jYXNlInN1c3RhaW4iOnJldHVybiB0PD0wJiYodGhpcy5zdGF0ZT0icmVsZWFzZSIsdGhpcy5zdGFydFRpbWU9aCx0aGlzLnN0YXJ0VmFsPWkpLGk7Y2FzZSJyZWxlYXNlIjp7bGV0IHI9aC10aGlzLnN0YXJ0VGltZTtpZihyPm4pcmV0dXJuIHRoaXMuc3RhdGU9Im9mZiIsMDtsZXQgbD13KHIvbix0aGlzLnN0YXJ0VmFsLDApO3JldHVybiB0PjAmJih0aGlzLnN0YXRlPSJhdHRhY2siLHRoaXMuc3RhcnRUaW1lPWgsdGhpcy5zdGFydFZhbD1sKSxsfX10aHJvdyJpbnZhbGlkIGVudmVsb3BlIHN0YXRlIn07ZnVuY3Rpb24gdigpe3RoaXMuczA9MCx0aGlzLnMxPTB9di5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oaCx0LHMpe2coIWlzTmFOKGgpLCJOYU4gdmFsdWUgZmVkIGluIFR3b1BvbGVGaWx0ZXIiKSx0PU1hdGgubWluKHQsMSkscz1NYXRoLm1heChzLDApO3ZhciBlPU1hdGgucG93KC41LCgxLXQpLy4xMjUpLGk9TWF0aC5wb3coLjUsKHMrLjEyNSkvLjEyNSksbj0xLWkqZSxyPXRoaXMuczAsbD10aGlzLnMxO3JldHVybiByPW4qci1lKmwrZSpoLGw9bipsK2UqcixoPWwsdGhpcy5zMD1yLHRoaXMuczE9bCxofTtsZXQgQT1jbGFzcyBDe2NvbnN0cnVjdG9yKHQscyl7dGhpcy5zYW1wbGVSYXRlPXQscz90aGlzLmJ1ZmZlcj1zLnNsaWNlKDApOih0aGlzLmJ1ZmZlcj1uZXcgRmxvYXQzMkFycmF5KDEwKnQpLHRoaXMuYnVmZmVyLmZpbGwoMCkpLHRoaXMud3JpdGVJZHg9MCx0aGlzLnJlYWRJZHg9MH1yZXNldCgpe3RoaXMuYnVmZmVyLmZpbGwoMCksdGhpcy53cml0ZUlkeD0wLHRoaXMucmVhZElkeD0wfWNsb25lKCl7Y29uc3QgdD1uZXcgQyh0aGlzLnNhbXBsZVJhdGUsdGhpcy5idWZmZXIpO3JldHVybiB0LndyaXRlSWR4PXRoaXMud3JpdGVJZHgsdC5yZWFkSWR4PXRoaXMucmVhZElkeCx0fXdyaXRlKHQscyl7dGhpcy53cml0ZUlkeD0odGhpcy53cml0ZUlkeCsxKSV0aGlzLmJ1ZmZlci5sZW5ndGgsdGhpcy5idWZmZXJbdGhpcy53cml0ZUlkeF09dDtsZXQgZT1NYXRoLm1pbihNYXRoLmZsb29yKHRoaXMuc2FtcGxlUmF0ZSpzKSx0aGlzLmJ1ZmZlci5sZW5ndGgtMSk7dGhpcy5yZWFkSWR4PXRoaXMud3JpdGVJZHgtZSx0aGlzLnJlYWRJZHg8MCYmKHRoaXMucmVhZElkeCs9dGhpcy5idWZmZXIubGVuZ3RoKX1yZWFkKCl7cmV0dXJuIHRoaXMuYnVmZmVyW3RoaXMucmVhZElkeF19fTtjb25zdCB5PTEvNDhlMyxNPTI0LE49TS80O2NsYXNzIG97Y29uc3RydWN0b3IodCxzLGUsaSl7dGhpcy5ub2RlSWQ9dCx0aGlzLnN0YXRlPXMsdGhpcy5zYW1wbGVSYXRlPWUsdGhpcy5zYW1wbGVUaW1lPTEvZSx0aGlzLnNlbmQ9aX19Y2xhc3MgcSBleHRlbmRzIG97Y29uc3RydWN0b3IodCxzLGUsaSl7c3VwZXIodCxzLGUsaSksdGhpcy5lbnY9bmV3IFR9dXBkYXRlKHQscyxlLGksbixyKXtyZXR1cm4gdGhpcy5lbnYuZXZhbCh0LHMsZSxpLG4scil9fWNsYXNzIEYgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHQscyxlLGkpe3N1cGVyKHQscyxlLGkpLHRoaXMucGhhc2U9MH11cGRhdGUodCl7bGV0IHM9TSp0LzYwLGU9LjU7cmV0dXJuIHRoaXMucGhhc2UrPXRoaXMuc2FtcGxlVGltZSpzLHRoaXMucGhhc2UlMTxlPzE6LTF9fWNsYXNzIEQgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHQscyxlLGkpe3N1cGVyKHQscyxlLGkpLHRoaXMuaW5TZ249ITAsdGhpcy5vdXRTZ249ITAsdGhpcy5jbG9ja0NudD0wfXVwZGF0ZSh0LHMpe2xldCBlPXQ+MDtyZXR1cm4gdGhpcy5pblNnbiE9ZSYmKHRoaXMuY2xvY2tDbnQrKyx0aGlzLmNsb2NrQ250Pj1zJiYodGhpcy5jbG9ja0NudD0wLHRoaXMub3V0U2duPSF0aGlzLm91dFNnbikpLHRoaXMuaW5TZ249ZSx0aGlzLm91dFNnbj8xOi0xfX1jbGFzcyBMIGV4dGVuZHMgb3tjb25zdHJ1Y3Rvcih0LHMsZSxpKXtzdXBlcih0LHMsZSxpKSx0aGlzLmluU2duPSExfXVwZGF0ZSh0LHMpe2xldCBlPXM+MDtyZXR1cm4gZSYmdGhpcy5pblNnbiE9ZSYmdGhpcy5zZW5kKHt0eXBlOiJDTE9DS19QVUxTRSIsbm9kZUlkOnRoaXMubm9kZUlkLHRpbWU6dH0pLHRoaXMuaW5TZ249ZSwwfX1jb25zdCBPPW5ldyBNYXA7Y2xhc3MgViBleHRlbmRzIG97Y29uc3RydWN0b3IodCxzLGUsaSl7c3VwZXIodCxzLGUsaSk7Y29uc3Qgbj1zLmlucHV0c1syXTtuJiZPLmhhcyhuKT90aGlzLmRlbGF5PU8uZ2V0KG4pLmNsb25lKCk6dGhpcy5kZWxheT1uZXcgQShlKSxuJiZPLnNldChuLHRoaXMuZGVsYXkpfXVwZGF0ZSh0LHMpe3JldHVybiB0aGlzLmRlbGF5LndyaXRlKHQscyksdGhpcy5kZWxheS5yZWFkKCl9fWNsYXNzIEcgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHQscyxlLGkpe3N1cGVyKHQscyxlLGkpfXVwZGF0ZSh0LHMpe3JldHVybiBrKHQscyl9fWNsYXNzIFIgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHQscyxlLGkpe3N1cGVyKHQscyxlLGkpLHRoaXMudmFsdWU9MCx0aGlzLnRyaWdTZ249ITF9d3JpdGUodCxzKXshdGhpcy50cmlnU2duJiZzPjAmJih0aGlzLnZhbHVlPXQpLHRoaXMudHJpZ1Nnbj1zPjB9cmVhZCgpe3JldHVybiB0aGlzLnZhbHVlfXVwZGF0ZSh0LHMpe3JldHVybiB0aGlzLndyaXRlKHQscyksdGhpcy5yZWFkKCl9fWNsYXNzIEJ7Y29uc3RydWN0b3IoKXt0aGlzLnZhbHVlPTB9dXBkYXRlKHQpe3JldHVybiB0aGlzLnZhbHVlPXQsdGhpcy52YWx1ZX19Y29uc3QgJD0zNDA7bGV0IEk9MDtjbGFzcyBIe2NvbnN0cnVjdG9yKCl7dGhpcy5jaD1JLHRoaXMuc3RhcnRfc2VlZD0kKih0aGlzLmNoKzEpPj4+MCx0aGlzLnN0YXRlPXRoaXMuc3RhcnRfc2VlZCx0aGlzLnZhbHVlPTAsdGhpcy5hPTE2NjQ1MjUsdGhpcy5jPTEwMTM5MDQyMjMsdGhpcy5tYXNrPTE2Nzc3MjE1LHRoaXMuc2NhbGU9MS8oMTw8MjQpLEkrK311cGRhdGUodCxzKXtpZighdClyZXR1cm4gdGhpcy52YWx1ZTtzJiYodGhpcy5zdGF0ZT10aGlzLnN0YXJ0X3NlZWQpLHRoaXMuc3RhdGU9dGhpcy5zdGF0ZSp0aGlzLmErdGhpcy5jPj4+MDtjb25zdCBlPSh0aGlzLnN0YXRlJnRoaXMubWFzaykqdGhpcy5zY2FsZTtyZXR1cm4gdGhpcy52YWx1ZT1lKjItMSx0aGlzLnZhbHVlfX1jbGFzcyBqe2NvbnN0cnVjdG9yKCl7dGhpcy52YWx1ZT1NYXRoLnJhbmRvbSgpKjItMX11cGRhdGUodCl7cmV0dXJuIHQ/KHRoaXMudmFsdWU9TWF0aC5yYW5kb20oKSoyLTEsdGhpcy52YWx1ZSk6dGhpcy52YWx1ZX19Y2xhc3MgS3t1cGRhdGUodCl7cmV0dXJuIE1hdGgucmFuZG9tKCk8dCp5P01hdGgucmFuZG9tKCk6MH19Y2xhc3MgV3tjb25zdHJ1Y3Rvcigpe3RoaXMub3V0PTB9dXBkYXRlKCl7bGV0IHQ9TWF0aC5yYW5kb20oKSoyLTE7cmV0dXJuIHRoaXMub3V0PSh0aGlzLm91dCsuMDIqdCkvMS4wMix0aGlzLm91dH19Y2xhc3MgWHtjb25zdHJ1Y3Rvcigpe3RoaXMuYjA9MCx0aGlzLmIxPTAsdGhpcy5iMj0wLHRoaXMuYjM9MCx0aGlzLmI0PTAsdGhpcy5iNT0wLHRoaXMuYjY9MH11cGRhdGUoKXtjb25zdCB0PU1hdGgucmFuZG9tKCkqMi0xO3RoaXMuYjA9Ljk5ODg2KnRoaXMuYjArdCouMDU1NTE3OSx0aGlzLmIxPS45OTMzMip0aGlzLmIxK3QqLjA3NTA3NTksdGhpcy5iMj0uOTY5KnRoaXMuYjIrdCouMTUzODUyLHRoaXMuYjM9Ljg2NjUqdGhpcy5iMyt0Ki4zMTA0ODU2LHRoaXMuYjQ9LjU1KnRoaXMuYjQrdCouNTMyOTUyMix0aGlzLmI1PS0uNzYxNip0aGlzLmI1LXQqLjAxNjg5ODtjb25zdCBzPXRoaXMuYjArdGhpcy5iMSt0aGlzLmIyK3RoaXMuYjMrdGhpcy5iNCt0aGlzLmI1K3RoaXMuYjYrdCouNTM2MjtyZXR1cm4gdGhpcy5iNj10Ki4xMTU5MjYscyouMTF9fWNsYXNzIFkgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHQscyxlLGkpe3N1cGVyKHQscyxlLGkpLHRoaXMucGhhc2U9MX11cGRhdGUodCl7dGhpcy5waGFzZSs9dGhpcy5zYW1wbGVUaW1lKnQ7bGV0IHM9dGhpcy5waGFzZT49MT8xOjA7cmV0dXJuIHRoaXMucGhhc2U9dGhpcy5waGFzZSUxLHN9fWNsYXNzIHogZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHQscyxlLGkpe3N1cGVyKHQscyxlLGkpLHRoaXMucGhhc2U9MH11cGRhdGUodCxzKXtyZXR1cm4gdGhpcy5waGFzZSs9dGhpcy5zYW1wbGVUaW1lKnQsdGhpcy5waGFzZSUxPHM/MTotMX19Y2xhc3MgWiBleHRlbmRzIG97Y29uc3RydWN0b3IodCxzLGUsaSl7c3VwZXIodCxzLGUsaSksdGhpcy5waGFzZT0wfXVwZGF0ZSh0KXtyZXR1cm4gdGhpcy5waGFzZSs9dGhpcy5zYW1wbGVUaW1lKnQsdGhpcy5waGFzZSUxKjItMX19Y2xhc3MgSntjb25zdHJ1Y3Rvcigpe3RoaXMucGhhc2U9TWF0aC5yYW5kb20oKX11cGRhdGUodCl7Y29uc3Qgcz10L3NhbXBsZVJhdGU7bGV0IGU9RSh0aGlzLnBoYXNlLHMpLGk9Mip0aGlzLnBoYXNlLTEtZTtyZXR1cm4gdGhpcy5waGFzZSs9cyx0aGlzLnBoYXNlPjEmJih0aGlzLnBoYXNlLT0xKSxpfX1jbGFzcyBRIGV4dGVuZHMgb3tjb25zdHJ1Y3Rvcih0LHMsZSxpKXtzdXBlcih0LHMsZSxpKSx0aGlzLnBoYXNlPTAsdGhpcy5zeW5jU2duPSExfXVwZGF0ZSh0LHMsZSl7IXRoaXMuc3luY1NnbiYmcz4wJiYodGhpcy5waGFzZT0wKSx0aGlzLnN5bmNTZ249cz4wO2xldCBpPSh0aGlzLnBoYXNlK2UpJTE7cmV0dXJuIHRoaXMucGhhc2UrPXRoaXMuc2FtcGxlVGltZSp0LE1hdGguc2luKGkqMipNYXRoLlBJKX19Y2xhc3MgdHR7ZEJUb0xpbmVhcih0KXtyZXR1cm4gTWF0aC5wb3coMTAsdC8yMCl9bGluZWFyVG9EQih0KXtyZXR1cm4gMjAqTWF0aC5sb2cxMCh0KX11cGRhdGUodCxzLGUpe2xldCBpPXRoaXMubGluZWFyVG9EQihNYXRoLmFicyh0KSksbj0wO3JldHVybiBpPnMmJihuPShpLXMpKigxLTEvZSkpLHRoaXMuZEJUb0xpbmVhcigtbil9fWNsYXNzIHN0IGV4dGVuZHMgb3tjb25zdHJ1Y3Rvcih0LHMsZSxpKXtzdXBlcih0LHMsZSxpKSx0aGlzLnBoYXNlPTB9dXBkYXRlKHQpe3RoaXMucGhhc2UrPXRoaXMuc2FtcGxlVGltZSp0O2xldCBzPXRoaXMucGhhc2UlMTtyZXR1cm4oczwuNT8yKnM6MS0yKihzLS41KSkqMi0xfX1jbGFzcyBldCBleHRlbmRzIG97Y29uc3RydWN0b3IodCxzLGUsaSl7c3VwZXIodCxzLGUsaSk7Y29uc3Qgbj1lLzMwO2coXyhuKSksdGhpcy5idWZmZXI9bmV3IEZsb2F0MzJBcnJheShuKSx0aGlzLndyaXRlUG9zPTB9dXBkYXRlKHQscyxlLGkpe3JldHVybiB0aGlzLmJ1ZmZlclt0aGlzLndyaXRlUG9zXT10LHRoaXMud3JpdGVQb3MrKyx0aGlzLndyaXRlUG9zJXRoaXMuYnVmZmVyLmxlbmd0aD09MCYmKHRoaXMud3JpdGVQb3M9MCx0aGlzLnNlbmQoe3R5cGU6IlNFTkRfU0FNUExFUyIsaWQ6cyxzYW1wbGVzOnRoaXMuYnVmZmVyLGNoYW5uZWxzOmUsY2hhbm5lbDppfSkpLHR9fWNsYXNzIGl0e2NvbnN0cnVjdG9yKCl7dGhpcy5sYWdVbml0PTQ0MTAsdGhpcy5zPTB9dXBkYXRlKHQscyl7cmV0dXJuIHM9cyp0aGlzLmxhZ1VuaXQsczwxJiYocz0xKSx0aGlzLnMrPTEvcyoodC10aGlzLnMpLHRoaXMuc319Y2xhc3MgaHR7Y29uc3RydWN0b3IoKXt0aGlzLmxhc3Q9MH11cGRhdGUodCxzLGUpe2NvbnN0IGk9cyp5LG49ZSp5O2xldCByPXQtdGhpcy5sYXN0O3JldHVybiByPmk/cj1pOnI8LW4mJihyPS1uKSx0aGlzLmxhc3QrPXIsdGhpcy5sYXN0fX1jbGFzcyBhdCBleHRlbmRzIG97Y29uc3RydWN0b3IodCxzLGUsaSl7c3VwZXIodCxzLGUsaSksdGhpcy5zPTB9dXBkYXRlKHQscyl7cmV0dXJuIHM9cyoxZTMsczwxJiYocz0xKSx0aGlzLnMrPTEvcyoodC10aGlzLnMpLHRoaXMuc319Y2xhc3MgbnQgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHQscyxlLGkpe3N1cGVyKHQscyxlLGkpLHRoaXMuZmlsdGVyPW5ldyB2fXVwZGF0ZSh0LHMsZSl7cmV0dXJuIHRoaXMuZmlsdGVyLmFwcGx5KHQscyxlKSx0aGlzLmZpbHRlci5zMX19Y2xhc3MgcnQgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHQscyxlLGkpe3N1cGVyKHQscyxlLGkpLHRoaXMuZmlsdGVyPW5ldyB2fXVwZGF0ZSh0LHMsZSl7cmV0dXJuIHRoaXMuZmlsdGVyLmFwcGx5KHQscyxlKSx0aGlzLmZpbHRlci5zMH19Y2xhc3MgdXQgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHQscyxlLGkpe3N1cGVyKHQscyxlLGkpfXVwZGF0ZSh0LHMpe3JldHVybiBzPDAmJihzPTApLHM9cysxLHQ9dCpzLDQqKE1hdGguYWJzKC4yNSp0Ky4yNS1NYXRoLnJvdW5kKC4yNSp0Ky4yNSkpLS4yNSl9fWNsYXNzIGx0IGV4dGVuZHMgb3t1cGRhdGUodCl7cmV0dXJuIHR9fWNsYXNzIG0gZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHQscyxlLGkpe3N1cGVyKHQscyxlLGkpLHRoaXMubm90ZT0wLHRoaXMuZnJlcT0wLHRoaXMudmVsb2NpdHk9MCx0aGlzLmdhdGVTdGF0ZT0ib2ZmIix0aGlzLnR5cGU9Im1pZGlpbiIsdGhpcy5jaGFubmVsPS0xfWlzRnJlZSgpe3JldHVybiB0aGlzLmdhdGVTdGF0ZT09PSJvZmYifW5vdGVPbih0LHMpe3M+MD8odGhpcy5ub3RlPXQsdGhpcy52ZWxvY2l0eT1zLHRoaXMuZnJlcT0yKiooKHQtNjkpLzEyKSo0NDAsdGhpcy5nYXRlU3RhdGU9InByZXRyaWciKTp0aGlzLm5vdGVPZmYoKX1ub3RlT2ZmKCl7dGhpcy5ub3RlPTAsdGhpcy5nYXRlU3RhdGU9Im9mZiJ9Z2V0R2F0ZSgpe3N3aXRjaCh0aGlzLmdhdGVTdGF0ZSl7Y2FzZSJwcmV0cmlnIjpyZXR1cm4gdGhpcy5nYXRlU3RhdGU9Im9uIiwwO2Nhc2Uib24iOnJldHVybiAxO2Nhc2Uib2ZmIjpyZXR1cm4gMDtkZWZhdWx0OmcoITEpfX1nZXRGcmVxKCl7c3dpdGNoKHRoaXMuZ2F0ZVN0YXRlKXtjYXNlInByZXRyaWciOnJldHVybiB0aGlzLmdhdGVTdGF0ZT0ib24iLDA7Y2FzZSJvbiI6cmV0dXJuIHRoaXMuZnJlcTtjYXNlIm9mZiI6cmV0dXJuIHRoaXMuZnJlcTtkZWZhdWx0OmcoITEpfX1nZXRWZWxvY2l0eSgpe3N3aXRjaCh0aGlzLmdhdGVTdGF0ZSl7Y2FzZSJwcmV0cmlnIjpyZXR1cm4gdGhpcy5nYXRlU3RhdGU9Im9uIiwwO2Nhc2Uib24iOnJldHVybiB0aGlzLnZlbG9jaXR5O2Nhc2Uib2ZmIjpyZXR1cm4gdGhpcy52ZWxvY2l0eTtkZWZhdWx0OmcoITEpfX19Y2xhc3Mgb3QgZXh0ZW5kcyBte2NvbnN0cnVjdG9yKHQscyxlLGkpe3N1cGVyKHQscyxlLGkpLHRoaXMudHlwZT0ibWlkaWdhdGUifXVwZGF0ZSh0KXtyZXR1cm4gdGhpcy5jaGFubmVsPXQsdGhpcy5nZXRHYXRlKCl9fWNsYXNzIGN0IGV4dGVuZHMgbXtjb25zdHJ1Y3Rvcih0LHMsZSxpKXtzdXBlcih0LHMsZSxpKSx0aGlzLnR5cGU9Im1pZGlmcmVxIn11cGRhdGUodCl7cmV0dXJuIHRoaXMuY2hhbm5lbD10LHRoaXMuZ2V0RnJlcSgpfX1jbGFzcyBkdCBleHRlbmRzIG17Y29uc3RydWN0b3IodCxzLGUsaSl7c3VwZXIodCxzLGUsaSksdGhpcy50eXBlPSJtaWRpdmVsIn11cGRhdGUodCl7cmV0dXJuIHRoaXMuY2hhbm5lbD10LHRoaXMuZ2V0VmVsb2NpdHkoKX19Y2xhc3MgZnR7Y29uc3RydWN0b3IodCxzLGUsaSl7dGhpcy51cD0hMSx0aGlzLnNlbmQ9aSx0aGlzLnZhbHVlPTAsdGhpcy50eXBlPSJjYyJ9c2V0VmFsdWUodCl7dGhpcy52YWx1ZT10fXVwZGF0ZSh0LHMsZSl7cmV0dXJuIHRoaXMuaWQ9cywhdGhpcy51cCYmdD4wPyh0aGlzLnVwPSEwLHRoaXMuc2VuZCh7dHlwZToiU0lHTkFMX1RSSUdHRVIiLGlkOnMsdGltZTplfSksdGhpcy52YWx1ZSk6KHRoaXMudXA9dD4wLHRoaXMudmFsdWUpfX1jbGFzcyBwdCBleHRlbmRzIG97Y29uc3RydWN0b3IodCxzLGUsaSl7c3VwZXIodCxzLGUsaSksdGhpcy50eXBlPSJjYyIsdGhpcy52YWx1ZT1zLmlucHV0c1sxXT8/MH1zZXRWYWx1ZSh0KXt0aGlzLnZhbHVlPXR9dXBkYXRlKHQpe3JldHVybiB0aGlzLmlkPXQsdGhpcy52YWx1ZX19Y2xhc3MgYnQgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHQscyxlLGkpe3N1cGVyKHQscyxlLGkpLHRoaXMudHlwZT0ibWlkaWNjIix0aGlzLnZhbHVlPXMuaW5wdXRzWzJdPz8tMSx0aGlzLmNoYW5uZWw9LTEsdGhpcy5jY251bWJlcj0tMX1zZXRWYWx1ZSh0KXt0aGlzLnZhbHVlPXR9dXBkYXRlKHQscyl7cmV0dXJuIHRoaXMuY2NudW1iZXI9dCx0aGlzLmNoYW5uZWw9cyx0aGlzLnZhbHVlfX1jbGFzcyBndCBleHRlbmRzIG97Y29uc3RydWN0b3IodCxzLGUsaSl7c3VwZXIodCxzLGUsaSksdGhpcy5jbG9ja1Nnbj0hMCx0aGlzLnN0ZXA9MCx0aGlzLmZpcnN0PSEwfXVwZGF0ZSh0LC4uLnMpe3JldHVybiF0aGlzLmNsb2NrU2duJiZ0PjA/KHRoaXMuc3RlcD0odGhpcy5zdGVwKzEpJXMubGVuZ3RoLHRoaXMuY2xvY2tTZ249dD4wLDApOih0aGlzLmNsb2NrU2duPXQ+MCxzW3RoaXMuc3RlcF0pfX1jbGFzcyBtdCBleHRlbmRzIG97dXBkYXRlKHQsLi4ucyl7Y29uc3QgZT10JXMubGVuZ3RoK3MubGVuZ3RoO3JldHVybiBzW01hdGguZmxvb3IoZSklcy5sZW5ndGhdfX1jbGFzcyBTdHt1cGRhdGUodCxzLGUsaSxuKXtsZXQgcj1QKHQscyxlKTtyZXR1cm4gUyhyLGksbil9fWNsYXNzIHd0e3VwZGF0ZSh0LHMsZSl7cmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHQscyksZSl9fWNsYXNzIHZ0e2NvbnN0cnVjdG9yKCl7dGhpcy5oaT0hMX11cGRhdGUodCl7cmV0dXJuIXRoaXMuaGkmJnQ+MD8odGhpcy5oaT0hMCwxKToodGhpcy5oaSYmdDw9MCYmKHRoaXMuaGk9ITEpLDApfX1jbGFzcyB5dHtjb25zdHJ1Y3Rvcigpe3RoaXMueDE9MCx0aGlzLngyPTAsdGhpcy55MT0wLHRoaXMueTI9MCx0aGlzLmEwPTEsdGhpcy5hMT0wLHRoaXMuYTI9MCx0aGlzLmIwPTEsdGhpcy5iMT0wLHRoaXMuYjI9MH11cGRhdGUodD0wLHM9MCxlPTUwMCxpPTEsbj0xKXtjb25zdCByPTIqTWF0aC5QSSplL3NhbXBsZVJhdGUsbD1NYXRoLnNpbihyKTtpPU1hdGgucG93KDEwLGkvMjApO2NvbnN0IHU9bC8oMippKSxjPU1hdGguY29zKHIpO2lmKHM9PT0wKXRoaXMuYjE9MS1jLHRoaXMuYjA9dGhpcy5iMS8yLHRoaXMuYjI9dGhpcy5iMCx0aGlzLmEwPTErdSx0aGlzLmExPS0yKmMsdGhpcy5hMj0xLXU7ZWxzZSBpZihzPT09MSl0aGlzLmIwPSgxK2MpLzIsdGhpcy5iMT0tKDErYyksdGhpcy5iMj10aGlzLmIwLHRoaXMuYTA9MSt1LHRoaXMuYTE9LTIqYyx0aGlzLmEyPTEtdTtlbHNlIGlmKHM9PT0yKXRoaXMuYjA9bC8yLHRoaXMuYjE9MCx0aGlzLmIyPS10aGlzLmIwLHRoaXMuYTA9MSt1LHRoaXMuYTE9LTIqYyx0aGlzLmEyPTEtdTtlbHNlIGlmKHM9PT0zKXRoaXMuYjA9MSx0aGlzLmIxPS0yKmMsdGhpcy5iMj0xLHRoaXMuYTA9MSt1LHRoaXMuYTE9LTIqYyx0aGlzLmEyPTEtdTtlbHNlIGlmKHM9PT00KXRoaXMuYjA9MS11LHRoaXMuYjE9LTIqYyx0aGlzLmIyPTErdSx0aGlzLmEwPTErdSx0aGlzLmExPS0yKmMsdGhpcy5hMj0xLXU7ZWxzZSBpZihzPT09NSl7Y29uc3QgYT1NYXRoLnBvdygxMCxuLzQwKTt0aGlzLmIwPTErdSphLHRoaXMuYjE9LTIqYyx0aGlzLmIyPTEtdSphLHRoaXMuYTA9MSt1L2EsdGhpcy5hMT0tMipjLHRoaXMuYTI9MS11L2F9ZWxzZSBpZihzPT09Nil7Y29uc3QgYT1NYXRoLnBvdygxMCxuLzQwKSxkPTIqTWF0aC5zcXJ0KGEpKnUsZj0oYS0xKSpjLHA9KGErMSkqYzt0aGlzLmIwPWEqKGErMS1mK2QpLHRoaXMuYjE9MiphKihhLTEtcCksdGhpcy5iMj1hKihhKzEtZi1kKSx0aGlzLmEwPWErMStmK2QsdGhpcy5hMT0tMiooYS0xK3ApLHRoaXMuYTI9YSsxK2YtZH1lbHNlIGlmKHM9PT03KXtjb25zdCBhPU1hdGgucG93KDEwLG4vNDApLGQ9MipNYXRoLnNxcnQoYSkqdSxmPShhLTEpKmMscD0oYSsxKSpjO3RoaXMuYjA9YSooYSsxK2YrZCksdGhpcy5iMT0tMiphKihhLTErcCksdGhpcy5iMj1hKihhKzErZi1kKSx0aGlzLmEwPWErMS1mK2QsdGhpcy5hMT0yKihhLTEtcCksdGhpcy5hMj1hKzEtZi1kfXRoaXMuYjAvPXRoaXMuYTAsdGhpcy5iMS89dGhpcy5hMCx0aGlzLmIyLz10aGlzLmEwLHRoaXMuYTEvPXRoaXMuYTAsdGhpcy5hMi89dGhpcy5hMCx0aGlzLmEwPTE7Y29uc3QgYj10aGlzLmIwKnQrdGhpcy5iMSp0aGlzLngxK3RoaXMuYjIqdGhpcy54Mi10aGlzLmExKnRoaXMueTEtdGhpcy5hMip0aGlzLnkyO3JldHVybiB0aGlzLngyPXRoaXMueDEsdGhpcy54MT10LHRoaXMueTI9dGhpcy55MSx0aGlzLnkxPWIsYn19Y29uc3QgTXQ9T2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydHkoe19fcHJvdG9fXzpudWxsLEFEU1JOb2RlOnEsQXVkaW9JbjpsdCxBdWRpb05vZGU6byxCUEY6cnQsQmlxdWFkRmlsdGVyOnl0LEJyb3duTm9pc2VPc2M6VyxDQzpwdCxDTE9DS19QUFE6TSxDTE9DS19QUFM6TixDbGlwOnd0LENsb2NrOkYsQ2xvY2tEaXY6RCxDbG9ja091dDpMLERlbGF5OlYsRGlzdG9ydDpHLER1c3RPc2M6SyxGaWx0ZXI6bnQsRm9sZDp1dCxIb2xkOlIsSW1wdWxzZU9zYzpZLExhZzppdCxMY2dOb2lzZTpILE1pZGlDQzpidCxNaWRpRnJlcTpjdCxNaWRpR2F0ZTpvdCxNaWRpSW46bSxNaWRpVmVsOmR0LE5vaXNlT3NjOmosT3V0cHV0OkIsUGljazptdCxQaW5rTm9pc2U6WCxQdWxzZU9zYzp6LFJlbWFwOlN0LFNhd09zYzpKLFNjb3BlOmV0LFNlcXVlbmNlOmd0LFNpZGVjaGFpbkNvbXByZXNzb3I6dHQsU2lnbmFsOmZ0LFNpbmVPc2M6USxTbGV3Omh0LFNsaWRlOmF0LFRyaU9zYzpzdCxUcmlnOnZ0LFphd09zYzpafSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOiJNb2R1bGUifSkpLHg9bmV3IE1hcChPYmplY3QuZW50cmllcyhNdCkpO2NsYXNzIE90e2NvbnN0cnVjdG9yKHQscyl7Zyh0PT00OGUzKSx0aGlzLnNhbXBsZVJhdGU9dCx0aGlzLnBsYXlQb3M9MCx0aGlzLnNlbmQ9cyx0aGlzLnVuaXRzPVtdLHRoaXMudW5pdElEPTAsdGhpcy5mYWRlVGltZT0uMDEsdGhpcy5tYXhVbml0cz0xLHRoaXMucT1bXX1mYWRlT3V0VW5pdCh0KXt0LmZhZGVPdXQodGhpcy5wbGF5UG9zLHRoaXMuZmFkZVRpbWUpLHRoaXMuZnJlZVVuaXQodC5pZCx0aGlzLmZhZGVUaW1lKX1mYWRlT3V0VW5pdEJ5SWQodCl7Y29uc3Qgcz10aGlzLnVuaXRzLmZpbmQoZT0+ZS5pZD09PXQpO3MmJnRoaXMuZmFkZU91dFVuaXQocyl9ZmFkZU91dEFsbFVuaXRzKCl7dGhpcy51bml0cy5mb3JFYWNoKHQ9PnRoaXMuZmFkZU91dFVuaXQodCkpfWZhZGVPdXRPbGRVbml0cygpe2NvbnN0IHQ9dGhpcy51bml0cy5maWx0ZXIoZT0+ZS5hY3RpdmUpLHM9dC5sZW5ndGgtdGhpcy5tYXhVbml0cztzPD0wfHx0LnNsaWNlKDAscykuZm9yRWFjaChlPT50aGlzLmZhZGVPdXRVbml0KGUpKX1zdG9wKCl7dGhpcy5mYWRlT3V0QWxsVW5pdHMoKSx0aGlzLnNlbmQoe3R5cGU6IlNUT1AiLGZhZGVUaW1lOnRoaXMuZmFkZVRpbWV9KX1zcGF3blVuaXQodCxzKXtjb25zdCBlPW5ldyB4dCh0aGlzLnVuaXRJRCsrLHQsdGhpcy5zYW1wbGVSYXRlLHRoaXMuc2VuZCk7dGhpcy51bml0cy5wdXNoKGUpLGUuZmFkZUluKHRoaXMucGxheVBvcyx0aGlzLmZhZGVUaW1lKSx0aGlzLmZhZGVPdXRPbGRVbml0cygpLGNvbnNvbGUubG9nKGBzcGF3biB1bml0ICR7ZS5pZH0sIHVuaXRzIGFsaXZlOiAke3RoaXMudW5pdHMubGVuZ3RofWApLHMmJnRoaXMuc2NoZWR1bGVNZXNzYWdlKHttc2c6e3R5cGU6IkZBREVfT1VUX1VOSVQiLGlkOmUuaWR9LHRpbWU6c30pfWZyZWVVbml0KHQscyl7aWYocyl7dGhpcy5zY2hlZHVsZU1lc3NhZ2Uoe21zZzp7dHlwZToiRlJFRV9VTklUIixpZDp0fSx0aW1lOnN9KTtyZXR1cm59Y29uc3QgZT10aGlzLnVuaXRzLmxlbmd0aDt0aGlzLnVuaXRzPXRoaXMudW5pdHMuZmlsdGVyKGk9PmkuaWQhPT10KSxlPnRoaXMudW5pdHMubGVuZ3RoJiZjb25zb2xlLmxvZyhgZnJlZSB1bml0ICR7dH0sIHVuaXRzIGFsaXZlOiAke3RoaXMudW5pdHMubGVuZ3RofWApfXBhcnNlTXNnKHQpe3N3aXRjaCh0LnR5cGUpe2Nhc2UiU1BBV05fVU5JVCI6dGhpcy5zcGF3blVuaXQodC51bml0LHQuZHVyYXRpb24pO2JyZWFrO2Nhc2UiRlJFRV9VTklUIjp0aGlzLmZyZWVVbml0KHQuaWQpO2JyZWFrO2Nhc2UiRkFERV9PVVRfVU5JVCI6dGhpcy5mYWRlT3V0VW5pdEJ5SWQodC5pZCk7YnJlYWs7Y2FzZSJOT1RFX09OIjp0aGlzLm5vdGVPbih0KTticmVhaztjYXNlIkNDIjp0aGlzLm1pZGlDQyh0KTticmVhaztjYXNlIlNFVF9DT05UUk9MIjp0aGlzLnNldENvbnRyb2wodCk7YnJlYWs7Y2FzZSJGQURFX1RJTUUiOnRoaXMuZmFkZVRpbWU9TnVtYmVyKHQuZmFkZVRpbWUpO2JyZWFrO2Nhc2UiTUFYX1VOSVRTIjp0aGlzLm1heFVuaXRzPU51bWJlcih0Lm1heFVuaXRzKTticmVhaztjYXNlIlNUT1AiOnRoaXMuc3RvcCgpO2JyZWFrO2Nhc2UiU0VUX1VHRU4iOnRoaXMuYWRkVWdlbih0LmNsYXNzTmFtZSx0LnVnZW4pO2JyZWFrO2Nhc2UiU0NIRURVTEVfTVNHIjp0aGlzLnNjaGVkdWxlTWVzc2FnZSh0KTticmVhaztjYXNlIkJBVENIX01TRyI6dC5tZXNzYWdlcy5mb3JFYWNoKHM9PnRoaXMucGFyc2VNc2cocykpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcihgdW5rbm93biBtZXNzYWdlIHR5cGUgJHt0LnR5cGV9YCl9fW5vdGVPbih0KXt0aGlzLnVuaXRzLmZvckVhY2gocz0+cy5ub3RlT24odCkpfW1pZGlDQyh0KXt0aGlzLnVuaXRzLmZvckVhY2gocz0+cy5taWRpQ0ModCkpfXNldENvbnRyb2wodCl7dGhpcy51bml0cy5mb3JFYWNoKHM9PnMuc2V0Q29udHJvbCh0KSl9c2NoZWR1bGVNZXNzYWdlKHQpe2lmKHQudGltZT10aGlzLnBsYXlQb3MrdC50aW1lLCF0aGlzLnEubGVuZ3RoKXt0aGlzLnEucHVzaCh0KTtyZXR1cm59bGV0IHM9MDtmb3IoO3M8dGhpcy5xLmxlbmd0aCYmdGhpcy5xW3NdLnRpbWU8dC50aW1lOylzKys7dGhpcy5xLnNwbGljZShzLDAsdCl9Z2VuU2FtcGxlKHQpe2Zvcig7dGhpcy5xLmxlbmd0aD4wJiZ0aGlzLnFbMF0udGltZTw9dGhpcy5wbGF5UG9zOyl0aGlzLnBhcnNlTXNnKHRoaXMucVswXS5tc2cpLHRoaXMucS5zaGlmdCgpO2lmKCF0aGlzLnVuaXRzLmxlbmd0aClyZXR1cm5bMCwwXTtjb25zdCBzPVswLDBdO2ZvcihsZXQgZT0wO2U8dGhpcy51bml0cy5sZW5ndGg7ZSsrKXtjb25zdCBpPXRoaXMudW5pdHNbZV0sbj1pLmdldExldmVsKHRoaXMucGxheVBvcyk7aS5nZW5TYW1wbGUodGhpcy5wbGF5UG9zLGkubm9kZXMsdCxpLnJlZ2lzdGVycyxpLm91dHB1dHMsaS5zb3VyY2VzKSxzWzBdKz1pLm91dHB1dHNbMF0qbixzWzFdKz1pLm91dHB1dHNbMV0qbn1yZXR1cm4gdGhpcy5wbGF5UG9zKz0xLzQ4ZTMsc31hZGRVZ2VuKHQscyl7Y29uc3QgZT1uZXcgRnVuY3Rpb24oYCR7c307cmV0dXJuICR7dH1gKSgpO3guc2V0KHQsZSl9fWNsYXNzIHh0e2NvbnN0cnVjdG9yKHQscyxlLGkpe3RoaXMuaWQ9dCx0aGlzLnNhbXBsZVJhdGU9ZSx0aGlzLnNlbmQ9aSx0aGlzLm5vZGVzPVtdLHRoaXMuYWN0aXZlPSEwO2ZvcihsZXQgciBpbiBzLnVnZW5zKXtjb25zdCBsPXMudWdlbnNbcl07aWYoeC5oYXMobC50eXBlKSl7Y29uc3QgdT14LmdldChsLnR5cGUpLGM9TnVtYmVyKHIpO3RoaXMubm9kZXNbY109bmV3IHUoYyxsLHRoaXMuc2FtcGxlUmF0ZSx0aGlzLnNlbmQpfWVsc2UgY29uc29sZS53YXJuKGB1bmtub3duIHVnZW4gIiR7bC50eXBlfSJgKX10aGlzLnJlZ2lzdGVycz1uZXcgQXJyYXkocy5yZWdpc3RlcnMpLmZpbGwoMCk7bGV0IG49MTY7dGhpcy5vdXRwdXRzPW5ldyBBcnJheShuKS5maWxsKDApLHRoaXMuc291cmNlcz1uZXcgQXJyYXkobikuZmlsbCgwKSxzLnNyYz1gby5maWxsKDApOyAvLyByZXNldCBvdXRwdXRzCmArcy5zcmMsdGhpcy5nZW5TYW1wbGU9bmV3IEZ1bmN0aW9uKCJ0aW1lIiwibm9kZXMiLCJpbnB1dCIsInIiLCJvIiwicyIscy5zcmMpfW5vdGVPbih0KXt2YXIgdSxjLGI7Y29uc3R7Y2hhbm5lbDpzLG5vdGU6ZSx2ZWxvY2l0eTppfT10LG49dGhpcy5ub2Rlcy5maWx0ZXIoYT0+YS50eXBlPT09Im1pZGlmcmVxIiYmKGEuY2hhbm5lbD09PS0xfHxhLmNoYW5uZWw9PT1zKSkscj10aGlzLm5vZGVzLmZpbHRlcihhPT5hLnR5cGU9PT0ibWlkaWdhdGUiJiYoYS5jaGFubmVsPT09LTF8fGEuY2hhbm5lbD09PXMpKSxsPXRoaXMubm9kZXMuZmlsdGVyKGE9PmEudHlwZT09PSJtaWRpdmVsIiYmKGEuY2hhbm5lbD09PS0xfHxhLmNoYW5uZWw9PT1zKSk7aWYoaT4wKXtsZXQgYT1uLmZpbmQocD0+cC5pc0ZyZWUoKSl8fG5bMF0sZD1yLmZpbmQocD0+cC5pc0ZyZWUoKSl8fHJbMF0sZj1sLmZpbmQocD0+cC5pc0ZyZWUoKSl8fGxbMF07YT09bnVsbHx8YS5ub3RlT24oZSxpKSxkPT1udWxsfHxkLm5vdGVPbihlLGkpLGY9PW51bGx8fGYubm90ZU9uKGUsaSl9ZWxzZSh1PW4uZmluZChhPT5hLm5vdGU9PT1lKSk9PW51bGx8fHUubm90ZU9mZigpLChjPXIuZmluZChhPT5hLm5vdGU9PT1lKSk9PW51bGx8fGMubm90ZU9mZigpLChiPWwuZmluZChhPT5hLm5vdGU9PT1lKSk9PW51bGx8fGIubm90ZU9mZigpfW1pZGlDQyh0KXtjb25zdHtjaGFubmVsOnMsY2M6ZSx2YWx1ZTppfT10O3RoaXMubm9kZXMuZm9yRWFjaChuPT57bi50eXBlPT09Im1pZGljYyImJihuLmNoYW5uZWw9PT0tMXx8bi5jaGFubmVsPT09cykmJm4uY2NudW1iZXI9PT1lJiZuLnNldFZhbHVlKGkpfSl9c2V0Q29udHJvbCh0KXtjb25zdHt2YWx1ZTpzLGlkOmV9PXQsaT10aGlzLm5vZGVzLmZpbmQobj0+bi50eXBlPT09ImNjIiYmbi5pZD09PWUpO2kmJmkuc2V0VmFsdWUocyl9Z2V0TGV2ZWwodCl7cmV0dXJuIHRoaXMuZmFkZVN0YXJ0PT09dm9pZCAwPzA6dGhpcy5hY3RpdmU/UygodC10aGlzLmZhZGVTdGFydCkvdGhpcy5mYWRlVGltZSwwLC4zKTpTKCh0LXRoaXMuZmFkZVN0YXJ0KS90aGlzLmZhZGVUaW1lLHRoaXMuZmFkZUZyb20sMCl9ZmFkZUluKHQscyl7dGhpcy5mYWRlU3RhcnQ9dCx0aGlzLmZhZGVUaW1lPXN9ZmFkZU91dCh0LHMpe3RoaXMuZmFkZVRpbWU9cyx0aGlzLmZhZGVGcm9tPXRoaXMuZ2V0TGV2ZWwodCksdGhpcy5hY3RpdmU9ITEsdGhpcy5mYWRlU3RhcnQ9dH1pc0RvbmUodCl7cmV0dXJuIXRoaXMuYWN0aXZlJiZ0aGlzLmdldExldmVsKHQpPT09MH19Y2xhc3MgVHQgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMucG9ydC5vbm1lc3NhZ2U9dGhpcy5vbm1lc3NhZ2UuYmluZCh0aGlzKSx0aGlzLmF1ZGlvR3JhcGg9bmV3IE90KDQ4ZTMsdGhpcy5wb3J0LnBvc3RNZXNzYWdlLmJpbmQodGhpcy5wb3J0KSl9b25tZXNzYWdlKHQpe2xldCBzPXQuZGF0YTt0aGlzLmF1ZGlvR3JhcGgucGFyc2VNc2cocyl9cHJvY2Vzcyh0LHMsZSl7Y29uc3QgaT1zWzBdLG49dFswXVswXSxyPWlbMF0sbD1pWzFdO2ZvcihsZXQgdT0wO3U8ci5sZW5ndGg7dSsrKXtsZXRbYyxiXT10aGlzLmF1ZGlvR3JhcGguZ2VuU2FtcGxlKG4/blt1XTowKTtyW3VdPWMsbFt1XT1ifXJldHVybiEwfX1yZWdpc3RlclByb2Nlc3Nvcigic2FtcGxlLWdlbmVyYXRvciIsVHQpfSkoKTsK",$A="data:text/javascript;base64,KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NsYXNzIG4gZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToiaXNSZWNvcmRpbmciLGRlZmF1bHRWYWx1ZTowfV19Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuX2J1ZmZlclNpemU9MjA0OCx0aGlzLl9idWZmZXI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLl9idWZmZXJTaXplKSx0aGlzLl9pbml0QnVmZmVyKCl9X2luaXRCdWZmZXIoKXt0aGlzLl9ieXRlc1dyaXR0ZW49MH1faXNCdWZmZXJFbXB0eSgpe3JldHVybiB0aGlzLl9ieXRlc1dyaXR0ZW49PT0wfV9pc0J1ZmZlckZ1bGwoKXtyZXR1cm4gdGhpcy5fYnl0ZXNXcml0dGVuPT09dGhpcy5fYnVmZmVyU2l6ZX1fYXBwZW5kVG9CdWZmZXIoZSl7dGhpcy5faXNCdWZmZXJGdWxsKCkmJnRoaXMuX2ZsdXNoKCksdGhpcy5fYnVmZmVyW3RoaXMuX2J5dGVzV3JpdHRlbl09ZSx0aGlzLl9ieXRlc1dyaXR0ZW4rPTF9X2ZsdXNoKCl7bGV0IGU9dGhpcy5fYnVmZmVyO3RoaXMuX2J5dGVzV3JpdHRlbjx0aGlzLl9idWZmZXJTaXplJiYoZT1lLnNsaWNlKDAsdGhpcy5fYnl0ZXNXcml0dGVuKSksdGhpcy5wb3J0LnBvc3RNZXNzYWdlKHtldmVudFR5cGU6ImRhdGEiLGF1ZGlvQnVmZmVyOmV9KSx0aGlzLl9pbml0QnVmZmVyKCl9X3JlY29yZGluZ1N0b3BwZWQoKXt0aGlzLnBvcnQucG9zdE1lc3NhZ2Uoe2V2ZW50VHlwZToic3RvcCJ9KX1wcm9jZXNzKGUsbyxoKXtjb25zdCBpPWguaXNSZWNvcmRpbmcsZj1vWzBdLHM9ZVswXSx1PWZbMF0sXz1mWzFdO2xldCByPSExO2ZvcihsZXQgdD0wO3Q8dS5sZW5ndGg7dCsrKXQ8aS5sZW5ndGgmJihyPWlbdF09PT0xKSwhciYmIXRoaXMuX2lzQnVmZmVyRW1wdHkoKSYmKHRoaXMuX2ZsdXNoKCksdGhpcy5fcmVjb3JkaW5nU3RvcHBlZCgpKSxyJiYodGhpcy5fYXBwZW5kVG9CdWZmZXIoc1swXVt0XSksdGhpcy5fYXBwZW5kVG9CdWZmZXIoc1sxXVt0XSkpLHVbdF09c1swXVt0XSxfW3RdPXNbMV1bdF07cmV0dXJuITB9fXJlZ2lzdGVyUHJvY2Vzc29yKCJyZWNvcmRlciIsbil9KSgpOwo=";function eF(e,t,n){if(e.length<1)return;e[0];const i=3,s=32,r=e.map(f=>f.length).reduce((f,b)=>f+b,0),a=s/8,o=n*a,c=44,l=new ArrayBuffer(c+r*a),d=new DataView(l);Pr(d,0,"RIFF"),d.setUint32(4,36+r*a,!0),Pr(d,8,"WAVE"),Pr(d,12,"fmt "),d.setUint32(16,16,!0),d.setUint16(20,i,!0),d.setUint16(22,n,!0),d.setUint32(24,t,!0),d.setUint32(28,t*o,!0),d.setUint16(32,o,!0),d.setUint16(34,s,!0),Pr(d,36,"data"),d.setUint32(40,r*a,!0);let m=44;for(const f of e)tF(d,m,f),m+=f.length*a;return l}function Pr(e,t,n){for(let i=0;i<n.length;i++)e.setUint8(t+i,n.charCodeAt(i))}function tF(e,t,n){for(var i=0;i<n.length;i++,t+=4)e.setFloat32(t,n[i],!0)}const sC=Object.freeze(Object.defineProperty({__proto__:null,Node:Ze,compile:Uf,evaluate:tC,exit:eC,exportModule:KA,getInletName:YA,getNode:$3,module:Tt,n:Ht,node:Li,nodeRegistry:Ft,outputType:jf,polyType:jn,register:yt,registerNode:$},Symbol.toStringTag,{value:"Module"}));let nF=e=>`Math.sin(${e})`,iF=e=>`Math.cos(${e})`,sF=e=>`Math.tan(${e})`,rF=e=>`Math.asin(${e})`,aF=e=>`Math.acos(${e})`,uF=e=>`Math.atan(${e})`,rC=(e,t,n)=>`${e} = ${t};${n?` /* ${n} */`:""}`,Jf=(e,...t)=>rC(e.name,`nodes[${e.ugenIndex}].update(${t.join(",")})`,e.node.type),oF=e=>`(2 ** ((${e} - 69) / 12) * 440)`,cF=(e,t)=>`${e} ** ${t}`,lF=e=>`Math.exp(${e})`,dF=e=>`Math.log(${e})`,hF=(e,t)=>`${e}%${t}`,pF=e=>`Math.abs(${e})`,mF=e=>`Math.round(${e})`,fF=e=>`Math.floor(${e})`,yF=e=>`Math.sign(${e})`,gF=e=>`Math.ceil(${e})`,bF=(e,t)=>`Math.min(${e}, ${t})`,MF=(e,t)=>`Math.max(${e}, ${t})`,CF=(e,t)=>`[${e}, ${t}]`,gs=e=>`${e}[0]`;const vF=Object.freeze(Object.defineProperty({__proto__:null,abs:pF,ceil:gF,def:rC,defAcos:aF,defAsin:rF,defAtan:uF,defCos:iF,defSin:nF,defTan:sF,defUgen:Jf,exp:lF,floor:fF,log:dF,max:MF,midinote:oF,min:bF,mod:hF,pair_a:gs,pair_a_max:(e,t)=>`(${gs(e)} > ${gs(t)} ? ${e} : ${t})`,pair_a_min:(e,t)=>`(${gs(e)} < ${gs(t)} ? ${e} : ${t})`,pair_b:e=>`${e}[1]`,pair_make:CF,pow:cF,round:mF,sign:yF},Symbol.toStringTag,{value:"Module"}));class PF{constructor(t=null){this.ugens=new Map,this.outputNode=t}async spawn(t,n){this.graph=t;const{src:i,ugens:s,registers:r}=t.compile({log:!1});!this.mouse&&i.includes("mouse")&&this.initMouse(),!this.midiInited&&s.some(a=>a.type.startsWith("Midi"))&&this.initMidi(),!this.audioIn&&s.some(a=>a.type==="AudioIn")&&await this.initAudioIn(),this.sendCustomUgens(),this.send({type:"SPAWN_UNIT",unit:{src:i,ugens:s,registers:r},duration:n})}registerUgen(t){this.ugens.set(t.name,t)}sendCustomUgens(){if(!this.ugens.size)return;let t=[];for(let[n,i]of this.ugens)t.push({type:"SET_UGEN",className:n,ugen:i+""});this.send({type:"BATCH_MSG",messages:t})}scheduleMessage(t,n){this.send({type:"SCHEDULE_MSG",msg:t,time:n})}setControl(t,n,i){const s={type:"SET_CONTROL",id:t,value:n};i?this.send({type:"SCHEDULE_MSG",time:i,msg:s}):this.send(s)}setControls(t){const n={type:"BATCH_MSG",messages:t.map(i=>{const s={type:"SET_CONTROL",id:i.id,value:i.value};return i.time===void 0?s:{type:"SCHEDULE_MSG",time:i.time,msg:s}})};this.send(n)}async initAudioIn(){console.log("init audio input...");const t=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1}});this.audioCtx.createMediaStreamSource(t).connect(this.audioWorklet)}initMidi(){console.log("init midi input..."),this.midiInited=!0,new UA().on("midimessage",(t,n)=>{const i=JA(n);i&&this.send(i)})}initMouse(){console.log("init mouse"),this.mouse=new QA,this.mouse.on("move",(t,n)=>{this.setControl("mouseX",t),this.setControl("mouseY",n)})}send(t){Kf(t instanceof Object),this.audioWorklet&&this.audioWorklet.port.postMessage(t)}async init(){if(!this.audioCtx){if(Kf(!this.audioCtx),this.audioCtx=this.outputNode?.context||new AudioContext({latencyHint:"interactive",sampleRate:48e3}),await this.audioCtx.resume(),!this.audioCtx.audioWorklet)throw new Error("Audio cannot be loaded: non-secure origin? (AudioContext.audioWorklet is undefined)");await this.audioCtx.audioWorklet.addModule(qA),await this.audioCtx.audioWorklet.addModule($A),this.audioWorklet=new AudioWorkletNode(this.audioCtx,"sample-generator",{outputChannelCount:[2]}),this.audioWorklet.port.onmessage=t=>{const{id:n,time:i,type:s}=t.data;s==="SIGNAL_TRIGGER"?this.graph.dfs(r=>{if(r.type==="signal"&&r.id===n){const a=r.callback(i,n);isNaN(a)?a!==void 0&&console.warn(`expected number from "on" callback with id "${n}", got "${a}" instead.`):window.postMessage({type:"KABELSALAT_SET_CONTROL",value:a,id:n})}return r}):s==="STOP"?setTimeout(()=>this.destroy(),t.data.fadeTime*1e3+200):s==="SEND_SAMPLES"&&this.graph.dfs(r=>(r.type!=="scope"||r.ins.length<2||r.ins[1].value!==n||window.postMessage({type:"KABELSALAT_UPDATE_SCOPE",samples:t.data.samples,channels:t.data.channels,channel:t.data.channel,id:n}),r))},this.recorder=new window.AudioWorkletNode(this.audioCtx,"recorder"),this.audioWorklet.connect(this.recorder),this.sendCustomUgens(),this.recorder.connect(this.outputNode||this.audioCtx.destination),this.recorder.port.onmessage=t=>{if(t.data.eventType==="data"&&this.recordedBuffers.push(t.data.audioBuffer),t.data.eventType==="stop"){console.log("recording stopped");const n=eF(this.recordedBuffers,this.audioCtx.sampleRate,2);GF(n,"kabelsalat.wav","audio/wav"),this.recordedBuffers=[]}},this.recordOnPlay&&this.record()}}destroy(){this.audioWorklet?.disconnect(),this.audioWorklet=null,this.recorder?.disconnect(),this.recorder=null,!this.outputNode&&this.audioCtx?.close(),this.audioCtx=null}stop(){this.audioCtx&&this.send({type:"STOP"}),this.mouse?.detach()}record(){if(!this.audioCtx){this.recordOnPlay=!0;return}this.recordedBuffers=[],this.recorder.parameters.get("isRecording").setValueAtTime(1,0),console.log("recording started")}stopRecording(){this.recordOnPlay=!1,this.audioCtx&&this.recorder.parameters.get("isRecording").setValueAtTime(0,0)}set fadeTime(t){this.send({type:"FADE_TIME",fadeTime:t})}set maxUnits(t){this.send({type:"MAX_UNITS",maxUnits:t})}}function GF(e,t,n){const i=new Blob([e],{type:n}),s=document.createElement("a");s.href=window.URL.createObjectURL(i),s.download=t,s.click()}let AF=0;yt("signal",(e,t)=>{const n=AF++,i=getNode("signal",e,n);return i.callback=t,i.id=n,i},{ugen:"Signal",compile:({vars:[e,t],...n})=>Jf(n,e,t,"time")});let FF=e=>`sin(${e})`,wF=e=>`cos(${e})`,DF=e=>`tan(${e})`,XF=e=>`asin(${e})`,SF=e=>`acos(${e})`,ZF=e=>`atan(${e})`,Qf=(e,t,n)=>`${e} = ${t};${n?` /* ${n} */`:""}`,EF=(e,...t)=>{if(t.unshift(`nodes[${e.ugenIndex}]`),e.ugen==="Sequence"||e.ugen==="Pick"){const n=t.length-2,i=`(float[${n}]){${t.slice(2).join(",")}}`;return Qf(e.name,`${e.ugen}_update(${t[0]}, ${t[1]}, ${n}, ${i})`,e.ugen)}return Qf(e.name,`${e.ugen}_update(${t.join(",")})`,e.ugen)},LF=e=>`pow(2.0, ((${e} - 69.0) / 12.0)) * 440.0`,xF=(e,t)=>`pow(${e}, ${t})`,RF=e=>`exp(${e})`,BF=e=>`log(${e})`,kF=(e,t)=>`${e}>=${t}?${e}-${t}:${e}`,VF=e=>`fabs(${e})`,zF=(e,t)=>`fmin(${e}, ${t})`,NF=(e,t)=>`fmax(${e}, ${t})`,WF=e=>`fround(${e})`,TF=e=>`floor(${e})`,IF=e=>`ceil(${e})`,_F=(e,t)=>`((pair) {${e}, ${t}})`,bs=e=>`${e}.a`;const YF=Object.freeze(Object.defineProperty({__proto__:null,abs:VF,ceil:IF,def:Qf,defAcos:SF,defAsin:XF,defAtan:ZF,defCos:wF,defSin:FF,defTan:DF,defUgen:EF,exp:RF,floor:TF,log:BF,max:NF,midinote:LF,min:zF,mod:kF,pair_a:bs,pair_a_max:(e,t)=>`(${bs(e)} > ${bs(t)} ? ${e} : ${t})`,pair_a_min:(e,t)=>`(${bs(e)} < ${bs(t)} ? ${e} : ${t})`,pair_b:e=>`${e}.b`,pair_make:_F,pow:xF,round:WF},Symbol.toStringTag,{value:"Module"})),I={js:vF,c:YF},aC=(e,t)=>$(e,{ugen:t,compile:({vars:n,...i})=>I[i.lang].defUgen(i,...n)});let HF=yt("time",e=>new Ze("time",e),{tags:["meta"],description:"Returns elapsed time in seconds",compile:({name:e,lang:t})=>I[t].def(e,"time")}),KF=yt("raw",(e,t)=>new Ze("raw",t).withIns(Ht(e)),{ins:[{name:"in"},{name:"code",description:"expression with variable `t` being the elapsed time and `$input` the input."}],tags:["meta"],description:"Raw code node, expects floats between -1 and 1",compile:({vars:e,node:t,name:n})=>`let $input = ${e[0]}; 
const ${n} = (${t.value}); // raw`,examples:[`sine(4).range(.5,1)
.raw("(time*110%1*2-1)*$input")
.out()`]}),jF=yt("bytebeat",(e,t)=>new Ze("bytebeat",t).withIns(Ht(e)),{ins:[{name:"t",description:"time in samples"},{name:"code",description:"bytebeat code with variable `t`"}],tags:["meta"],description:"Bytebeat node, expects numbers from 0 to 255",examples:[`time().mul(8000).bytebeat\`
// Fractalized Past
// by: lhphr
// from: https://dollchan.net/btb/res/3.html#69

(t>>10^t>>11)%5*((t>>14&3^t>>15&1)+1)*t%99+((3+(t>>14&3)-(t>>16&1))/3*t%99&64)
\`.out()`],compile:({vars:e,node:t,name:n})=>`let t = ${e[0]}; 
const ${n} = ((${t.value}) & 255) / 127.5 - 1; // bytebeat`}),OF=yt("floatbeat",(e,t)=>new Ze("bytebeat",t).withIns(Ht(e)),{ins:[{name:"t",description:"time in samples"},{name:"code",description:"floatbeat code with variable `t`"}],tags:["meta"],description:"Raw code node, expects numbers from -1 to 1",compile:({vars:e,node:t,name:n})=>`let t = ${e[0]}; const ${n} = (${t.value}); // floatbeat`}),UF=$("adsr",{ugen:"ADSRNode",tags:["envelope"],description:"ADSR envelope",examples:[`impulse(1).perc(.5)
.adsr(.01, .1, .5, .1)
.mul(sine(220)).out()`],ins:[{name:"gate",default:0,description:"gate input"},{name:"att",default:.02,description:"attack time"},{name:"dec",default:.1,description:"decay time"},{name:"sus",default:.2,description:"sustain level"},{name:"rel",default:.1,description:"release time"}],compile:({vars:[e=0,t=.02,n=.1,i=.2,s=.1],...r})=>I[r.lang].defUgen(r,"time",e,t,n,i,s)}),JF=Tt("ar",(e=0,t=.02,n=.1)=>e.adsr(t,0,1,n),{tags:["envelope"],description:"AR envelope",examples:["impulse(1).ad(.01, .1).mul(sine(220)).out()"],ins:[{name:"trig",default:0,description:"gate input"},{name:"att",default:.02,description:"attack time"},{name:"rel",default:.1,description:"release time"}]}),QF=Tt("ad",(e=0,t=.02,n=.1)=>e.adsr(t,n,0,n),{tags:["envelope"],description:"AD envelope",examples:["impulse(1).ad(.01, .1).mul(sine(220)).out()"],ins:[{name:"trig",default:0,description:"gate input"},{name:"att",default:.02,description:"attack time"},{name:"dec",default:.1,description:"decay time"}]}),qF=$("clock",{ugen:"Clock",internal:!0,tags:["regular","clock"],description:"Clock source, with tempo in BPM",examples:["clock(120).clockdiv(16).mul(sine(220)).out()"],ins:[{name:"bpm",default:120,description:"clock tempo in bpm (beats per minute)"}],compile:({vars:[e=120],...t})=>I[t.lang].defUgen(t,e)}),$F=$("clockdiv",{ugen:"ClockDiv",tags:["clock","trigger"],description:"Clock signal divider",examples:["impulse(8).clockdiv(2).ad(.1,.1).mul(sine(220)).out()"],ins:[{name:"clock",default:0,description:"clock input"},{name:"divisor",default:2,description:"tempo divisor"}],compile:({vars:[e=0,t=2],...n})=>I[n.lang].defUgen(n,e,t)}),ew=$("distort",{ugen:"Distort",tags:["fx","distortion"],description:"Overdrive-style distortion",examples:[`sine(220)
.distort( saw(.5).range(0,1) )
.out()`],ins:[{name:"in",default:0},{name:"amt",default:0,description:"distortion amount"}],compile:({vars:[e=0,t=0],...n})=>I[n.lang].defUgen(n,e,t)}),uC=$("noise",{ugen:"NoiseOsc",tags:["source","noise"],description:"White noise source",examples:["noise().mul(.25).out()"],ins:[{name:"next",default:1,description:"if 0, the noise will hold the previous value. defaults to 1."}],compile:({lang:e,vars:[t=1],...n})=>I[e].defUgen(n,t)}),tw=$("lcgnoise",{ugen:"LcgNoise",tags:["source","noise"],description:"Lcg white noise source.",examples:["lcgnoise().mul(.25).out()"],ins:[{name:"next",default:1,description:"if 0, the noise will hold the previous value. defaults to 1."},{name:"reset",default:0,description:"if 1, the random number generator sequence will reset."}],compile:({lang:e,vars:[t=1,n=0],...i})=>I[e].defUgen(i,t,n)}),nw=$("pink",{ugen:"PinkNoise",tags:["source","noise"],description:"Pink noise source",examples:["pink().mul(.5).out()"],ins:[],compile:({lang:e,...t})=>I[e].defUgen(t)}),iw=$("brown",{ugen:"BrownNoiseOsc",tags:["source","noise"],description:"Brown noise source",examples:["brown().out()"],ins:[],compile:({lang:e,...t})=>I[e].defUgen(t)}),sw=$("dust",{ugen:"DustOsc",tags:["trigger","noise","source"],description:"Generates random impulses from 0 to +1.",examples:["dust(200).out()"],ins:[{name:"density",default:0,description:"average impulses per second"}],compile:({vars:[e=0],...t})=>I[t.lang].defUgen(t,e)}),oC=$("impulse",{ugen:"ImpulseOsc",tags:["regular","trigger"],description:"Regular single sample impulses (0 - 1)",examples:["impulse(10).out()"],ins:[{name:"freq",default:0},{name:"phase",default:0}],compile:({vars:[e=0,t=0],...n})=>I[n.lang].defUgen(n,e,t)}),rw=$("saw",{ugen:"SawOsc",tags:["regular","waveform","source"],description:"Sawtooth wave oscillator with anti aliasing",examples:["saw(110).mul(.5).out()"],ins:[{name:"freq",default:0}],compile:({vars:[e=0],...t})=>I[t.lang].defUgen(t,e)}),aw=$("zaw",{ugen:"ZawOsc",tags:["regular","waveform","source"],description:"Sawtooth wave oscillator with sharp edges. Use saw for anti aliased variant.",examples:["zaw(110).mul(.5).out()"],ins:[{name:"freq",default:0}],compile:({vars:[e=0],...t})=>I[t.lang].defUgen(t,e)}),uw=$("sine",{tags:["regular","waveform","source"],ugen:"SineOsc",description:"Sine wave oscillator",examples:["sine(220).out()"],ins:[{name:"freq",default:0},{name:"sync",default:0,description:"sync input"},{name:"phase",default:0,description:"phase offset"}],compile:({vars:[e=0,t=0,n=0],...i})=>I[i.lang].defUgen(i,e,t,n)}),ow=$("tri",{ugen:"TriOsc",tags:["regular","waveform","source"],description:"Triangle wave oscillator",examples:["tri(220).out()"],ins:[{name:"freq",default:0}],compile:({vars:[e=0],...t})=>I[t.lang].defUgen(t,e)}),cw=$("pulse",{ugen:"PulseOsc",tags:["regular","waveform","source"],description:"Pulse wave oscillator",examples:["pulse(220, sine(.1).range(.1,.5)).mul(.5).out()"],ins:[{name:"freq",default:0},{name:"pw",default:.5,description:"pulse width 0 - 1"}],compile:({vars:[e=0,t=.5],...n})=>I[n.lang].defUgen(n,e,t)}),lw=$("slide",{ugen:"Slide",tags:["fx"],internal:!0,description:"Slide/portamento node",examples:[`impulse(2).seq(55,110,220,330)
.slide(4).sine().out()`],ins:[{name:"in",default:0},{name:"rate",default:1}],compile:({vars:[e=0,t=1],...n})=>I[n.lang].defUgen(n,e,t)}),dw=$("lag",{ugen:"Lag",tags:["fx"],description:"Smoothes a signal. Good for slide / portamento effects.",examples:[`impulse(2).seq(220,330,440,550)
.lag(.4).sine().out()`],ins:[{name:"in",default:0},{name:"rate",default:1,description:"60 dB lag time in seconds"}],compile:({vars:[e=0,t=1],...n})=>I[n.lang].defUgen(n,e,t)}),hw=$("slew",{ugen:"Slew",tags:["fx"],description:"Limits the slope of an input signal. The slope is expressed in units per second.",examples:["pulse(800).slew(4000, 4000).out()"],ins:[{name:"in",default:0},{name:"up",default:1,description:"Maximum upward slope in units per second"},{name:"dn",default:1,description:"Maximum downward slope in units per second"}],compile:({vars:[e=0,t=1,n=1],...i})=>I[i.lang].defUgen(i,e,t,n)}),cC=$("filter",{ugen:"Filter",tags:["fx","filter"],internal:!0,description:"Two-pole low-pass filter",examples:["saw(55).lpf( sine(1).range(.4,.8) ).out()"],ins:[{name:"in",default:0},{name:"cutoff",default:1},{name:"reso",default:0}],compile:({vars:[e=0,t=1,n=0],...i})=>I[i.lang].defUgen(i,e,t,n)}),pw=$("fold",{ugen:"Fold",tags:["fx","distortion","limiter"],description:'Distort incoming audio signal by "folding"',examples:[`sine(55)
.fold( sine(.5).range(0.2,4) )
.out()`],ins:[{name:"in",default:0},{name:"rate",default:0}],compile:({vars:[e=0,t=0],...n})=>I[n.lang].defUgen(n,e,t)}),mw=$("seq",{ugen:"Sequence",tags:["sequencer"],description:"Trigger controlled sequencer",examples:[`impulse(2).seq(220,330,440,550)
.sine().out()`],ins:[{name:"trig",default:0},{name:"step",default:0,dynamic:!0,description:"step inputs"}],compile:({vars:e,...t})=>I[t.lang].defUgen(t,...e)}),fw=$("delay",{ugen:"Delay",tags:["fx"],description:"Delay line node",examples:[`impulse(1).ad(.01,.2).mul(sine(220))
.add(x=>x.delay(.1).mul(.8)).out()`],ins:[{name:"in",default:0},{name:"time",default:0}],compile:({vars:[e=0,t=0],...n})=>I[n.lang].defUgen(n,e,t)}),yw=$("hold",{ugen:"Hold",tags:["fx"],description:"Sample and hold",examples:[`noise().hold(impulse(2))
.range(220,880).sine().out()`],ins:[{name:"in",default:0},{name:"trig",default:0}],compile:({vars:[e=0,t=0],...n})=>I[n.lang].defUgen(n,e,t)}),gw=$("midifreq",{ugen:"MidiFreq",tags:["external","midi"],description:"Outputs frequency of midi note in. Multiple instances will do voice allocation",examples:["midifreq().sine().out()"],ins:[{name:"channel",default:-1,description:"Channel filter. Defaults to all channels"}],compile:({vars:[e=-1],...t})=>I[t.lang].defUgen(t,e)}),bw=$("midigate",{ugen:"MidiGate",tags:["external","midi"],description:"outputs gate of midi note in. Multiple instances will do voice allocation",examples:["midigate().lag(1).mul(sine(220)).out()"],ins:[{name:"channel",default:-1}],compile:({vars:[e=-1],...t})=>I[t.lang].defUgen(t,e)}),Mw=$("midivel",{ugen:"MidiVel",tags:["external","midi"],description:"outputs velocity of midi note in. Multiple instances will do voice allocation",examples:["midigate().ar(0.01,0.2).mul(saw(midifreq())).mul(midivel()).mul(.8).out()"],ins:[{name:"channel",default:-1}],compile:({vars:[e=-1],...t})=>I[t.lang].defUgen(t,e)}),Cw=$("midicc",{ugen:"MidiCC",tags:["external","midi"],description:"Outputs bipolar value of given midi cc number. initValue can be set to be the output before getting first cc message.",examples:["midicc(74).range(100,200).sine().out()"],ins:[{name:"ccnumber",default:-1},{name:"channel",default:-1},{name:"initValue",default:-1}],compile:({vars:[e=-1,t=-1],...n})=>I[n.lang].defUgen(n,e,t)}),qf=$("cc",{ugen:"CC",tags:["external"],description:"CC control",ins:[{name:"id",default:0},{name:"value",default:0}],compile:({vars:[e],...t})=>I[t.lang].defUgen(t,e)}),vw=$("audioin",{ugen:"AudioIn",tags:["source","external"],description:"External Audio Input, depends on your system input",examples:["audioin().add(x=>x.delay(.1).mul(.8)).out()"],ins:[],compile:e=>I[e.lang].defUgen(e,"input")}),$f=$("log",{tags:["math"],description:"calculates the logarithm (base 10) of the input signal",ins:[{name:"in"}],compile:({vars:[e=0],name:t,lang:n})=>I[n].def(t,I[n].log(e))}),lC=$("exp",{tags:["math"],description:"raises e to the power of the input signal",ins:[{name:"in"}],compile:({vars:[e=0],name:t,lang:n})=>I[n].def(t,I[n].exp(e))}),Pw=$("pow",{tags:["math"],description:"raises the input to the given power",ins:[{name:"in"},{name:"power"}],compile:({vars:[e=0,t=1],name:n,lang:i})=>I[i].def(n,I[i].pow(e,t))}),dC=$("sin",{tags:["math"],description:"calculates the sine of the input signal",ins:[{name:"in"}],compile:({vars:[e=0],name:t,lang:n})=>I[n].def(t,I[n].defSin(e))}),hC=$("cos",{tags:["math"],description:"calculates the cosine of the input signal",ins:[{name:"in"}],compile:({vars:[e=0],name:t,lang:n})=>I[n].def(t,I[n].defCos(e))}),Gw=$("tan",{tags:["math"],description:"calculates the tan of the input signal",ins:[{name:"in"}],compile:({vars:[e=0],name:t,lang:n})=>I[n].def(t,I[n].defTan(e))}),Aw=$("acos",{tags:["math"],description:"calculates the acos of the input signal",ins:[{name:"in"}],compile:({vars:[e=0],name:t,lang:n})=>I[n].def(t,I[n].defAcos(e))}),Fw=$("asin",{tags:["math"],description:"calculates the asin of the input signal",ins:[{name:"in"}],compile:({vars:[e=0],name:t,lang:n})=>I[n].def(t,I[n].defAsin(e))}),ww=$("atan",{tags:["math"],description:"calculates the atan of the input signal",ins:[{name:"in"}],compile:({vars:[e=0],name:t,lang:n})=>I[n].def(t,I[n].defAtan(e))}),Dw=$("mul",{tags:["math"],description:"Multiplies the given signals.",examples:["sine(220).mul( sine(4).range(.25,1) ).out()"],ins:[{name:"in",dynamic:!0}],compile:({vars:e,name:t,lang:n})=>I[n].def(t,e.join(" * ")||0)}),e1=$("add",{tags:["math"],description:"sums the given signals",examples:["n([0,3,7,10]).add(60).midinote().sine().mix(2).out()"],ins:[{name:"in",dynamic:!0}],compile:({vars:e,name:t,lang:n})=>I[n].def(t,e.join(" + ")||0)}),Xw=$("div",{tags:["math"],description:"adds the given signals",ins:[{name:"in",dynamic:!0}],compile:({vars:e,name:t,lang:n})=>I[n].def(t,e.join(" / ")||0)}),Sw=$("sub",{tags:["math"],description:"subtracts the given signals",ins:[{name:"in",dynamic:!0}],compile:({vars:e,name:t,lang:n})=>I[n].def(t,e.join(" - ")||0)}),Zw=$("mod",{tags:["math"],description:"calculates the modulo",examples:["add(x=>x.add(.003).mod(1)).out()"],ins:[{name:"in"},{name:"modulo"}],compile:({vars:e,name:t,lang:n})=>I[n].def(t,I[n].mod(...e)||0)}),Ew=$("abs",{tags:["math"],description:"returns the absolute value of the signal",ins:[{name:"in"}],examples:["sine(440).abs().out()"],compile:({vars:[e=0],name:t,lang:n})=>I[n].def(t,I[n].abs(e))}),Lw=$("round",{tags:["math"],description:"Rounds the signal to the nearest integer",ins:[{name:"in"}],examples:["sine(440.5).round().out()"],compile:({vars:[e=0],name:t,lang:n})=>I[n].def(t,I[n].round(e))}),xw=$("clamp",{tags:["math"],description:"Clamps the signal to stay within the given range",ins:[{name:"in"},{name:"min"},{name:"max"}],examples:["sine(440.5).clamp(-.6,.6).out()"],compile:({vars:[e=0,t=-1,n=1],name:i,lang:s})=>{const r=I[s].min(t,n),a=I[s].max(t,n),o=I[s].min(I[s].max(e,r),a);return I[s].def(i,o)}}),Rw=$("floor",{tags:["math"],description:"Rounds the signal down",ins:[{name:"in"}],examples:["sine(440.5).floor().out()"],compile:({vars:[e=0],name:t,lang:n})=>I[n].def(t,I[n].floor(e))}),Bw=$("ceil",{tags:["math"],description:"Rounds the signal up",ins:[{name:"in"}],examples:["sine(440.5).ceil().out()"],compile:({vars:[e=0],name:t,lang:n})=>I[n].def(t,I[n].ceil(e))}),kw=$("sign",{tags:["math"],description:"Returns 1 if positive and -1 if negative. uses Math.sign",ins:[{name:"in"}],examples:["sine(440.5).ceil().out()"],compile:({vars:[e=0],name:t,lang:n})=>I[n].def(t,I[n].sign(e))}),Vw=$("min",{tags:["math"],description:"returns the minimum of the given signals",examples:["impulse(4).apply(x => min(x.seq(0,3,2), x.seq(0,7,0,5,0)).add(48).midinote().sine()).out()"],ins:[{name:"in",dynamic:!0}],compile:({vars:e,name:t,lang:n})=>I[n].def(t,e.reduce(I[n].min)||0)}),zw=$("max",{tags:["math"],description:"returns the maximum of the given signals",examples:["impulse(4).apply(x => max(x.seq(0,3,2), x.seq(0,7,0,5,0)).add(48).midinote().sine()).out()"],ins:[{name:"in",dynamic:!0}],compile:({vars:e,name:t,lang:n})=>I[n].def(t,e.reduce(I[n].max)||0)}),Nw=$("argmin",{tags:["math"],description:"returns the index of the minimum of the given signals",examples:["argmin(saw(1), saw(3), saw(5)).mul(12).add(48).midinote().sine().out()"],ins:[{name:"in",dynamic:!0}],compile:({vars:e,name:t,lang:n})=>I[n].def(t,I[n].pair_b(e.map(I[n].pair_make).reduce(I[n].pair_a_min))||0)}),Ww=$("argmax",{tags:["math"],description:"returns the index of the maximum of the given signals",examples:["argmax(saw(1), saw(3), saw(5)).mul(12).add(48).midinote().sine().out()"],ins:[{name:"in",dynamic:!0}],compile:({vars:e,name:t,lang:n})=>I[n].def(t,I[n].pair_b(e.map(I[n].pair_make).reduce(I[n].pair_a_max))||0)}),pC=$("greater",{tags:["logic"],description:"returns 1 if input is greater then threshold",ins:[{name:"in"},{name:"threshold"}],examples:[`greater(sine(1),0)
.bipolar().range(100,200)
.sine().out()`],compile:({vars:[e=0,t=0],name:n,lang:i})=>I[i].def(n,`${e} > ${t}`)}),mC=$("lower",{tags:["logic"],description:"returns 1 if input is lower then threshold",ins:[{name:"in"},{name:"threshold"}],examples:[`lower(sine(1),0)
.bipolar().range(100,200)
.sine().out()`],compile:({vars:[e=0,t=0],name:n,lang:i})=>I[i].def(n,`${e} < ${t}`)}),Tw=pC,Iw=mC,_w=$("xor",{tags:["logic"],description:"returns 1 if exactly one of the inputs is 1",ins:[{name:"a"},{name:"b"}],compile:({vars:[e=0,t=0],name:n,lang:i})=>I[i].def(n,`${e} != ${t} ? 1 : 0`)}),Yw=$("and",{tags:["logic"],description:"returns 1 if both inputs are 1",ins:[{name:"a"},{name:"b"}],compile:({vars:[e=0,t=0],name:n,lang:i})=>I[i].def(n,`${e} && ${t} ? 1 : 0`)}),Hw=$("or",{tags:["logic"],description:"returns 1 if one or both inputs are 1",ins:[{name:"a"},{name:"b"}],compile:({vars:[e=0,t=0],name:n,lang:i})=>I[i].def(n,`${e} || ${t} ? 1 : 0`)}),Kw=$("not",{tags:["logic"],description:"returns 1 if input is 0, otherwise 0",ins:[{name:"in"}],compile:({vars:[e=0],name:t,lang:n})=>I[n].def(t,`(${e} === 0 ? 1 : 0)`)}),jw=$("bool",{tags:["logic"],description:"returns 1 signal is non zero. inspired by genish",ins:[{name:"a"}],compile:({vars:[e=0],name:t,lang:n})=>I[n].def(t,`(${e} === 0 ? 0 : 1)`)}),Ow=$("ifelse",{tags:["logic"],description:"if control is 1, a is returned, otherwise b",ins:[{name:"control"},{name:"a"},{name:"b"}],compile:({vars:[e=0,t=0,n=0],name:i,lang:s})=>I[s].def(i,`(${e} === 1 ? ${t} : ${n})`),examples:["ifelse(pulse(1), sine(220), sine(330)).out()"]}),Uw=$("range",{tags:["math"],description:"Scales the incoming bipolar value to the given range.",examples:["sine(.5).range(.25,1).mul(sine(440)).out()"],ins:[{name:"in"},{name:"min"},{name:"max"}],compile:({vars:e,name:t,lang:n})=>{const[i,s,r,a=1]=e,o=`((${i} + 1) * 0.5)`,c=a===1?o:I[n].pow(o,a);return I[n].def(t,`${c} * (${r} - ${s}) + ${s}`)}}),Jw=$("remap",{ugen:"Remap",tags:["math"],description:"Remaps input from one value range to another",ins:[{name:"in"},{name:"inmin"},{name:"inmax"},{name:"outmin"},{name:"outmax"}],compile:({vars:[e=0,t=-1,n=1,i=-1,s=1],...r})=>I[r.lang].defUgen(r,e,t,n,i,s)}),Qw=$("thru",{compile:({name:e,vars:t,lang:n})=>I[n].def(e,t[0],"thru")}),qw=Tt("rangex",(e,t,n)=>{let i=$f(t),s=$f(n).sub(i),r=e.unipolar().mul(s).add(i);return lC(r)},{tags:["math"],description:"exponential range",ins:[{name:"in"},{name:"min"},{name:"max"}],examples:["sine([1,3]).rangex(100, 2e3).sine().out()"]}),$w=$("midinote",{compile:({vars:[e],name:t,lang:n})=>I[n].def(t,I[n].midinote(e)),tags:["math"],description:"convert midi number to frequency",ins:[{name:"midi"}],examples:[`impulse(4).seq(0,3,7,12).add(60)
.midinote().sine().out()`]}),eD=$("src",{internal:!0,compile:({vars:[e=0],name:t,lang:n,...i})=>I[n].def(t,i.getSource(e),`read source ${e}`)}),tD=$("output",{internal:!0,ugen:"Output",compile:({vars:[e,t=0],name:n,lang:i,...s})=>{const r=s.getOutput(t),a=s.getSource(t);return[I[i].def(r,[r,e].join(" + "),`+ output ${t}`),I[i].def(a,r,`write source ${t}`)].join(`
`)}}),fC=$("poly"),yC=Ht(Math.PI),nD=yt("fork",(e,t=1)=>fC(...Array.from({length:t},()=>e.clone())),{ins:[{name:"in"},{name:"times"}],tags:["multi-channel"],description:"split the signal into n channels",examples:["dust(4).fork(2).adsr(.1).mul(sine(220)).out()"]}),iD=Tt("perc",(e,t)=>e.adsr(0,0,1,t),{tags:["envelope"],description:"percussive envelope. usable with triggers or gates",ins:[{name:"gate"},{name:"release"}],examples:["impulse(4).perc(.1).mul( pink() ).out()"]}),sD=Tt("hpf",(e,t,n=0)=>e.sub(e.lpf(t,n)),{ins:[{name:"in"},{name:"cutoff"},{name:"reso"}],description:"high pass filter",tags:["fx","filter"],examples:["tri([220,331,442]).mix().hpf(sine(.5).range(0,.9)).out()"]}),rD=Tt("lpf",cC,{ins:[{name:"in"},{name:"cutoff"},{name:"reso"}],description:"low pass filter",tags:["fx","filter"],examples:["saw(55).lpf( sine(1).range(.4,.8) ).out()"]}),aD=$("bpf",{ugen:"BPF",ins:[{name:"in"},{name:"cutoff"},{name:"reso"}],description:"high pass filter",tags:["fx","filter"],compile:({vars:[e=0,t=1,n=0],...i})=>I[i.lang].defUgen(i,e,t,n)}),uD=Tt("lfnoise",e=>uC().hold(oC(e)),{ins:[{name:"freq"}],description:"low frequency stepped noise.",tags:["regular","noise"],examples:["lfnoise(4).range(200,800).sine().out()"]}),oD=Tt("bipolar",e=>Ht(e).mul(2).sub(1),{ins:[{name:"in"}],description:"convert unipolar [0,1] signal to bipolar [-1,1]",tags:["math"]}),cD=Tt("unipolar",e=>Ht(e).add(1).div(2),{ins:[{name:"in"}],description:"convert bipolar [-1,1] signal to unipolar [0,1]",tags:["math"]}),lD=Tt("pan",(e,t)=>(t=Ht(t).add(1).mul(yC,.25),e.mul([hC(t),dC(t)])),{ins:[{name:"in"},{name:"pos",description:"bipolar position: -1 = left, 0 = center, 1 = right"}],description:"pans signal to stereo position. splits signal path in 2",tags:["multi-channel"],examples:["sine(220).pan(sine(.25)).out()"]}),dD=$("pick",{tags:["multi-channel"],ugen:"Pick",description:"Pick",ins:[{name:"index"},{name:"inputs",dynamic:!0}],description:"picks input of given index",examples:[`sine(.25).range(0,2).round()
.pick(...sine([220,330,440]).ins)
.out()`],compile:({vars:e,...t})=>I[t.lang].defUgen(t,...e)}),hD=$("clip",{tags:["fx"],ugen:"Clip",description:"Hard limits the signal between lo and hi.",ins:[{name:"input"},{name:"lo"},{name:"hi"}],compile:({vars:[e=0,t=-1,n=1],...i})=>I[i.lang].defUgen(i,e,t,n)}),pD=$("trig",{tags:["trigger"],ugen:"Trig",description:"Emits a trigger impulse whenever the signal becomes positive. Useful to turn gates into triggers.",ins:[{name:"input",default:0},{name:"lo",default:-1},{name:"hi",default:1}],compile:({vars:[e=0,t=-1,n=1],...i})=>I[i.lang].defUgen(i,e,t,n),examples:[`pulse(2)
.trig() // comment out to hear difference
.ar(.01,.2)
.mul(sine(200)).out()`]}),mD=$("qf",{tags:["fx","filter"],ugen:"BiquadFilter",description:"biQuad Filter.",ins:[{name:"input",default:0},{name:"type",default:0,description:"filter type: 0 = lowpass, 1 = highpass, 2 = band pass, 3 = notch, 4 = allpass, 5 = peaking, 6 = lowshelf, 7 = highshelf"},{name:"freq",default:500,description:"filter cutoff in Hz"},{name:"q",default:1,description:"q factor"},{name:"gain",default:1}],compile:({vars:e,...t})=>I[t.lang].defUgen(t,...e),examples:[`pink()
.qf(
 impulse(.5).seq(0,1,2,3,4,5,6,7), // type
  tri(0.5).rangex(100, 8000),  // freq
 10, // Q
 1, // gain (only relevant for types 5-7)
).div(4).out();`]}),fD=yt("qlpf",(e,t,n=10)=>e.qf(0,t,n),{description:"biQuad Low Pass Filter",ins:[{name:"input"},{name:"freq"},{name:"q",description:"resonance"}],tags:["fx","filter"],examples:[`pink().qlpf(
  tri(0.5).rangex(100, 8000), // cutoff freq
  10 // Q
).out()`]}),yD=yt("qhpf",(e,t,n=10)=>e.qf(1,t,n),{description:"biQuad High pass filter",ins:[{name:"input"},{name:"freq"},{name:"q",description:"resonance"}],tags:["fx","filter"],examples:[`pink().qhpf(
  tri(0.5).rangex(100, 8000), // cutoff freq
  10 // Q
).out()`]}),gD=yt("qbpf",(e,t,n=10)=>e.qf(2,t,n),{description:"biQuad Band Pass Filter",ins:[{name:"input"},{name:"freq"},{name:"q",description:"resonance"}],tags:["fx","filter"],examples:[`pink().qbpf(
  tri(0.5).rangex(100, 8000), // cutoff freq
  10 // Q
).out()`]}),bD=yt("qnf",(e,t,n=10)=>e.qf(3,t,n),{description:"biQuad Notch Filter",ins:[{name:"input"},{name:"freq"},{name:"q",description:"resonance"}],tags:["fx","filter"],examples:[`pink().qnf(
  tri(0.5).rangex(100, 8000), // cutoff freq
  10 // Q
).out()`]}),MD=yt("qapf",(e,t,n=10)=>e.qf(3,t,n),{description:"biQuad All Pass Filter",ins:[{name:"input"},{name:"freq"},{name:"q",description:"resonance"}],tags:["fx","filter"],examples:[`impulse(1).qapf(
  tri(0.5).rangex(100, 8000), // cutoff freq
  10 // Q
).out()`]}),CD=yt("split",(e,t)=>e.type!=="poly"?t([e]):t(e.ins),{ins:[{name:"input"},{name:"fn"}],tags:["multi-channel"],description:"apply fn to an array of signals, one for each channel in input",examples:["sine([220,330,550]).split(chs => add(...chs)).out()"]}),vD=yt("mix",(e,t=1)=>{if([1,2].includes(t)||(t=2,console.warn("mix only supports 1 or 2 channels atm.. falling back to 2")),e.type!=="poly")return e;if(t===2){const n=e.ins.map((i,s,r)=>{const a=(s/(r.length-1)*2-1+1)*Math.PI/4;return i.mul([Math.cos(a),Math.sin(a)]).inherit(e)});return e1(...n)}return e.ins=e.ins.map(n=>n.inherit(e)),Li("mix").withIns(...e.ins)},{compile:({vars:e,name:t,lang:n})=>I[n].def(t,`(${e.join(" + ")})`),description:`mixes down multiple channels. Useful to make sure you get a mono or stereo signal out at the end. 
When mixing down to 2 channels, the input channels are equally distributed over the stereo image, e.g. 3 channels are panned [-1,0,1]`,ins:[{name:"in"},{name:"channels",default:1,description:"how many channels to mix down to. Only supports 1 and 2"}],tags:["multi-channel"],examples:["sine([220,330,440]).mix(2).out()"]});Ze.prototype.feedback=function(e){return this.add(e)};let PD=e=>e1(e),GD=Ht,AD=Ht,FD=Tt("mouseX",()=>qf("mouseX"),{ins:[],description:"X position of mouse, bipolar range",tags:["external"],examples:["mouseX.range(100,800).sine().out()"]}),wD=FD(),DD=Tt("mouseY",()=>qf("mouseY"),{ins:[],description:"Y position of mouse, bipolar range",tags:["external"],examples:["mouseY.range(800,100).sine().out()"]}),XD=DD(),SD=yt("scope",(e,t)=>{let n=1;e.type==="poly"&&(n=e.ins.length);const i=getNode("scope",e,t,n);return i.type!=="poly"?(i.ins.push({type:"n",value:0,ins:[]}),i):(i.ins.forEach((s,r)=>s.ins.push({type:"n",value:r,ins:[]})),i)},{ugen:"Scope",description:"renders an an oscilloscope of the current point in the graph. expects values between -1 and 1. warning: this feature is still experimental! when using it, make sure to not switch tabs, as it might fry your browser.",compile:({vars:[e,t,n,i],...s})=>Jf(s,e,t,n,i)});const gC=Object.freeze(Object.defineProperty({__proto__:null,B:GD,PI:yC,_:AD,abs:Ew,acos:Aw,ad:QF,add:e1,adsr:UF,and:Yw,ar:JF,argmax:Ww,argmin:Nw,asin:Fw,atan:ww,audioin:vw,bipolar:oD,bool:jw,bpf:aD,brown:iw,bytebeat:jF,cc:qf,ceil:Bw,clamp:xw,clip:hD,clock:qF,clockdiv:$F,cos:hC,delay:fw,distort:ew,div:Xw,dust:sw,exp:lC,feedback:PD,filter:cC,floatbeat:OF,floor:Rw,fold:pw,fork:nD,greater:pC,gt:Tw,hold:yw,hpf:sD,ifelse:Ow,impulse:oC,lag:dw,lfnoise:uD,log:$f,lower:mC,lpf:rD,lt:Iw,max:zw,midicc:Cw,midifreq:gw,midigate:bw,midinote:$w,midivel:Mw,min:Vw,mix:vD,mod:Zw,mouseX:wD,mouseY:XD,mul:Dw,noise:uC,not:Kw,or:Hw,output:tD,pan:lD,perc:iD,pick:dD,pink:nw,poly:fC,pow:Pw,pulse:cw,qapf:MD,qbpf:gD,qf:mD,qhpf:yD,qlpf:fD,qnf:bD,range:Uw,rangex:qw,raw:KF,registerUgen:aC,remap:Jw,rng:tw,round:Lw,saw:rw,scope:SD,seq:mw,sign:kw,sin:dC,sine:uw,slew:hw,slide:lw,split:CD,src:eD,sub:Sw,tan:Gw,thru:Qw,time:HF,tri:ow,trig:pD,unipolar:cD,xor:_w,zaw:aw},Symbol.toStringTag,{value:"Module"}));class ZD{constructor({onToggle:t,onToggleRecording:n,beforeEval:i,transpiler:s,localScope:r=!1,outputNode:a=null}={}){this.outputNode=a,this.audio=new PF(this.outputNode),this.onToggle=t,this.transpiler=s,this.onToggleRecording=n,this.beforeEval=i,this.localScope=r,typeof window<"u"&&(r||(Object.assign(globalThis,sC),Object.assign(globalThis,gC),Object.assign(globalThis,nC),Object.assign(globalThis,{repl:this})),window.addEventListener("message",c=>{c.data.type==="KABELSALAT_SET_CONTROL"&&this.audio.setControl(c.data.id,c.data.value)}));const o=this;Ze.prototype.spawn=function(c=[0,1],l){o.audio.spawn(this.output(c).exit(),l)}}registerUgen(t,n){return this.audio.registerUgen(n),aC(t,n.name)}evaluate(t){this.localScope||(Object.assign(globalThis,{audio:this.audio}),Object.assign(globalThis,{addUgen:this.registerUgen.bind(this)}));let n;this.transpiler?n=this.transpiler(t):n={output:t},this.beforeEval?.(n);let i;return this.localScope&&(i={...sC,...gC,...nC,audio:this.audio,addUgen:this.registerUgen.bind(this),repl:this}),tC(n.output,i)}async play(t){await this.audio.init(),t.ins.length&&this.audio.spawn(t),this.onToggle?.(!0)}run(t){const n=this.evaluate(t);this.play(n)}stop(){this.stopRecording(),this.audio.stop(),this.onToggle?.(!1)}record(){this.audio.record(),this.onToggleRecording?.(!0)}stopRecording(){this.audio.stopRecording(),this.onToggleRecording?.(!1)}}function bC({defaultOutput:e,onEvalError:t,beforeEval:n,beforeStart:i,afterEval:s,getTime:r,transpiler:a,onToggle:o,editPattern:c,onUpdateState:l,sync:d=!1,setInterval:m,clearInterval:f,id:b,mondo:g=!1}){const P=new ZD({localScope:!0}),A={schedulerError:void 0,evalError:void 0,code:"// LOADING",activeCode:"// LOADING",pattern:void 0,miniLocations:[],widgets:[],pending:!1,started:!1},x={id:b},E=pe=>{Object.assign(A,pe),A.isDirty=A.code!==A.activeCode,A.error=A.evalError||A.schedulerError,l?.(A)},V={onTrigger:t1({defaultOutput:e,getTime:r}),getTime:r,onToggle:pe=>{E({started:pe}),Hf(pe),o?.(pe),pe||Vf()},setInterval:m,clearInterval:f,beforeStart:i},S=d&&typeof SharedWorker<"u"?new _A(V):new kf(V);Yf(V.onTrigger),If(()=>S.cps);let X={},L=0,R;const B=function(){return X={},L=0,R=void 0,Te},j=pe=>P.evaluate(pe).compile({log:!1});function N(pe){return pe._Pattern?pe.__pure:pe}const ee=async(pe,Ae=!0)=>(pe=c?.(pe)||pe,await S.setPattern(pe,Ae),_f(pe),pe);ys(()=>S.now());const Y=()=>S.stop(),K=()=>S.start(),te=()=>S.pause(),Ce=()=>S.toggle(),ue=pe=>(S.setCps(N(pe)),Te),he=pe=>(S.setCps(N(pe)/60),Te);let se=[];const Ye=function(pe){return se.push(pe),Te},ot=function(pe){return R=pe,Te},pt=()=>{_.prototype.p=function(Ae){return typeof Ae=="string"&&(Ae.startsWith("_")||Ae.endsWith("_"))?Te:(Ae.includes("$")&&(Ae=`${Ae}${L}`,L++),X[Ae]=this,this)},_.prototype.q=function(Ae){return Te};try{for(let Ae=1;Ae<10;++Ae)Object.defineProperty(_.prototype,`d${Ae}`,{get(){return this.p(Ae)},configurable:!0}),Object.defineProperty(_.prototype,`p${Ae}`,{get(){return this.p(Ae)},configurable:!0}),_.prototype[`q${Ae}`]=Te}catch(Ae){console.warn("injectPatternMethods: error:",Ae)}const pe=k("cpm",function(Ae,Pe){return Pe._fast(Ae/60/S.cps)});return ds({all:Ye,each:ot,hush:B,cpm:pe,setCps:ue,setcps:ue,setCpm:he,setcpm:he,compileKabel:j})};return{scheduler:S,evaluate:async(pe,Ae=!0,Pe=!0)=>{if(!pe)throw new Error("no code to evaluate");try{E({code:pe,pending:!0}),await pt(),ys(()=>S.now()),await n?.({code:pe}),se=[],Pe&&B(),g&&(pe=`mondolang\`${pe}\``);let{pattern:we,meta:Le}=await fb(pe,a,x);if(Object.keys(X).length){let ke=[],gt=!1;for(const[oe,Ie]of Object.entries(X)){const Gt=oe.length>1&&oe.startsWith("S");if(Gt&&gt===!1&&(ke=[],gt=!0),!gt||gt&&Gt){const re=Ie.withState(Q=>Q.setControls({id:oe}));ke.push(re)}}R&&(ke=ke.map(oe=>R(oe))),we=qe(...ke)}else R&&(we=R(we));if(se.length)for(const ke of se)we=ke(we);return cr(we)||(we=Te),mt("[eval] code updated"),we=await ee(we,Ae),E({miniLocations:Le?.miniLocations||[],widgets:Le?.widgets||[],activeCode:pe,pattern:we,evalError:void 0,schedulerError:void 0,pending:!1}),s?.({code:pe,pattern:we,meta:Le}),we}catch(we){mt(`[eval] error: ${we.message}`,"error"),console.error(we),E({evalError:we,pending:!1}),t?.(we)}},start:K,stop:Y,pause:te,setCps:ue,setPattern:ee,setCode:pe=>E({code:pe}),toggle:Ce,state:A}}const t1=({getTime:e,defaultOutput:t})=>async(n,i,s,r,a)=>{try{(!n.context.onTrigger||!n.context.dominantTrigger)&&await t(n,i,s,r,a),n.context.onTrigger&&await n.context.onTrigger(n,e(),r,a)}catch(o){as(o,"getTrigger")}};function MC(e){return new _(t=>[new Qe(void 0,t.span,e)])}const wt=e=>{const t=n=>[new Qe(void 0,n.span,e(n.span.begin,n.controls))];return new _(t)},xi=wt(e=>e%1),Gr=xi.toBipolar(),Ms=wt(e=>1-e%1),Ar=Ms.toBipolar(),Fr=wt(e=>Math.sin(Math.PI*2*e)),n1=Fr.fromBipolar(),CC=n1._early(U(1).div(4)),vC=Fr._early(U(1).div(4)),i1=wt(e=>Math.floor(e*2%2)),PC=i1.toBipolar(),GC=Ct(xi,Ms),AC=Ct(Gr,Ar),FC=Ct(Ms,xi),wC=Ct(Ar,Gr),DC=wt(oi);let s1=0,r1=0;typeof window<"u"&&document.addEventListener("mousemove",e=>{s1=e.clientY/document.body.clientHeight,r1=e.clientX/document.body.clientWidth});const XC=wt(()=>s1),SC=wt(()=>s1),ZC=wt(()=>r1),EC=wt(()=>r1),ED=e=>(e|=0,e^=e>>>16,e=Math.imul(e,2246822507),e^=e>>>13,e=Math.imul(e,3266489909),e^=e>>>16,e>>>0),LD=e=>Math.floor(e*536870912),xD=(e,t=0,n=0)=>{const i=e>>>0>>>0,s=Math.floor(e/4294967296)>>>0;let r=i^Math.imul(s^2246822507,3266489909);return r^=Math.imul(t^2135587861,2654435769),r^=Math.imul(n^374761393,668265261),r>>>0},LC=(e,t=0,n=0)=>ED(xD(e,t,n))/4294967296,RD=(e,t,n=0)=>{const i=LD(e);if(t===1)return LC(i,0,n);const s=new Array(t);for(let r=0;r<t;r++)s[r]=LC(i,r,n);return s},xC=e=>{const t=e<<13^e,n=t>>17^t;return n<<5^n},BD=e=>e-Math.trunc(e),kD=e=>xC(Math.trunc(BD(e/300)*536870912)),RC=e=>e%536870912/536870912,VD=(e,t)=>{if(t===1)return Math.abs(RC(e));const n=[];for(let i=0;i<t;i++)n.push(RC(e)),e=xC(e);return n},zD=(e,t)=>VD(kD(e),t);let BC="legacy";const Sn=(e,t=1,n=0)=>BC==="legacy"?zD(e+n,t):RD(e,t,n),kC=(e="legacy")=>BC=e,a1=e=>xi.range(0,e).round().segment(e),VC=e=>{const t=H(e).log2(0).floor().add(1);return u1(e,t)},u1=(e,t=16)=>{t=H(t);const n=a1(t).mul(-1).add(t.sub(1));return H(e).segment(t).brshift(n).band(je(1))},zC=e=>{const t=H(e).log2(0).floor().add(1);return o1(e,t)},o1=(e,t=16)=>H(e).withValue(n=>i=>{const s=[];for(let r=i-1;r>=0;r--)s.push(n>>r&1);return s}).appLeft(H(t)),NC=e=>wt(t=>n=>Sn(t,n).map(Math.abs)).appLeft(H(e)),c1=e=>wt((t,n)=>{const s=Sn(t.floor().add(.5),e,n.randSeed).map((a,o)=>[a,o]).sort((a,o)=>(a[0]>o[0])-(a[0]<o[0])).map(a=>a[1]),r=t.cyclePos().mul(e).floor()%e;return s[r]})._segment(e),WC=(e,t,n)=>{const i=[...Array(t).keys()].map(s=>n.zoom(U(s).div(t),U(s+1).div(t)));return e.fmap(s=>i[s].repeatCycles(t)._fast(t)).innerJoin()},TC=k("shuffle",(e,t)=>WC(c1(e),e,t)),IC=k("scramble",(e,t)=>WC(Dr(e)._segment(e),e,t)),l1=(e,t)=>new _(n=>{let{randSeed:i,...s}=n.controls;return i=e(i),t.query(n.setControls({...s,randSeed:i}))},t._steps),_C=k("seed",(e,t)=>l1(()=>e,t)),Dt=wt((e,t)=>Sn(e,1,t.randSeed)),YC=Dt.toBipolar(),wr=e=>Dt.fmap(t=>t<e),HC=e=>H(e).fmap(wr).innerJoin(),KC=wr(.5),Dr=e=>Dt.fmap(t=>Math.trunc(t*e)),jC=e=>H(e).fmap(Dr).innerJoin(),Xr=(e,t)=>(t=t.map(H),t.length==0?Te:e.range(0,t.length).fmap(n=>{const i=Math.min(Math.max(Math.floor(n),0),t.length-1);return t[i]})),Cs=(e,t)=>Xr(e,t).outerJoin(),vs=(e,t)=>Xr(e,t).innerJoin(),d1=(...e)=>Cs(Dt,e),OC=(...e)=>vs(Dt,e),UC=d1;_.prototype.choose=function(...e){return Cs(this,e)},_.prototype.choose2=function(...e){return Cs(this.fromBipolar(),e)};const h1=(...e)=>vs(Dt.segment(1),e),JC=h1,QC=function(e,...t){const n=t.map(o=>H(o[0])),i=[];let s=je(0);for(const o of t)s=s.add(o[1]),i.push(s);const r=au(i),a=function(o){const c=s.mul(o);return r.fmap(l=>d=>n[l.findIndex(m=>m>d,l)]).appLeft(c)};return e.bind(a)},ND=(...e)=>QC(...e).outerJoin(),qC=(...e)=>ND(Dt,...e),p1=(...e)=>QC(Dt.segment(1),...e).innerJoin(),$C=p1;function WD(e,t=0){let n=Math.floor(e),i=n+1;const s=l=>6*l**5-15*l**4+10*l**3,r=l=>d=>m=>d+s(l)*(m-d),a=Sn(n,1,t),o=Sn(i,1,t);return r(e-n)(a)(o)}function TD(e,t=0){const n=Math.floor(e),i=n+1,s=Sn(n,1,t),r=Sn(i,1,t),a=s+r,o=(e-n)/(i-n);return((l,d,m)=>l+m*(d-l))(s,a,o)/2}const e5=wt((e,t)=>WD(e,t.randSeed)),t5=wt((e,t)=>TD(e,t.randSeed)),n5=k("degradeByWith",(e,t,n)=>n.fmap(i=>s=>i).appLeft(e.filterValues(i=>i>t)),!0,!0),i5=k("degradeBy",function(e,t){return t._degradeByWith(Dt,e)},!0,!0),s5=k("degrade",e=>e._degradeBy(.5),!0,!0),r5=k("undegradeBy",function(e,t){return t._degradeByWith(Dt.fmap(n=>1-n),e)},!0,!0),a5=k("undegrade",e=>e._undegradeBy(.5),!0,!0),u5=k("sometimesBy",function(e,t,n){return H(e).fmap(i=>qe(n._degradeBy(i),t(n._undegradeBy(1-i)))).innerJoin()}),o5=k("sometimes",function(e,t){return t._sometimesBy(.5,e)}),c5=k("someCyclesBy",function(e,t,n){return H(e).fmap(i=>qe(n._degradeByWith(Dt._segment(1),i),t(n._degradeByWith(Dt.fmap(s=>1-s)._segment(1),1-i)))).innerJoin()}),l5=k("someCycles",function(e,t){return t._someCyclesBy(.5,e)}),d5=k("often",function(e,t){return t.sometimesBy(.75,e)}),h5=k("rarely",function(e,t){return t.sometimesBy(.25,e)}),p5=k("almostNever",function(e,t){return t.sometimesBy(.1,e)}),m5=k("almostAlways",function(e,t){return t.sometimesBy(.9,e)}),f5=k("never",function(e,t){return t}),y5=k("always",function(e,t){return e(t)});function Sr(e){Array.isArray(e)===!1&&(e=[e]);const t=nu();return e.every(n=>{const i=tu.get(n)??n;return t[i]})}const g5=k("whenKey",function(e,t,n){return n.when(Sr(e),t)}),b5=k("keyDown",function(e){return e.fmap(Sr)}),M5=new _(function(e){return[new Qe(void 0,e.span,e.span.duration)]}),m1=new _(function(e){return[new Qe(void 0,e.span,U(1).div(e.span.duration))]}),C5=m1,v5=new _(function(e){const t=U(1).div(e.span.duration);return[new Qe(void 0,e.span,Math.log(t)/Math.log(2)+1)]});let Zr;try{Zr=window?.speechSynthesis}catch{console.warn("cannot use window: not in browser?")}let P5=Zr?.getVoices();function ID(e,t,n){Zr.cancel();const i=new SpeechSynthesisUtterance(e);i.lang=t,P5=Zr.getVoices();const s=P5.filter(r=>r.lang.includes(t));typeof n=="number"?i.voice=s[n%s.length]:typeof n=="string"&&(i.voice=s.find(r=>r.name===r)),speechSynthesis.speak(i)}const G5=k("speak",function(e,t,n){return n.onTrigger(i=>{ID(i.value,e,t)})}),A5=function(e,t={}){const n=document.getElementById("code"),i="background-image:url("+e+");background-size:contain;";n.style=i;const{className:s}=n,r=(c,l)=>{({style:()=>n.style=i+";"+l,className:()=>n.className=l+" "+s})[c]()},a=Object.entries(t).filter(([c,l])=>typeof l=="function");Object.entries(t).filter(([c,l])=>typeof l=="string").forEach(([c,l])=>r(c,l)),a.length},F5=()=>{const e=document.getElementById("code");e&&(e.style="")};mt("🌀 @strudel/core loaded 🌀"),globalThis._strudelLoaded&&console.warn(`@strudel/core was loaded more than once...
This might happen when you have multiple versions of strudel installed. 
Please check with "npm ls @strudel/core".`),globalThis._strudelLoaded=!0;const w5=Object.freeze(Object.defineProperty({__proto__:null,ClockCollator:eu,Cyclist:kf,FXr:xf,FXrel:Lf,FXrelease:Ef,Fraction:U,Hap:Qe,Pattern:_,State:ci,TimeSpan:ut,__chooseWith:Xr,_brandBy:wr,_fitslice:bu,_irand:Dr,_keyDown:Sr,_match:Mu,_mod:Nt,_morph:mr,_polymeterListSteps:vu,_retime:dr,_slices:hr,accelerate:wo,activeLabel:Oh,ad:ef,add:zb,adsr:$m,almostAlways:m5,almostNever:p5,always:y5,amp:Eo,analyze:Hl,anchor:Pp,and:i2,apply:x2,applyN:fu,ar:nf,arp:bb,arpWith:gb,arrange:Gb,as:Gf,asym:p3,att:xo,attack:Lo,averageArray:_a,backgroundImage:A5,band:Yb,bandf:e0,bandq:i0,bank:_l,base64ToUnicode:qa,bbexpr:D0,bbst:S0,beat:u3,begin:r0,berlin:t5,bgain:op,binary:VC,binaryL:zC,binaryN:u1,binaryNL:o1,bind:Sb,binshift:Fm,bite:N2,bjork:G3,bjorklund:Mr,blshift:jb,bmod:Sf,bor:Hb,bp:n0,bpa:od,bpattack:ud,bpd:md,bpdc:_d,bpdecay:pd,bpdepth:Nd,bpdepthfreq:Td,bpdepthfrequency:Wd,bpe:nd,bpenv:td,bpf:t0,bpq:s0,bpr:wd,bprate:Vd,bprelease:Fd,bps:Cd,bpshape:Id,bpskew:Yd,bpsustain:Md,bpsync:zd,brak:U2,brand:KC,brandBy:HC,brshift:Ob,bus:ap,busgain:up,bxor:Kb,bypass:wM,byteBeatExpression:w0,byteBeatStartTime:X0,calculateSteps:yb,cat:Si,ccn:cf,ccv:lf,ceil:o2,ch:E0,channel:H0,channels:Z0,chebyshev:y3,choose:d1,chooseCycles:h1,chooseIn:OC,chooseInWith:vs,chooseOut:UC,chooseWith:Cs,chop:JM,chord:Mp,chorus:Yl,chunk:fM,chunkBack:bM,chunkBackInto:FM,chunkInto:GM,chunkback:MM,chunkbackinto:AM,chunkinto:PM,clamp:cs,cleanupUi:F5,clip:Vm,coarse:p0,code2hash:hb,color:Qm,colour:qm,comb:Pm,compose:ab,compress:f2,compressSpan:y2,compressor:Kp,compressorAttack:Up,compressorKnee:jp,compressorRatio:Op,compressorRelease:Jp,compressspan:g2,constant:ub,contract:Du,control:of,controls:C3,cosine:CC,cosine2:vC,cpm:R2,cps:km,createClock:Bf,createParam:ps,createParams:br,crush:h0,ctf:O0,ctlNum:df,ctranspose:qh,cubic:d3,curry:Fe,curve:Im,cut:K0,cutoff:j0,cycleToSeconds:rr,cyclesPer:M5,dec:Ol,decay:jl,degrade:s5,degradeBy:i5,degradeByWith:n5,degree:Jh,delay:ph,delayfb:fh,delayfeedback:mh,delayspeed:gh,delaysync:vh,delayt:Mh,delaytime:bh,deltaSlide:_m,det:Ah,detune:Gh,dfb:yh,dict:vp,dictionary:Cp,diode:h3,dist:_p,distort:Ip,distorttype:Hp,distortvol:Yp,div:Tb,djf:hh,drawLine:iu,drive:v0,drop:Au,dry:Dh,ds:tf,dt:Ch,duck:P0,duckattack:F0,duckdepth:G0,duckonset:A0,dur:Wm,duration:Nm,early:B2,echo:uM,echoWith:iM,echowith:sM,eish:Z3,end:a0,enhance:vm,env:Xf,eq:$b,eqt:e2,errorLogger:as,euclid:P3,euclidLegato:D3,euclidLegatoRot:X3,euclidRot:F3,euclidish:S3,euclidrot:A3,evalScope:ds,evaluate:fb,every:L2,expand:wu,expression:nm,extend:Fu,fadeInTime:Zh,fadeOutTime:Sh,fadeTime:Xh,fanchor:Xd,fast:A2,fastChunk:vM,fastGap:b2,fastcat:Ct,fastchunk:CM,fastgap:M2,fft:Kl,filter:EM,filterWhen:LM,firstOf:E2,fit:n3,flatten:yn,floor:u2,fm:qo,fm1:$o,fm2:ec,fm3:tc,fm4:nc,fm5:ic,fm6:sc,fm7:rc,fm8:ac,fmatt:Fc,fmatt1:wc,fmatt2:Dc,fmatt3:Xc,fmatt4:Sc,fmatt5:Zc,fmatt6:Ec,fmatt7:Lc,fmatt8:xc,fmattack:yc,fmattack1:gc,fmattack2:bc,fmattack3:Mc,fmattack4:Cc,fmattack5:vc,fmattack6:Pc,fmattack7:Gc,fmattack8:Ac,fmdec:qc,fmdec1:$c,fmdec2:el,fmdec3:tl,fmdec4:nl,fmdec5:il,fmdec6:sl,fmdec7:rl,fmdec8:al,fmdecay:_c,fmdecay1:Yc,fmdecay2:Hc,fmdecay3:Kc,fmdecay4:jc,fmdecay5:Oc,fmdecay6:Uc,fmdecay7:Jc,fmdecay8:Qc,fmenv:uc,fmenv1:oc,fmenv2:cc,fmenv3:lc,fmenv4:dc,fmenv5:hc,fmenv6:pc,fmenv7:mc,fmenv8:fc,fmh:Ro,fmh1:Bo,fmh2:ko,fmh3:Vo,fmh4:zo,fmh5:No,fmh6:Wo,fmh7:To,fmh8:Io,fmi:_o,fmi1:Yo,fmi2:Ho,fmi3:Ko,fmi4:jo,fmi5:Oo,fmi6:Uo,fmi7:Jo,fmi8:Qo,fmrel:Rl,fmrel1:Bl,fmrel2:kl,fmrel3:Vl,fmrel4:zl,fmrel5:Nl,fmrel6:Wl,fmrel7:Tl,fmrel8:Il,fmrelease:Fl,fmrelease1:wl,fmrelease2:Dl,fmrelease3:Xl,fmrelease4:Sl,fmrelease5:Zl,fmrelease6:El,fmrelease7:Ll,fmrelease8:xl,fmsus:yl,fmsus1:gl,fmsus2:bl,fmsus3:Ml,fmsus4:Cl,fmsus5:vl,fmsus6:Pl,fmsus7:Gl,fmsus8:Al,fmsustain:ul,fmsustain1:ol,fmsustain2:cl,fmsustain3:ll,fmsustain4:dl,fmsustain5:hl,fmsustain6:pl,fmsustain7:ml,fmsustain8:fl,fmwave:Rc,fmwave1:Bc,fmwave2:kc,fmwave3:Vc,fmwave4:zc,fmwave5:Nc,fmwave6:Wc,fmwave7:Tc,fmwave8:Ic,focus:C2,focusSpan:v2,focusspan:P2,fold:m3,fractionalArgs:ob,frameRate:Xm,frames:Sm,freeze:ym,freq:Eh,freqToMidi:tr,fromBipolar:l2,fshift:sm,fshiftnote:rm,fshiftphase:am,ftype:Dd,func:r2,fxr:Rf,gain:So,gap:li,gat:Yh,gate:_h,getAccidentalsOffset:er,getControlName:Ei,getCps:U3,getCurrentKeyboardState:nu,getEventOffsetMs:nb,getFreq:Ia,getFrequency:Ha,getIsStarted:q3,getPattern:J3,getPerformanceTimeSeconds:mb,getPlayableNoteValue:rb,getRandsAtTime:Sn,getSoundIndex:sb,getTime:vr,getTrigger:t1,getTriggerFunc:Q3,grow:BM,gt:Jb,gte:qb,hard:l3,harmonic:$h,hash2code:pb,hbrick:wm,hcutoff:rh,hold:$l,hours:Zm,hp:uh,hpa:ad,hpattack:rd,hpd:hd,hpdc:Qd,hpdecay:dd,hpdepth:jd,hpdepthfreq:Ud,hpdepthfrequency:Od,hpe:ed,hpenv:$0,hpf:ah,hpq:ch,hpr:Ad,hprate:Hd,hprelease:Gd,hps:bd,hpshape:Jd,hpskew:qd,hpsustain:gd,hpsync:Kd,hresonance:oh,hsl:ZM,hsla:SM,hurry:F2,id:oi,imag:Cm,inhabit:W3,inhabitmod:I3,innerBind:Zb,inside:X2,inv:K2,invert:H2,ir:xp,irand:jC,irbegin:kp,iresponse:Rp,irspeed:Bp,isControlName:Ru,isNote:_n,isNoteWithOctave:eb,isPattern:cr,isaw:Ms,isaw2:Ar,iter:dM,iterBack:hM,iterback:pM,itri:FC,itri2:wC,jux:nM,juxBy:eM,juxby:tM,kcutoff:cm,keep:kb,keepif:Vb,keyAlias:tu,keyDown:b5,krush:om,label:Uh,lastOf:Z2,late:pu,lbrick:Dm,legato:zm,leslie:Hh,lfo:Df,linger:W2,listRange:Xi,lock:Ph,logKey:$s,logger:mt,loop:u0,loopAt:e3,loopAtCps:i3,loopBegin:o0,loopEnd:l0,loopat:t3,loopatcps:s3,loopb:c0,loope:d0,lp:J0,lpa:sd,lpattack:id,lpd:ld,lpdc:Bd,lpdecay:cd,lpdepth:Ed,lpdepthfreq:xd,lpdepthfrequency:Ld,lpe:q0,lpenv:Q0,lpf:U0,lpq:dh,lpr:Pd,lprate:Sd,lprelease:vd,lps:yd,lpshape:Rd,lpskew:kd,lpsustain:fd,lpsync:Zd,lrate:Kh,lsize:jh,lt:Ub,lte:Qb,mapArgs:ir,mask:Fb,midi2note:ib,midiToFreq:Yn,midibend:bf,midichan:sf,midicmd:uf,midimap:rf,midiport:af,miditouch:Mf,minutes:Em,mod:Ib,mode:Fp,morph:o3,mouseX:EC,mouseY:SC,mousex:ZC,mousey:XC,mtranspose:Qh,mul:Wb,n:Ao,nanFallback:Ya,ne:t2,net:n2,never:f5,noise:nh,note:Fo,noteToMidi:nn,nothing:Bt,nrpnn:hf,nrpv:pf,nudge:np,numeralArgs:Rt,objectMap:$a,oct:sp,octave:ip,octaveR:tp,octaves:Ap,octer:lm,octersub:dm,octersubsub:hm,off:O2,offset:Gp,often:d5,or:s2,orbit:rp,oschost:vf,oscport:Pf,outerBind:Eb,outside:S2,overgain:cp,overshape:lp,pace:Cu,pairs:Ua,palindrome:$2,pan:dp,panchor:Ih,panorient:fp,panspan:hp,pansplay:pp,panwidth:mp,parray:fr,parseFractional:Oa,parseNumeral:nr,partials:g3,patt:xh,pattack:Lh,pcurve:Th,pdec:Bh,pdecay:Rh,penv:Wh,per:m1,perCycle:C5,perlin:e5,perx:v5,ph:k0,phasdp:Y0,phaser:V0,phasercenter:W0,phaserdepth:I0,phaserrate:B0,phasersweep:z0,phases:b3,phc:T0,phd:_0,phs:N0,pick:Nf,pickF:L3,pickOut:R3,pickReset:z3,pickRestart:k3,pickSqueeze:T3,pickmod:Wf,pickmodF:x3,pickmodOut:B3,pickmodReset:N3,pickmodRestart:V3,pickmodSqueeze:_3,pipe:ja,pitchJump:Ym,pitchJumpTime:Hm,ply:G2,plyForEach:lM,plyWith:cM,pm:vb,polyBind:Rb,polyTouch:Cf,polymeter:hs,polyrhythm:Mb,postgain:Zo,pow:_b,pr:Cb,prel:Nh,prelease:zh,press:q2,pressBy:Q2,progNum:mf,psus:Vh,psustain:kh,pure:je,pw:L0,pwrate:x0,pwsweep:R0,rand:Dt,rand2:YC,randL:NC,randcat:JC,randrun:c1,range:d2,range2:p2,rangex:h2,rarely:h5,ratio:m2,rdim:Zp,real:Mm,ref:r3,register:k,registerControl:w,registerMultiControl:rn,reify:H,rel:ql,release:Ql,removeUndefineds:Hn,repeatCycles:mM,repl:bC,replicate:RM,reset_state:Vf,reset_timelines:zf,resonance:lh,rev:mu,revv:J2,rfade:Lp,rib:XM,ribbon:DM,ring:pm,ringdf:fm,ringf:mm,rlp:Xp,room:wp,roomdim:Sp,roomfade:Ep,roomlp:Dp,roomsize:Vp,rotate:Ka,round:a2,rsize:Wp,run:a1,s:Bu,s_add:IM,s_alt:zM,s_cat:VM,s_contract:KM,s_expand:YM,s_extend:HM,s_polymeter:NM,s_sub:_M,s_taper:WM,s_taperlist:TM,s_tour:jM,s_zip:OM,saw:xi,saw2:Gr,scram:Am,scramble:IC,scrub:Af,seconds:Lm,seed:_C,seg:I2,segment:T2,semitone:gp,seq:du,seqPLoop:Ab,sequence:Yt,sequenceP:au,set:Bb,setCpsFunc:If,setIsStarted:Hf,setPattern:_f,setStringParser:ru,setTime:ys,setTriggerFunc:Yf,shape:Tp,shrink:Su,shrinklist:Xu,shuffle:TC,signal:wt,silence:Te,sine:n1,sine2:Fr,sinefold:f3,size:zp,slice:Lu,slide:yp,slow:w2,slowChunk:gM,slowcat:Xn,slowcatPrime:lr,slowchunk:yM,smear:Gm,soft:c3,sol2note:cb,someCycles:l5,someCyclesBy:c5,sometimes:o5,sometimesBy:u5,songPtr:xm,sound:ku,source:Po,sparsity:D2,speak:G5,speed:gr,splice:$M,splitAt:sr,spread:wh,square:i1,square2:PC,squeeze:Y3,squeezeBind:Lb,squiz:$p,src:Go,stack:qe,stackBy:Pb,stackCentre:lu,stackLeft:ou,stackRight:cu,steady:MC,stepBind:xb,stepalt:Pu,stepcat:Zt,steps:UM,stepsPerOctave:ep,stretch:Qp,striate:QM,stringifyValues:ar,struct:wb,strudelScope:ur,stut:oM,stutWith:rM,stutwith:aM,sub:Nb,superimpose:Db,sus:Jl,sustain:Ul,sustainpedal:im,swing:Y2,swingBy:_2,sysex:ff,sysexdata:gf,sysexid:yf,sz:Np,take:Gu,time:DC,timeCat:pr,timecat:kM,timeline:E3,toBipolar:c2,tokenizeNote:Ta,tour:Zu,transient:Zf,trem:f0,tremolo:m0,tremolodepth:g0,tremolophase:M0,tremoloshape:C0,tremoloskew:b0,tremolosync:y0,tri:GC,tri2:AC,triode:um,tsdelay:bm,uid:Rm,undegrade:a5,undegradeBy:r5,unicodeToBase64:Qa,uniq:lb,uniqsort:db,uniqsortr:Ja,unison:Fh,unit:qp,useRNG:kC,v:th,val:Bm,valueToMidi:tb,vel:Xo,velocity:Do,vib:$d,vibmod:ih,vibrato:eh,vmod:sh,voice:bp,vowel:em,warp:eo,warpatt:io,warpattack:no,warpdc:mo,warpdec:ro,warpdecay:so,warpdepth:ho,warpenv:Co,warpmode:yo,warprate:lo,warprel:co,warprelease:oo,warpshape:po,warpskew:fo,warpsus:uo,warpsustain:ao,warpsync:vo,waveloss:tm,wavetablePhaseRand:Mo,wavetablePosition:zu,wavetableWarp:to,wavetableWarpMode:go,wchoose:qC,wchooseCycles:p1,when:j2,whenKey:g5,withSeed:l1,withValue:Xb,within:xM,worklet:M3,wrandcat:$C,wt:Vu,wtatt:Tu,wtattack:Wu,wtdc:qu,wtdec:_u,wtdecay:Iu,wtdepth:Ju,wtenv:Nu,wtphaserand:bo,wtrate:Ou,wtrel:ju,wtrelease:Ku,wtshape:Qu,wtskew:$u,wtsus:Hu,wtsustain:Yu,wtsync:Uu,xfade:xu,xsdelay:gm,zcrush:Om,zdelay:Um,zip:Eu,zipWith:os,zmod:jm,znoise:Km,zoom:k2,zoomArc:V2,zoomarc:z2,zrand:Tm,zzfx:Jm},Symbol.toStringTag,{value:"Module"}));if(typeof DelayNode<"u"){class e extends DelayNode{constructor(n,i,s,r){return super(n),i=Math.abs(i),this.delayTime.value=s,this.feedbackGain=n.createGain(),this.feedbackGain.gain.value=Math.min(Math.abs(r),.995),this.feedback=this.feedbackGain.gain,this.delayGain=n.createGain(),this.delayGain.gain.value=i,this.connect(this.feedbackGain),this.connect(this.delayGain),this.feedbackGain.connect(this),this.connect=a=>this.delayGain.connect(a),this}start(n){this.delayGain.gain.setValueAtTime(this.delayGain.gain.value,n+this.delayTime.value)}}BaseAudioContext.prototype.createFeedbackDelay=function(t,n,i){return new e(this,t,n,i)}}let Ri;const f1=()=>(Ri=new AudioContext,Ri),Ps=e=>(Ri=e,Ri),Ge=()=>Ri||f1();function D5(){return Ge().currentTime}let X5=e=>console.log(e);function Gs(e,t="superdough"){dt(`[${t}] error: ${e.message}`)}const dt=(...e)=>X5(...e),y1=e=>{X5=e};let g1={};function S5(e,t){const n=Ge();if(g1[e])return g1[e];const i=2*n.sampleRate,s=n.createBuffer(1,i,n.sampleRate),r=s.getChannelData(0);let a=0,o,c,l,d,m,f,b;o=c=l=d=m=f=b=0;for(let g=0;g<i;g++)if(e==="white")r[g]=Math.random()*2-1;else if(e==="brown"){let P=Math.random()*2-1;r[g]=(a+.02*P)/1.02,a=r[g]}else if(e==="pink"){let P=Math.random()*2-1;o=.99886*o+P*.0555179,c=.99332*c+P*.0750759,l=.969*l+P*.153852,d=.8665*d+P*.3104856,m=.55*m+P*.5329522,f=-.7616*f-P*.016898,r[g]=o+c+l+d+m+f+b+P*.5362,r[g]*=.11,b=P*.115926}else if(e==="crackle"){const P=t*.01;Math.random()<P?r[g]=Math.random()*2-1:r[g]=0}return e!=="crackle"&&(g1[e]=s),s}function b1(e="white",t,n=.02){const s=Ge().createBufferSource();return s.buffer=S5(e,n),s.loop=!0,s.start(t),{node:s,stop:r=>s.stop(r)}}function _D(e,t,n){const i=b1("pink",n),s=w1(e,i.node,t);return un(i.node,()=>{Ee(i.node)}),{node:s.node,stop:r=>i?.stop(r),teardown:s.teardown}}const M1=new Map,C1=Symbol("nodePoolKey"),YD=e=>!!e[C1],Z5=e=>e.context?.currentTime??0,HD=e=>{const t=new Set;e.parameters?.forEach(s=>t.add(s));const n=new Set;let i=e;for(;i!==Object.prototype;){for(const s of Object.getOwnPropertyNames(i)){if(n.has(s))continue;n.add(s);const r=e[s];r instanceof AudioParam&&t.add(r)}i=Object.getPrototypeOf(i)}return t},v1=e=>{if(e.disconnect(),e instanceof AudioScheduledSourceNode)return;const t=e[C1];if(t==null)return;const n=Z5(e);HD(e).forEach(s=>s.cancelScheduledValues(n));const i=M1.get(t)??[];i.push(new WeakRef(e)),M1.set(t,i)},KD=e=>{if(!(e instanceof AudioWorkletNode))return!0;const t=Z5(e),n=e?.parameters?.get("end").value??0;return t<n+.45},As=(e,t)=>{const n=M1.get(e)??[];let i,s=!1;for(;n.length;)if(i=n.pop()?.deref(),i!=null&&KD(i)){s=!0;break}return s||(i=t()),i[C1]=e,i},jD=e=>{if(typeof e!="string")return[];const[t,n="",i]=e.match(/^([a-gA-G])([#bsf]*)(-?[0-9]*)$/)?.slice(1)||[];return t?[t,n,i?Number(i):void 0]:[]},OD={c:0,d:2,e:4,f:5,g:7,a:9,b:11},UD={"#":1,b:-1,s:1,f:-1},JD=e=>e?.split("").reduce((t,n)=>t+UD[n],0)||0,Er=(e,t=3)=>{const[n,i,s=t]=jD(e);if(!n)throw new Error('not a note: "'+e+'"');const r=OD[n.toLowerCase()],a=JD(i);return(Number(s)+1)*12+r+a},E5=e=>Math.pow(2,(e-69)/12)*440,bn=(e,t,n)=>Math.min(Math.max(e,t),n),QD=e=>12*Math.log(e/440)/Math.LN2+69,qD=(e,t)=>{if(typeof e!="object")throw new Error("valueToMidi: expected object value");let{freq:n,note:i}=e;return typeof n=="number"?QD(n):typeof i=="string"?Er(i):typeof i=="number"?i:t};function Zn(e,t=0,n){return isNaN(Number(e))?(!n&&dt(`"${e}" is not a number, falling back to ${t}`,"warning"),t):e}const L5=(e,t)=>(e%t+t)%t,x5=(e,t)=>L5(Math.round(Zn(e,0)),t);function R5(e,t){return e/t}function B5(e,t){const{s:n,n:i=0}=e;let s=qD(e,36),r=s-36,a,o=0;if(Array.isArray(t))o=x5(i,t.length),a=t[o];else{const l=m=>Er(m)-s,d=Object.keys(t).filter(m=>!m.startsWith("_")).reduce((m,f,b)=>!m||Math.abs(l(f))<Math.abs(l(m))?f:m,null);r=-l(d),o=x5(i,t[d].length),a=t[d][o]}const c=`${n}:${o}`;return{transpose:r,url:a,index:o,midi:s,label:c}}const P1=(e,t)=>Object.fromEntries(Object.entries(t).map(([n,i])=>[n,e[i]])),k5=e=>{try{return new URL(".",new URL(e)).href.replace(/\/$/,"")}catch{return e.split("/").slice(0,-1).join("/")}},Lr=["pink","white","brown","crackle"];function Oe(e){const t=Ge().createGain();return t.gain.value=e,t}function Bi(e,t,n){const i=Oe(n);return e.connect(i),i.connect(t),i}const V5=(e,t,n,i)=>i-n===0?0:(t-e)/(i-n);function Xt(e,t,n,i){const s=new AudioWorkletNode(e,t,i);return Object.entries(n).forEach(([r,a])=>{a!==void 0&&(s.parameters.get(r).value=a)}),s}const kt=(e,t,n,i,s,r,a,o,c,l="exponential")=>{t=Zn(t),n=Zn(n),i=Zn(i),s=Zn(s);const d=l==="exponential"?"exponentialRampToValueAtTime":"linearRampToValueAtTime";l==="exponential"&&(r=r===0?.001:r,a=a===0?.001:a);const m=a-r,f=r+i*m,b=c-o,g=P=>{let A;return t>P?A=P*V5(r,a,0,t)+r:A=(P-t)*V5(a,f,0,n)+a,l==="exponential"&&(A=A||.001),A};e.setValueAtTime(r,o),t>b?e[d](g(b),c):t+n>b?(e[d](g(t),o+t),e[d](g(b),c)):(e[d](g(t),o+t),e[d](g(t+n),o+t+n),e.setValueAtTime(f,c)),e[d](r,c+s)};function $D(e){return typeof e=="number"?e%5:{tri:0,triangle:0,sine:1,ramp:2,saw:3,square:4}[e]??0}function G1(e,t={}){return Xt(e,"envelope-processor",t)}function di(e,t={}){const{shape:n=0,begin:i=0,end:s=0,time:r,depth:a=1,dcoffset:o=-.5,frequency:c=1,skew:l=.5,phaseoffset:d=0,curve:m=1,min:f,max:b,...g}=t,P={begin:i,end:s,time:r??i,depth:a,dcoffset:o,frequency:c,skew:l,phaseoffset:d,curve:m,shape:$D(n),min:f??o*a,max:b??o*a+a,...g};return Xt(e,"lfo-processor",P)}function A1(e,t,n,i,s,r){const a=As("compressor",()=>new DynamicsCompressorNode(e,{}));return Object.entries({threshold:t??-3,ratio:n??10,knee:i??10,attack:s??.005,release:r??.05}).forEach(([c,l])=>{a[c].value=l}),a}const Vt=(e,t="linear",n)=>{const[a,o,c,l]=e;if(a==null&&o==null&&c==null&&l==null)return n??[.001,.001,1,.01];const d=c??(a!=null&&o==null||a==null&&o==null?1:.001);return[Math.max(a??0,.001),Math.max(o??0,.001),Math.min(d,1),Math.max(l??0,.01)]};function xr(e,t,n,i,s){let{defaultDepth:r=1,depth:a,dcoffset:o,...c}=s;a==null&&(a=Object.values(c).some(m=>m!=null)?r:0);let l;return a&&(l=di(e,{begin:n,end:i,depth:a,dcoffset:o,...c}),l.connect(t)),l}function Rr(e,t,n,i,s,r){let{amount:a,offset:o,defaultAmount:c=1,curve:l="linear",values:d,holdEnd:m,defaultValues:f}=s;a==null&&(a=d.some(E=>E!=null)?c:0);const b=o??0,g=a+b;if(Math.abs(g-b)){const[x,E,V,S]=Vt(d,l,f);kt(t,x,E,V,S,b,g,n,m,l)}return xr(e,t,n,i,r)}function F1(e,t,n,i,s,r){let{frequency:a,anchor:o,env:c,type:l,model:d,q:m=1,drive:f=.69,depth:b,depthfrequency:g,dcoffset:P=-.5,skew:A,shape:x,rate:E,sync:V}=i,S,X;d==="ladder"?(X=Xt(e,"ladder-processor",{frequency:a,q:m,drive:f}),S=X.parameters.get("frequency")):(X=As("filter",()=>e.createBiquadFilter()),X.type=l,Object.entries({Q:m,frequency:a}).forEach(([Ce,ue])=>{X[Ce].value=ue}),S=X.frequency);const L=[i.attack,i.decay,i.sustain,i.release],[R,B,j,N]=Vt(L,"exponential",[.005,.14,0,.1]);if([...L,c].some(te=>te!==void 0)){c=Zn(c,1,!0),o=Zn(o,0,!0);const te=Math.abs(c),Ce=te*o;let ue=bn(2**-Ce*a,0,2e4),he=bn(2**(te-Ce)*a,0,2e4);c<0&&([ue,he]=[he,ue]),kt(S,R,B,j,N,ue,he,t,n,"exponential")}V!=null&&(E=s*V);const Y=[b,g,A,x,E].some(te=>te!==void 0);let K;if(Y){b=b??1;const te=r/s,ue={depth:g??(b??1)*a,dcoffset:P,skew:A,shape:x,frequency:E??s,min:-a+30,max:2e4-a,time:te,curve:1};K=xr(e,S,t,n,ue)}return{filter:X,lfo:K}}let z5=e=>e<.5?1:1-(e-.5)/.5;function w1(e,t,n=0){const i=Ge();if(!n)return e;let s=i.createGain(),r=i.createGain();e.connect(s),t.connect(r),s.gain.value=z5(n),r.gain.value=z5(1-n);let a=i.createGain();return s.connect(a),r.connect(a),{node:a,teardown:()=>{Ee(s),Ee(r),e.disconnect(s),t.disconnect(r)}}}let eX=["linear","exponential"];function hi(e,t,n,i){if((t.pattack??t.pdecay??t.psustain??t.prelease??t.penv)===void 0)return;const r=Zn(t.penv,1,!0),a=eX[t.pcurve??0];let[o,c,l,d]=Vt([t.pattack,t.pdecay,t.psustain,t.prelease],a,[.2,.001,1,.001]),m=t.panchor??l;const f=r*100,b=0-f*m,g=f-f*m;kt(e,o,c,l,d,b,g,n,i,a)}function pi(e,t,n){const{vibmod:i=.5,vib:s}=t;let r;if(s>0){r=Ge().createOscillator(),r.frequency.value=s;const a=Ge().createGain();return a.gain.value=i*100,r.connect(a),a.connect(e),un(r,()=>{Ee(a),Ee(r)}),r.start(n),{stop:o=>r.stop(o),nodes:{vib:[r],vib_gain:[a]}}}}function N5(e,t,n=Ge()){const i=n.currentTime;an(n,e,i,t)}function an(e,t,n,i){const s=new ConstantSourceNode(e),r=Oe(0);return r.connect(e.destination),s.connect(r),un(s,()=>{Ee(r),Ee(s),t()}),s.start(n),s.stop(i),s}const tX=(e,t="sine")=>{const n=Ge();let i;return Lr.includes(t)?(i=n.createBufferSource(),i.buffer=S5(t,2),i.loop=!0):(i=n.createOscillator(),i.type=t,i.frequency.value=e),i.start(),i},nX=(e,t,n="sine")=>{const s=e.value*t;return{osc:tX(s,n),freq:s}};function ki(e,t,n){const i=Ge(),s=[],r={},a={};for(let o=1;o<=8;o++)for(let c=0;c<=8;c++){let l;o===c+1?l=`fmi${o===1?"":o}`:l=`fmi${o}${c}`;const d=t[l];if(!d)continue;let m=[];for(let[f,b]of[[!0,o],[!1,c]]){if(b===0){m.push(e);continue}if(!r[b]){const X=b===1?"":b,{osc:L,freq:R}=nX(e,t[`fmh${X}`]??1,t[`fmwave${X}`]??"sine");s.push(L);const B=[L],j=["attack","decay","sustain","release"].map(ee=>t[`fm${ee}${X}`]);let N=L;if(j.some(ee=>ee!==void 0)){const ee=i.createGain(),[Y,K,te,Ce]=Vt(j),ue=n+t.duration,he=t[`fmenv${X}`]??"exp";kt(ee.gain,Y,K,te,Ce,0,1,n,ue,he==="exp"?"exponential":"linear"),B.push(ee),N=L.connect(ee)}r[b]={input:L.frequency,output:N,freq:R,osc:L,toCleanup:B},a[`fm_${b}`]=[L]}const{input:g,output:P,freq:A,osc:x,toCleanup:E}=r[b],V=Oe(d),S=Oe(A);m.push(f?P.connect(V).connect(S):g),X1(x,[...E,V,S]),a[`fm_${b}_gain`]=[V]}if(!m[1]){dt(`[superdough] control ${l} failed to connect FM ${o} to target ${c} due to missing frequency parameter (likely because fm${c} is noise)`,"warning");continue}m[0].connect(m[1])}return{nodes:a,stop:o=>s.forEach(c=>c?.stop(o))}}const W5=e=>e/(1+e),iX=(e,t)=>(e%t+t)%t,sX=(e,t)=>(1+t)*e/(1+t*Math.abs(e)),Vi=(e,t)=>Math.tanh(e*(1+t)),rX=(e,t)=>bn((1+t)*e,-1,1),T5=(e,t)=>{let n=(1+.5*t)*e;const i=iX(n+1,4);return 1-Math.abs(i-2)},aX=(e,t)=>Math.sin(Math.PI/2*T5(e,t)),uX=(e,t)=>{const n=W5(Math.log1p(t)),i=(e-n/3*e*e*e)/(1-n/3);return Vi(i,t)},I5=(e,t,n=!1)=>{const i=1+2*t,r=.07*W5(Math.log1p(t)),a=Vi(e+r,2*t),o=Vi(n?r:-e+r,2*t),c=a-o,l=1/Math.cosh(i*r),d=l*l,m=Math.max(1e-8,(n?1:2)*i*d);return Vi(c/m,t)},Br={scurve:sX,soft:Vi,hard:rX,cubic:uX,diode:I5,asym:(e,t)=>I5(e,t,!0),fold:T5,sinefold:aX,chebyshev:(e,t)=>{const n=10*Math.log1p(t);let i=1,s=e,r,a=0;for(let o=1;o<64;o++){if(o<2){a+=o==0?i:s;continue}r=2*e*i-s,s=i,i=r,o%2===0&&(a+=Math.min(1.3*n/o,2)*r)}return Vi(a,n/20)}},Fs=Object.freeze(Object.keys(Br)),_5=e=>{let t=e;typeof e=="string"&&(t=Fs.indexOf(e),t===-1&&(dt(`[superdough] Could not find waveshaping algorithm ${e}.
        Available options are ${Fs.join(", ")}.
        Defaulting to ${Fs[0]}.`),t=0));const n=Fs[t%Fs.length];return Br[n]},D1=(e,t,n)=>Xt(Ge(),"distort-processor",{distort:e,postgain:t},{processorOptions:{algorithm:n}}),En=(e,t=36)=>{let{note:n,freq:i,octave:s=0}=e;return n=n||t,typeof n=="string"&&(n=Er(n)),!i&&typeof n=="number"&&(i=E5(n)),i*=Math.pow(2,s),Number(i)},un=(e,t)=>{const n=t;e.onended=function(){n&&n(),this.onended=null}},Ee=e=>{if(e!=null){if(!(e instanceof AudioNode))throw new Error("releaseAudioNode can only release an AudioNode");if(e.disconnect(),e instanceof AudioScheduledSourceNode)try{e.stop()}catch{e.start(e.context.currentTime+5),e.stop()}e instanceof AudioWorkletNode&&e.parameters.get("end")?.setValueAtTime(0,0)}},X1=(e,t)=>{un(e,()=>t.forEach(n=>Ee(n)))};var S1={};S1.generateReverb=function(e,t){for(var n=e.audioContext||new AudioContext,i=n.sampleRate,s=e.numChannels||2,r=e.decayTime*1.5,a=Math.round(e.decayTime*i),o=Math.round(r*i),c=Math.round((e.fadeInTime||0)*i),l=Math.pow(1/1e3,1/a),d=n.createBuffer(s,o,i),m=0;m<s;m++){for(var f=d.getChannelData(m),b=0;b<o;b++)f[b]=lX()*Math.pow(l,b);for(var b=0;b<c;b++)f[b]*=b/c}oX(d,e.lpFreqStart||0,e.lpFreqEnd||0,e.decayTime,t)},S1.generateGraph=function(e,t,n,i,s){var r=document.createElement("canvas");r.width=t,r.height=n;var a=r.getContext("2d");a.fillStyle="#000",a.fillRect(0,0,r.width,r.height),a.fillStyle="#fff";for(var o=t/e.length,c=n/(s-i),l=0;l<e.length;l++)a.fillRect(l*o,n-(e[l]-i)*c,1,1);return r};var oX=function(e,t,n,i,s){if(t==0){s(e);return}var r=cX(e),a=new OfflineAudioContext(e.numberOfChannels,r[0].length,e.sampleRate),o=a.createBufferSource();o.buffer=e;var c=a.createBiquadFilter();t=Math.min(t,e.sampleRate/2),n=Math.min(n,e.sampleRate/2),c.type="lowpass",c.Q.value=1e-4,c.frequency.setValueAtTime(t,0),c.frequency.linearRampToValueAtTime(n,i),o.connect(c),c.connect(a.destination),o.start(),a.oncomplete=function(l){s(l.renderedBuffer),Ee(c),Ee(o)},a.startRendering(),window.filterNode=c},cX=function(e){for(var t=[],n=0;n<e.numberOfChannels;n++)t[n]=e.getChannelData(n);return t},lX=function(){return Math.random()*2-1};typeof AudioContext<"u"&&(BaseAudioContext.prototype.adjustLength=function(e,t,n=1,i=0){const s=Math.floor(bn(i,0,1)*t.length),r=t.sampleRate*e,a=this.createBuffer(t.numberOfChannels,t.length,t.sampleRate);for(let o=0;o<t.numberOfChannels;o++){let c=t.getChannelData(o),l=a.getChannelData(o);for(let d=0;d<r;d++){let m=(s+d*Math.abs(n))%c.length;n<1&&(m=m*-1),l[d]=c.at(m)||0}}return a},BaseAudioContext.prototype.createReverb=function(e,t,n,i,s,r,a){const o=this.createConvolver();return o.generate=(c=2,l=.1,d=15e3,m=1e3,f,b,g)=>{o.duration=c,o.fade=l,o.lp=d,o.dim=m,o.ir=f,o.irspeed=b,o.irbegin=g,f?o.buffer=this.adjustLength(c,f,b,g):S1.generateReverb({audioContext:this,numChannels:2,decayTime:c,fadeInTime:l,lpFreqStart:d,lpFreqEnd:m},P=>{o.buffer=P})},o.generate(e,t,n,i,s,r,a),o});var Y5={a:{freqs:[660,1120,2750,3e3,3350],gains:[1,.5012,.0708,.0631,.0126],qs:[80,90,120,130,140]},e:{freqs:[440,1800,2700,3e3,3300],gains:[1,.1995,.1259,.1,.1],qs:[70,80,100,120,120]},i:{freqs:[270,1850,2900,3350,3590],gains:[1,.0631,.0631,.0158,.0158],qs:[40,90,100,120,120]},o:{freqs:[430,820,2700,3e3,3300],gains:[1,.3162,.0501,.0794,.01995],qs:[40,80,100,120,120]},u:{freqs:[370,630,2750,3e3,3400],gains:[1,.1,.0708,.0316,.01995],qs:[40,60,100,120,120]},ae:{freqs:[650,1515,2400,3e3,3350],gains:[1,.5,.1008,.0631,.0126],qs:[80,90,120,130,140]},aa:{freqs:[560,900,2570,3e3,3300],gains:[1,.5,.0708,.0631,.0126],qs:[80,90,120,130,140]},oe:{freqs:[500,1430,2300,3e3,3300],gains:[1,.2,.0708,.0316,.01995],qs:[40,60,100,120,120]},ue:{freqs:[250,1750,2150,3200,3300],gains:[1,.1,.0708,.0316,.01995],qs:[40,60,100,120,120]},y:{freqs:[400,1460,2400,3e3,3300],gains:[1,.2,.0708,.0316,.02995],qs:[40,60,100,120,120]},uh:{freqs:[600,1250,2100,3100,3500],gains:[1,.3,.0608,.0316,.01995],qs:[40,70,100,120,130]},un:{freqs:[500,1240,2280,3e3,3500],gains:[1,.1,.1708,.0216,.02995],qs:[40,60,100,120,120]},en:{freqs:[600,1480,2450,3200,3300],gains:[1,.15,.0708,.0316,.02995],qs:[40,60,100,120,120]},an:{freqs:[700,1050,2500,3e3,3300],gains:[1,.1,.0708,.0316,.02995],qs:[40,60,100,120,120]},on:{freqs:[500,1080,2350,3e3,3300],gains:[1,.1,.0708,.0316,.02995],qs:[40,60,100,120,120]},get æ(){return this.ae},get ø(){return this.oe},get ɑ(){return this.aa},get å(){return this.aa},get ö(){return this.oe},get ü(){return this.ue},get ı(){return this.y}};if(typeof GainNode<"u"){class e extends GainNode{constructor(n,i){if(super(n),!Y5[i])throw new Error("vowel: unknown vowel "+i);const{gains:s,qs:r,freqs:a}=Y5[i];this.makeupGain=n.createGain(),this.filters=[],this.gains=[];for(let o=0;o<5;o++){const c=n.createGain();c.gain.value=s[o];const l=n.createBiquadFilter();l.type="bandpass",l.Q.value=r[o],l.frequency.value=a[o],super.connect(l),l.connect(c),this.filters.push(l),c.connect(this.makeupGain),this.gains.push(c)}return this.makeupGain.gain.value=8,this}connect(n){this.makeupGain.connect(n)}disconnect(){Ee(this.makeupGain),this.filters.forEach(Ee),this.gains.forEach(Ee),super.disconnect(),this.makeupGain=null,this.filters=null,this.gains=null}}BaseAudioContext.prototype.createVowelFilter=function(t){return new e(this,t)}}const dX="data:text/javascript;base64,dmFyIF89ZnVuY3Rpb24oUil7InVzZSBzdHJpY3QiO3ZhciBXZT1PYmplY3QuZGVmaW5lUHJvcGVydHk7dmFyIFllPShSLFcsWCk9PlcgaW4gUj9XZShSLFcse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOlh9KTpSW1ddPVg7dmFyIER0PShSLFcsWCk9PlllKFIsdHlwZW9mIFchPSJzeW1ib2wiP1crIiI6VyxYKTtjbGFzcyBYIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuc3RhcnRlZD0hMSx0aGlzLm5iSW5wdXRzPXQubnVtYmVyT2ZJbnB1dHMsdGhpcy5uYk91dHB1dHM9dC5udW1iZXJPZk91dHB1dHMsdGhpcy5ibG9ja1NpemU9dC5wcm9jZXNzb3JPcHRpb25zLmJsb2NrU2l6ZSx0aGlzLmhvcFNpemU9MTI4LHRoaXMubmJPdmVybGFwcz10aGlzLmJsb2NrU2l6ZS90aGlzLmhvcFNpemUsdGhpcy5pbnB1dEJ1ZmZlcnM9bmV3IEFycmF5KHRoaXMubmJJbnB1dHMpLHRoaXMuaW5wdXRCdWZmZXJzSGVhZD1uZXcgQXJyYXkodGhpcy5uYklucHV0cyksdGhpcy5pbnB1dEJ1ZmZlcnNUb1NlbmQ9bmV3IEFycmF5KHRoaXMubmJJbnB1dHMpO2ZvcihsZXQgcz0wO3M8dGhpcy5uYklucHV0cztzKyspdGhpcy5hbGxvY2F0ZUlucHV0Q2hhbm5lbHMocywxKTt0aGlzLm91dHB1dEJ1ZmZlcnM9bmV3IEFycmF5KHRoaXMubmJPdXRwdXRzKSx0aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlPW5ldyBBcnJheSh0aGlzLm5iT3V0cHV0cyk7Zm9yKGxldCBzPTA7czx0aGlzLm5iT3V0cHV0cztzKyspdGhpcy5hbGxvY2F0ZU91dHB1dENoYW5uZWxzKHMsMSl9cmVhbGxvY2F0ZUNoYW5uZWxzSWZOZWVkZWQodCxzKXtmb3IobGV0IGU9MDtlPHRoaXMubmJJbnB1dHM7ZSsrKXtsZXQgaT10W2VdLmxlbmd0aDtpIT10aGlzLmlucHV0QnVmZmVyc1tlXS5sZW5ndGgmJnRoaXMuYWxsb2NhdGVJbnB1dENoYW5uZWxzKGUsaSl9Zm9yKGxldCBlPTA7ZTx0aGlzLm5iT3V0cHV0cztlKyspe2xldCBpPXNbZV0ubGVuZ3RoO2khPXRoaXMub3V0cHV0QnVmZmVyc1tlXS5sZW5ndGgmJnRoaXMuYWxsb2NhdGVPdXRwdXRDaGFubmVscyhlLGkpfX1hbGxvY2F0ZUlucHV0Q2hhbm5lbHModCxzKXt0aGlzLmlucHV0QnVmZmVyc1t0XT1uZXcgQXJyYXkocyk7Zm9yKGxldCBlPTA7ZTxzO2UrKyl0aGlzLmlucHV0QnVmZmVyc1t0XVtlXT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYmxvY2tTaXplKzEyOCksdGhpcy5pbnB1dEJ1ZmZlcnNbdF1bZV0uZmlsbCgwKTt0aGlzLmlucHV0QnVmZmVyc0hlYWRbdF09bmV3IEFycmF5KHMpLHRoaXMuaW5wdXRCdWZmZXJzVG9TZW5kW3RdPW5ldyBBcnJheShzKTtmb3IobGV0IGU9MDtlPHM7ZSsrKXRoaXMuaW5wdXRCdWZmZXJzSGVhZFt0XVtlXT10aGlzLmlucHV0QnVmZmVyc1t0XVtlXS5zdWJhcnJheSgwLHRoaXMuYmxvY2tTaXplKSx0aGlzLmlucHV0QnVmZmVyc1RvU2VuZFt0XVtlXT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYmxvY2tTaXplKX1hbGxvY2F0ZU91dHB1dENoYW5uZWxzKHQscyl7dGhpcy5vdXRwdXRCdWZmZXJzW3RdPW5ldyBBcnJheShzKTtmb3IobGV0IGU9MDtlPHM7ZSsrKXRoaXMub3V0cHV0QnVmZmVyc1t0XVtlXT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYmxvY2tTaXplKSx0aGlzLm91dHB1dEJ1ZmZlcnNbdF1bZV0uZmlsbCgwKTt0aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlW3RdPW5ldyBBcnJheShzKTtmb3IobGV0IGU9MDtlPHM7ZSsrKXRoaXMub3V0cHV0QnVmZmVyc1RvUmV0cmlldmVbdF1bZV09bmV3IEZsb2F0MzJBcnJheSh0aGlzLmJsb2NrU2l6ZSksdGhpcy5vdXRwdXRCdWZmZXJzVG9SZXRyaWV2ZVt0XVtlXS5maWxsKDApfXJlYWRJbnB1dHModCl7aWYodFswXS5sZW5ndGgmJnRbMF1bMF0ubGVuZ3RoPT0wKXtmb3IobGV0IHM9MDtzPHRoaXMubmJJbnB1dHM7cysrKWZvcihsZXQgZT0wO2U8dGhpcy5pbnB1dEJ1ZmZlcnNbc10ubGVuZ3RoO2UrKyl0aGlzLmlucHV0QnVmZmVyc1tzXVtlXS5maWxsKDAsdGhpcy5ibG9ja1NpemUpO3JldHVybn1mb3IobGV0IHM9MDtzPHRoaXMubmJJbnB1dHM7cysrKWZvcihsZXQgZT0wO2U8dGhpcy5pbnB1dEJ1ZmZlcnNbc10ubGVuZ3RoO2UrKyl7bGV0IGk9dFtzXVtlXTt0aGlzLmlucHV0QnVmZmVyc1tzXVtlXS5zZXQoaSx0aGlzLmJsb2NrU2l6ZSl9fXdyaXRlT3V0cHV0cyh0KXtmb3IobGV0IHM9MDtzPHRoaXMubmJJbnB1dHM7cysrKWZvcihsZXQgZT0wO2U8dGhpcy5pbnB1dEJ1ZmZlcnNbc10ubGVuZ3RoO2UrKyl7bGV0IGk9dGhpcy5vdXRwdXRCdWZmZXJzW3NdW2VdLnN1YmFycmF5KDAsMTI4KTt0W3NdW2VdLnNldChpKX19c2hpZnRJbnB1dEJ1ZmZlcnMoKXtmb3IobGV0IHQ9MDt0PHRoaXMubmJJbnB1dHM7dCsrKWZvcihsZXQgcz0wO3M8dGhpcy5pbnB1dEJ1ZmZlcnNbdF0ubGVuZ3RoO3MrKyl0aGlzLmlucHV0QnVmZmVyc1t0XVtzXS5jb3B5V2l0aGluKDAsMTI4KX1zaGlmdE91dHB1dEJ1ZmZlcnMoKXtmb3IobGV0IHQ9MDt0PHRoaXMubmJPdXRwdXRzO3QrKylmb3IobGV0IHM9MDtzPHRoaXMub3V0cHV0QnVmZmVyc1t0XS5sZW5ndGg7cysrKXRoaXMub3V0cHV0QnVmZmVyc1t0XVtzXS5jb3B5V2l0aGluKDAsMTI4KSx0aGlzLm91dHB1dEJ1ZmZlcnNbdF1bc10uc3ViYXJyYXkodGhpcy5ibG9ja1NpemUtMTI4KS5maWxsKDApfXByZXBhcmVJbnB1dEJ1ZmZlcnNUb1NlbmQoKXtmb3IobGV0IHQ9MDt0PHRoaXMubmJJbnB1dHM7dCsrKWZvcihsZXQgcz0wO3M8dGhpcy5pbnB1dEJ1ZmZlcnNbdF0ubGVuZ3RoO3MrKyl0aGlzLmlucHV0QnVmZmVyc1RvU2VuZFt0XVtzXS5zZXQodGhpcy5pbnB1dEJ1ZmZlcnNIZWFkW3RdW3NdKX1oYW5kbGVPdXRwdXRCdWZmZXJzVG9SZXRyaWV2ZSgpe2ZvcihsZXQgdD0wO3Q8dGhpcy5uYk91dHB1dHM7dCsrKWZvcihsZXQgcz0wO3M8dGhpcy5vdXRwdXRCdWZmZXJzW3RdLmxlbmd0aDtzKyspZm9yKGxldCBlPTA7ZTx0aGlzLmJsb2NrU2l6ZTtlKyspdGhpcy5vdXRwdXRCdWZmZXJzW3RdW3NdW2VdKz10aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlW3RdW3NdW2VdL3RoaXMubmJPdmVybGFwc31wcm9jZXNzKHQscyxlKXtjb25zdCBuPXRbMF1bMF0hPT12b2lkIDA7cmV0dXJuIHRoaXMuc3RhcnRlZCYmIW4/ITE6KHRoaXMuc3RhcnRlZD1uLHRoaXMucmVhbGxvY2F0ZUNoYW5uZWxzSWZOZWVkZWQodCxzKSx0aGlzLnJlYWRJbnB1dHModCksdGhpcy5zaGlmdElucHV0QnVmZmVycygpLHRoaXMucHJlcGFyZUlucHV0QnVmZmVyc1RvU2VuZCgpLHRoaXMucHJvY2Vzc09MQSh0aGlzLmlucHV0QnVmZmVyc1RvU2VuZCx0aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlLGUpLHRoaXMuaGFuZGxlT3V0cHV0QnVmZmVyc1RvUmV0cmlldmUoKSx0aGlzLndyaXRlT3V0cHV0cyhzKSx0aGlzLnNoaWZ0T3V0cHV0QnVmZmVycygpLCEwKX1wcm9jZXNzT0xBKHQscyxlKXtjb25zb2xlLmFzc2VydCghMSwiTm90IG92ZXJyaWRlbiIpfX1jbGFzcyBRdHtjb25zdHJ1Y3Rvcih0KXtpZih0aGlzLnNpemU9dHwwLHRoaXMuc2l6ZTw9MXx8dGhpcy5zaXplJnRoaXMuc2l6ZS0xKXRocm93IG5ldyBFcnJvcigiRkZUIHNpemUgbXVzdCBiZSBhIHBvd2VyIG9mIHR3byBhbmQgYmlnZ2VyIHRoYW4gMSIpO3RoaXMuX2NzaXplPXQ8PDE7Zm9yKHZhciBzPW5ldyBBcnJheSh0aGlzLnNpemUqMiksZT0wO2U8cy5sZW5ndGg7ZSs9Mil7Y29uc3QgaD1NYXRoLlBJKmUvdGhpcy5zaXplO3NbZV09TWF0aC5jb3MoaCksc1tlKzFdPS1NYXRoLnNpbihoKX10aGlzLnRhYmxlPXM7Zm9yKHZhciBpPTAsbj0xO3RoaXMuc2l6ZT5uO248PD0xKWkrKzt0aGlzLl93aWR0aD1pJTI9PT0wP2ktMTppLHRoaXMuX2JpdHJldj1uZXcgQXJyYXkoMTw8dGhpcy5fd2lkdGgpO2Zvcih2YXIgYT0wO2E8dGhpcy5fYml0cmV2Lmxlbmd0aDthKyspe3RoaXMuX2JpdHJldlthXT0wO2Zvcih2YXIgbz0wO288dGhpcy5fd2lkdGg7bys9Mil7dmFyIGM9dGhpcy5fd2lkdGgtby0yO3RoaXMuX2JpdHJldlthXXw9KGE+Pj5vJjMpPDxjfX10aGlzLl9vdXQ9bnVsbCx0aGlzLl9kYXRhPW51bGwsdGhpcy5faW52PTB9ZnJvbUNvbXBsZXhBcnJheSh0LHMpe2Zvcih2YXIgZT1zfHxuZXcgQXJyYXkodC5sZW5ndGg+Pj4xKSxpPTA7aTx0Lmxlbmd0aDtpKz0yKWVbaT4+PjFdPXRbaV07cmV0dXJuIGV9Y3JlYXRlQ29tcGxleEFycmF5KCl7Y29uc3QgdD1uZXcgQXJyYXkodGhpcy5fY3NpemUpO2Zvcih2YXIgcz0wO3M8dC5sZW5ndGg7cysrKXRbc109MDtyZXR1cm4gdH10b0NvbXBsZXhBcnJheSh0LHMpe2Zvcih2YXIgZT1zfHx0aGlzLmNyZWF0ZUNvbXBsZXhBcnJheSgpLGk9MDtpPGUubGVuZ3RoO2krPTIpZVtpXT10W2k+Pj4xXSxlW2krMV09MDtyZXR1cm4gZX1jb21wbGV0ZVNwZWN0cnVtKHQpe2Zvcih2YXIgcz10aGlzLl9jc2l6ZSxlPXM+Pj4xLGk9MjtpPGU7aSs9Mil0W3MtaV09dFtpXSx0W3MtaSsxXT0tdFtpKzFdfXRyYW5zZm9ybSh0LHMpe2lmKHQ9PT1zKXRocm93IG5ldyBFcnJvcigiSW5wdXQgYW5kIG91dHB1dCBidWZmZXJzIG11c3QgYmUgZGlmZmVyZW50Iik7dGhpcy5fb3V0PXQsdGhpcy5fZGF0YT1zLHRoaXMuX2ludj0wLHRoaXMuX3RyYW5zZm9ybTQoKSx0aGlzLl9vdXQ9bnVsbCx0aGlzLl9kYXRhPW51bGx9cmVhbFRyYW5zZm9ybSh0LHMpe2lmKHQ9PT1zKXRocm93IG5ldyBFcnJvcigiSW5wdXQgYW5kIG91dHB1dCBidWZmZXJzIG11c3QgYmUgZGlmZmVyZW50Iik7dGhpcy5fb3V0PXQsdGhpcy5fZGF0YT1zLHRoaXMuX2ludj0wLHRoaXMuX3JlYWxUcmFuc2Zvcm00KCksdGhpcy5fb3V0PW51bGwsdGhpcy5fZGF0YT1udWxsfWludmVyc2VUcmFuc2Zvcm0odCxzKXtpZih0PT09cyl0aHJvdyBuZXcgRXJyb3IoIklucHV0IGFuZCBvdXRwdXQgYnVmZmVycyBtdXN0IGJlIGRpZmZlcmVudCIpO3RoaXMuX291dD10LHRoaXMuX2RhdGE9cyx0aGlzLl9pbnY9MSx0aGlzLl90cmFuc2Zvcm00KCk7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspdFtlXS89dGhpcy5zaXplO3RoaXMuX291dD1udWxsLHRoaXMuX2RhdGE9bnVsbH1fdHJhbnNmb3JtNCgpe3ZhciB0PXRoaXMuX291dCxzPXRoaXMuX2NzaXplLGU9dGhpcy5fd2lkdGgsaT0xPDxlLG49cy9pPDwxLGEsbyxjPXRoaXMuX2JpdHJldjtpZihuPT09NClmb3IoYT0wLG89MDthPHM7YSs9bixvKyspe2NvbnN0IG09Y1tvXTt0aGlzLl9zaW5nbGVUcmFuc2Zvcm0yKGEsbSxpKX1lbHNlIGZvcihhPTAsbz0wO2E8czthKz1uLG8rKyl7Y29uc3QgbT1jW29dO3RoaXMuX3NpbmdsZVRyYW5zZm9ybTQoYSxtLGkpfXZhciBoPXRoaXMuX2ludj8tMToxLGY9dGhpcy50YWJsZTtmb3IoaT4+PTI7aT49MjtpPj49Mil7bj1zL2k8PDE7dmFyIHU9bj4+PjI7Zm9yKGE9MDthPHM7YSs9bilmb3IodmFyIGQ9YSt1LGw9YSxwPTA7bDxkO2wrPTIscCs9aSl7Y29uc3QgbT1sLEk9bSt1LHc9SSt1LHY9dyt1LE09dFttXSxQPXRbbSsxXSxnPXRbSV0sVD10W0krMV0sQT10W3ddLFY9dFt3KzFdLE89dFt2XSxOPXRbdisxXSxDPU0sRj1QLHE9ZltwXSxCPWgqZltwKzFdLEw9ZypxLVQqQixFPWcqQitUKnEsSD1mWzIqcF0saXQ9aCpmWzIqcCsxXSwkPUEqSC1WKml0LFU9QSppdCtWKkgsSz1mWzMqcF0sWj1oKmZbMypwKzFdLGs9TypLLU4qWixmdD1PKlorTipLLGR0PUMrJCxydD1GK1UsbnQ9Qy0kLHB0PUYtVSxtdD1MK2ssYXQ9RStmdCxvdD1oKihMLWspLGd0PWgqKEUtZnQpLHZ0PWR0K210LEF0PXJ0K2F0LE90PWR0LW10LE50PXJ0LWF0LEN0PW50K2d0LEZ0PXB0LW90LEV0PW50LWd0LGt0PXB0K290O3RbbV09dnQsdFttKzFdPUF0LHRbSV09Q3QsdFtJKzFdPUZ0LHRbd109T3QsdFt3KzFdPU50LHRbdl09RXQsdFt2KzFdPWt0fX19X3NpbmdsZVRyYW5zZm9ybTIodCxzLGUpe2NvbnN0IGk9dGhpcy5fb3V0LG49dGhpcy5fZGF0YSxhPW5bc10sbz1uW3MrMV0sYz1uW3MrZV0saD1uW3MrZSsxXSxmPWErYyx1PW8raCxkPWEtYyxsPW8taDtpW3RdPWYsaVt0KzFdPXUsaVt0KzJdPWQsaVt0KzNdPWx9X3NpbmdsZVRyYW5zZm9ybTQodCxzLGUpe2NvbnN0IGk9dGhpcy5fb3V0LG49dGhpcy5fZGF0YSxhPXRoaXMuX2ludj8tMToxLG89ZSoyLGM9ZSozLGg9bltzXSxmPW5bcysxXSx1PW5bcytlXSxkPW5bcytlKzFdLGw9bltzK29dLHA9bltzK28rMV0sbT1uW3MrY10sST1uW3MrYysxXSx3PWgrbCx2PWYrcCxNPWgtbCxQPWYtcCxnPXUrbSxUPWQrSSxBPWEqKHUtbSksVj1hKihkLUkpLE89dytnLE49ditULEM9TStWLEY9UC1BLHE9dy1nLEI9di1ULEw9TS1WLEU9UCtBO2lbdF09TyxpW3QrMV09TixpW3QrMl09QyxpW3QrM109RixpW3QrNF09cSxpW3QrNV09QixpW3QrNl09TCxpW3QrN109RX1fcmVhbFRyYW5zZm9ybTQoKXt2YXIgdD10aGlzLl9vdXQscz10aGlzLl9jc2l6ZSxlPXRoaXMuX3dpZHRoLGk9MTw8ZSxuPXMvaTw8MSxhLG8sYz10aGlzLl9iaXRyZXY7aWYobj09PTQpZm9yKGE9MCxvPTA7YTxzO2ErPW4sbysrKXtjb25zdCBSdD1jW29dO3RoaXMuX3NpbmdsZVJlYWxUcmFuc2Zvcm0yKGEsUnQ+Pj4xLGk+Pj4xKX1lbHNlIGZvcihhPTAsbz0wO2E8czthKz1uLG8rKyl7Y29uc3QgUnQ9Y1tvXTt0aGlzLl9zaW5nbGVSZWFsVHJhbnNmb3JtNChhLFJ0Pj4+MSxpPj4+MSl9dmFyIGg9dGhpcy5faW52Py0xOjEsZj10aGlzLnRhYmxlO2ZvcihpPj49MjtpPj0yO2k+Pj0yKXtuPXMvaTw8MTt2YXIgdT1uPj4+MSxkPXU+Pj4xLGw9ZD4+PjE7Zm9yKGE9MDthPHM7YSs9bilmb3IodmFyIHA9MCxtPTA7cDw9bDtwKz0yLG0rPWkpe3ZhciBJPWErcCx3PUkrZCx2PXcrZCxNPXYrZCxQPXRbSV0sZz10W0krMV0sVD10W3ddLEE9dFt3KzFdLFY9dFt2XSxPPXRbdisxXSxOPXRbTV0sQz10W00rMV0sRj1QLHE9ZyxCPWZbbV0sTD1oKmZbbSsxXSxFPVQqQi1BKkwsSD1UKkwrQSpCLGl0PWZbMiptXSwkPWgqZlsyKm0rMV0sVT1WKml0LU8qJCxLPVYqJCtPKml0LFo9ZlszKm1dLGs9aCpmWzMqbSsxXSxmdD1OKlotQyprLGR0PU4qaytDKloscnQ9RitVLG50PXErSyxwdD1GLVUsbXQ9cS1LLGF0PUUrZnQsb3Q9SCtkdCxndD1oKihFLWZ0KSx2dD1oKihILWR0KSxBdD1ydCthdCxPdD1udCtvdCxOdD1wdCt2dCxDdD1tdC1ndDtpZih0W0ldPUF0LHRbSSsxXT1PdCx0W3ddPU50LHRbdysxXT1DdCxwPT09MCl7dmFyIEZ0PXJ0LWF0LEV0PW50LW90O3Rbdl09RnQsdFt2KzFdPUV0O2NvbnRpbnVlfWlmKHAhPT1sKXt2YXIga3Q9cHQsT2U9LW10LE5lPXJ0LENlPS1udCxGZT0taCp2dCxFZT0taCpndCxrZT0taCpvdCxSZT0taCphdCxEZT1rdCtGZSx6ZT1PZStFZSxxZT1OZStSZSxMZT1DZS1rZSxadD1hK2QtcCxYdD1hK3UtcDt0W1p0XT1EZSx0W1p0KzFdPXplLHRbWHRdPXFlLHRbWHQrMV09TGV9fX19X3NpbmdsZVJlYWxUcmFuc2Zvcm0yKHQscyxlKXtjb25zdCBpPXRoaXMuX291dCxuPXRoaXMuX2RhdGEsYT1uW3NdLG89bltzK2VdLGM9YStvLGg9YS1vO2lbdF09YyxpW3QrMV09MCxpW3QrMl09aCxpW3QrM109MH1fc2luZ2xlUmVhbFRyYW5zZm9ybTQodCxzLGUpe2NvbnN0IGk9dGhpcy5fb3V0LG49dGhpcy5fZGF0YSxhPXRoaXMuX2ludj8tMToxLG89ZSoyLGM9ZSozLGg9bltzXSxmPW5bcytlXSx1PW5bcytvXSxkPW5bcytjXSxsPWgrdSxwPWgtdSxtPWYrZCxJPWEqKGYtZCksdz1sK20sdj1wLE09LUksUD1sLW0sZz1wLFQ9STtpW3RdPXcsaVt0KzFdPTAsaVt0KzJdPXYsaVt0KzNdPU0saVt0KzRdPVAsaVt0KzVdPTAsaVt0KzZdPWcsaVt0KzddPVR9fWxldCB0cz1yPT5jb25zb2xlLmxvZyhyKTtjb25zdCBzcz0oLi4ucik9PnRzKC4uLnIpLGVzPShyLHQscyk9Pk1hdGgubWluKE1hdGgubWF4KHIsdCkscyksenQ9cj0+ci8oMStyKSxpcz0ocix0KT0+KHIldCt0KSV0LHJzPShyLHQpPT4oMSt0KSpyLygxK3QqTWF0aC5hYnMocikpLEo9KHIsdCk9Pk1hdGgudGFuaChyKigxK3QpKSxucz0ocix0KT0+ZXMoKDErdCkqciwtMSwxKSxxdD0ocix0KT0+e2xldCBzPSgxKy41KnQpKnI7Y29uc3QgZT1pcyhzKzEsNCk7cmV0dXJuIDEtTWF0aC5hYnMoZS0yKX0sYXM9KHIsdCk9Pk1hdGguc2luKE1hdGguUEkvMipxdChyLHQpKSxvcz0ocix0KT0+e2NvbnN0IHM9enQoTWF0aC5sb2cxcCh0KSksZT0oci1zLzMqcipyKnIpLygxLXMvMyk7cmV0dXJuIEooZSx0KX0sTHQ9KHIsdCxzPSExKT0+e2NvbnN0IGU9MSsyKnQsbj0uMDcqenQoTWF0aC5sb2cxcCh0KSksYT1KKHIrbiwyKnQpLG89SihzP246LXIrbiwyKnQpLGM9YS1vLGg9MS9NYXRoLmNvc2goZSpuKSxmPWgqaCx1PU1hdGgubWF4KDFlLTgsKHM/MToyKSplKmYpO3JldHVybiBKKGMvdSx0KX0sV3Q9e3NjdXJ2ZTpycyxzb2Z0OkosaGFyZDpucyxjdWJpYzpvcyxkaW9kZTpMdCxhc3ltOihyLHQpPT5MdChyLHQsITApLGZvbGQ6cXQsc2luZWZvbGQ6YXMsY2hlYnlzaGV2OihyLHQpPT57Y29uc3Qgcz0xMCpNYXRoLmxvZzFwKHQpO2xldCBlPTEsaT1yLG4sYT0wO2ZvcihsZXQgbz0xO288NjQ7bysrKXtpZihvPDIpe2ErPW89PTA/ZTppO2NvbnRpbnVlfW49MipyKmUtaSxpPWUsZT1uLG8lMj09PTAmJihhKz1NYXRoLm1pbigxLjMqcy9vLDIpKm4pfXJldHVybiBKKGEscy8yMCl9fSxodD1PYmplY3QuZnJlZXplKE9iamVjdC5rZXlzKFd0KSksaHM9cj0+e2xldCB0PXI7dHlwZW9mIHI9PSJzdHJpbmciJiYodD1odC5pbmRleE9mKHIpLHQ9PT0tMSYmKHNzKGBbc3VwZXJkb3VnaF0gQ291bGQgbm90IGZpbmQgd2F2ZXNoYXBpbmcgYWxnb3JpdGhtICR7cn0uCiAgICAgICAgQXZhaWxhYmxlIG9wdGlvbnMgYXJlICR7aHQuam9pbigiLCAiKX0uCiAgICAgICAgRGVmYXVsdGluZyB0byAke2h0WzBdfS5gKSx0PTApKTtjb25zdCBzPWh0W3QlaHQubGVuZ3RoXTtyZXR1cm4gV3Rbc119O2Z1bmN0aW9uIGN0KHIsdCl7aWYodHx8KHQ9ImFzc2VydGlvbiBmYWlsZWQiKSwhcil0aHJvdyBuZXcgRXJyb3IodCl9ZnVuY3Rpb24gY3Mocix0LHMpe3JldHVybiByPD0wP3Q6cj49MT9zOnQrcioocy10KX1mdW5jdGlvbiB1cyhyLHQscyl7cmV0dXJuIHI8PXQ/MDpyPj1zPzE6cz09PXQ/MDooci10KS8ocy10KX1mdW5jdGlvbiBscyhyLHQpe3JldHVybiByPHQ/KHIvPXQscityLXIqci0xKTpyPjEtdD8ocj0oci0xKS90LHIqcityK3IrMSk6MH1mdW5jdGlvbiBmcyhyKXtyZXR1cm4gTWF0aC5mbG9vcihyKT09PXJ9ZnVuY3Rpb24gZHMocil7cmV0dXJuIGZzKHIpJiZyPjB9ZnVuY3Rpb24gcHMocix0KXt0PU1hdGgubWluKE1hdGgubWF4KHQsMCksMSksdC09LjAxO3ZhciBzPTIqdC8oMS10KSxlPSgxK3MpKnIvKDErcypNYXRoLmFicyhyKSk7cmV0dXJuIGV9ZnVuY3Rpb24gSXQocix0LHMpe3JldHVybiByPj0xP3M6dCtyKihzLXQpfWZ1bmN0aW9uIFl0KCl7dGhpcy5zdGF0ZT0ib2ZmIix0aGlzLnN0YXJ0VGltZT0wLHRoaXMuc3RhcnRWYWw9MH1ZdC5wcm90b3R5cGUuZXZhbD1mdW5jdGlvbihyLHQscyxlLGksbil7c3dpdGNoKHRoaXMuc3RhdGUpe2Nhc2Uib2ZmIjpyZXR1cm4gdD4wJiYodGhpcy5zdGF0ZT0iYXR0YWNrIix0aGlzLnN0YXJ0VGltZT1yLHRoaXMuc3RhcnRWYWw9MCksMDtjYXNlImF0dGFjayI6e2xldCBhPXItdGhpcy5zdGFydFRpbWU7cmV0dXJuIGE+cz8odGhpcy5zdGF0ZT0iZGVjYXkiLHRoaXMuc3RhcnRUaW1lPXIsMSk6SXQoYS9zLHRoaXMuc3RhcnRWYWwsMSl9Y2FzZSJkZWNheSI6e2xldCBhPXItdGhpcy5zdGFydFRpbWUsbz1JdChhL2UsMSxpKTtyZXR1cm4gdDw9MD8odGhpcy5zdGF0ZT0icmVsZWFzZSIsdGhpcy5zdGFydFRpbWU9cix0aGlzLnN0YXJ0VmFsPW8sbyk6YT5lPyh0aGlzLnN0YXRlPSJzdXN0YWluIix0aGlzLnN0YXJ0VGltZT1yLGkpOm99Y2FzZSJzdXN0YWluIjpyZXR1cm4gdDw9MCYmKHRoaXMuc3RhdGU9InJlbGVhc2UiLHRoaXMuc3RhcnRUaW1lPXIsdGhpcy5zdGFydFZhbD1pKSxpO2Nhc2UicmVsZWFzZSI6e2xldCBhPXItdGhpcy5zdGFydFRpbWU7aWYoYT5uKXJldHVybiB0aGlzLnN0YXRlPSJvZmYiLDA7bGV0IG89SXQoYS9uLHRoaXMuc3RhcnRWYWwsMCk7cmV0dXJuIHQ+MCYmKHRoaXMuc3RhdGU9ImF0dGFjayIsdGhpcy5zdGFydFRpbWU9cix0aGlzLnN0YXJ0VmFsPW8pLG99fXRocm93ImludmFsaWQgZW52ZWxvcGUgc3RhdGUifTtmdW5jdGlvbiB3dCgpe3RoaXMuczA9MCx0aGlzLnMxPTB9d3QucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHIsdCxzKXtjdCghaXNOYU4ociksIk5hTiB2YWx1ZSBmZWQgaW4gVHdvUG9sZUZpbHRlciIpLHQ9TWF0aC5taW4odCwxKSxzPU1hdGgubWF4KHMsMCk7dmFyIGU9TWF0aC5wb3coLjUsKDEtdCkvLjEyNSksaT1NYXRoLnBvdyguNSwocysuMTI1KS8uMTI1KSxuPTEtaSplLGE9dGhpcy5zMCxvPXRoaXMuczE7cmV0dXJuIGE9biphLWUqbytlKnIsbz1uKm8rZSphLHI9byx0aGlzLnMwPWEsdGhpcy5zMT1vLHJ9O2xldCBtcz1jbGFzcyBKdHtjb25zdHJ1Y3Rvcih0LHMpe3RoaXMuc2FtcGxlUmF0ZT10LHM/dGhpcy5idWZmZXI9cy5zbGljZSgwKToodGhpcy5idWZmZXI9bmV3IEZsb2F0MzJBcnJheSgxMCp0KSx0aGlzLmJ1ZmZlci5maWxsKDApKSx0aGlzLndyaXRlSWR4PTAsdGhpcy5yZWFkSWR4PTB9cmVzZXQoKXt0aGlzLmJ1ZmZlci5maWxsKDApLHRoaXMud3JpdGVJZHg9MCx0aGlzLnJlYWRJZHg9MH1jbG9uZSgpe2NvbnN0IHQ9bmV3IEp0KHRoaXMuc2FtcGxlUmF0ZSx0aGlzLmJ1ZmZlcik7cmV0dXJuIHQud3JpdGVJZHg9dGhpcy53cml0ZUlkeCx0LnJlYWRJZHg9dGhpcy5yZWFkSWR4LHR9d3JpdGUodCxzKXt0aGlzLndyaXRlSWR4PSh0aGlzLndyaXRlSWR4KzEpJXRoaXMuYnVmZmVyLmxlbmd0aCx0aGlzLmJ1ZmZlclt0aGlzLndyaXRlSWR4XT10O2xldCBlPU1hdGgubWluKE1hdGguZmxvb3IodGhpcy5zYW1wbGVSYXRlKnMpLHRoaXMuYnVmZmVyLmxlbmd0aC0xKTt0aGlzLnJlYWRJZHg9dGhpcy53cml0ZUlkeC1lLHRoaXMucmVhZElkeDwwJiYodGhpcy5yZWFkSWR4Kz10aGlzLmJ1ZmZlci5sZW5ndGgpfXJlYWQoKXtyZXR1cm4gdGhpcy5idWZmZXJbdGhpcy5yZWFkSWR4XX19O2NvbnN0IFN0PTEvNDhlMyxfdD0yNCxncz1fdC80O2NsYXNzIHl7Y29uc3RydWN0b3IodCxzLGUsaSl7dGhpcy5ub2RlSWQ9dCx0aGlzLnN0YXRlPXMsdGhpcy5zYW1wbGVSYXRlPWUsdGhpcy5zYW1wbGVUaW1lPTEvZSx0aGlzLnNlbmQ9aX19Y2xhc3MgYnMgZXh0ZW5kcyB5e2NvbnN0cnVjdG9yKHQscyxlLGkpe3N1cGVyKHQscyxlLGkpLHRoaXMuZW52PW5ldyBZdH11cGRhdGUodCxzLGUsaSxuLGEpe3JldHVybiB0aGlzLmVudi5ldmFsKHQscyxlLGksbixhKX19Y2xhc3MgdnMgZXh0ZW5kcyB5e2NvbnN0cnVjdG9yKHQscyxlLGkpe3N1cGVyKHQscyxlLGkpLHRoaXMucGhhc2U9MH11cGRhdGUodCl7bGV0IHM9X3QqdC82MCxlPS41O3JldHVybiB0aGlzLnBoYXNlKz10aGlzLnNhbXBsZVRpbWUqcyx0aGlzLnBoYXNlJTE8ZT8xOi0xfX1jbGFzcyBJcyBleHRlbmRzIHl7Y29uc3RydWN0b3IodCxzLGUsaSl7c3VwZXIodCxzLGUsaSksdGhpcy5pblNnbj0hMCx0aGlzLm91dFNnbj0hMCx0aGlzLmNsb2NrQ250PTB9dXBkYXRlKHQscyl7bGV0IGU9dD4wO3JldHVybiB0aGlzLmluU2duIT1lJiYodGhpcy5jbG9ja0NudCsrLHRoaXMuY2xvY2tDbnQ+PXMmJih0aGlzLmNsb2NrQ250PTAsdGhpcy5vdXRTZ249IXRoaXMub3V0U2duKSksdGhpcy5pblNnbj1lLHRoaXMub3V0U2duPzE6LTF9fWNsYXNzIHdzIGV4dGVuZHMgeXtjb25zdHJ1Y3Rvcih0LHMsZSxpKXtzdXBlcih0LHMsZSxpKSx0aGlzLmluU2duPSExfXVwZGF0ZSh0LHMpe2xldCBlPXM+MDtyZXR1cm4gZSYmdGhpcy5pblNnbiE9ZSYmdGhpcy5zZW5kKHt0eXBlOiJDTE9DS19QVUxTRSIsbm9kZUlkOnRoaXMubm9kZUlkLHRpbWU6dH0pLHRoaXMuaW5TZ249ZSwwfX1jb25zdCBNdD1uZXcgTWFwO2NsYXNzIFNzIGV4dGVuZHMgeXtjb25zdHJ1Y3Rvcih0LHMsZSxpKXtzdXBlcih0LHMsZSxpKTtjb25zdCBuPXMuaW5wdXRzWzJdO24mJk10LmhhcyhuKT90aGlzLmRlbGF5PU10LmdldChuKS5jbG9uZSgpOnRoaXMuZGVsYXk9bmV3IG1zKGUpLG4mJk10LnNldChuLHRoaXMuZGVsYXkpfXVwZGF0ZSh0LHMpe3JldHVybiB0aGlzLmRlbGF5LndyaXRlKHQscyksdGhpcy5kZWxheS5yZWFkKCl9fWNsYXNzIF9zIGV4dGVuZHMgeXtjb25zdHJ1Y3Rvcih0LHMsZSxpKXtzdXBlcih0LHMsZSxpKX11cGRhdGUodCxzKXtyZXR1cm4gcHModCxzKX19Y2xhc3MgTXMgZXh0ZW5kcyB5e2NvbnN0cnVjdG9yKHQscyxlLGkpe3N1cGVyKHQscyxlLGkpLHRoaXMudmFsdWU9MCx0aGlzLnRyaWdTZ249ITF9d3JpdGUodCxzKXshdGhpcy50cmlnU2duJiZzPjAmJih0aGlzLnZhbHVlPXQpLHRoaXMudHJpZ1Nnbj1zPjB9cmVhZCgpe3JldHVybiB0aGlzLnZhbHVlfXVwZGF0ZSh0LHMpe3JldHVybiB0aGlzLndyaXRlKHQscyksdGhpcy5yZWFkKCl9fWNsYXNzIHhze2NvbnN0cnVjdG9yKCl7dGhpcy52YWx1ZT0wfXVwZGF0ZSh0KXtyZXR1cm4gdGhpcy52YWx1ZT10LHRoaXMudmFsdWV9fWNvbnN0IHlzPTM0MDtsZXQgR3Q9MDtjbGFzcyBQc3tjb25zdHJ1Y3Rvcigpe3RoaXMuY2g9R3QsdGhpcy5zdGFydF9zZWVkPXlzKih0aGlzLmNoKzEpPj4+MCx0aGlzLnN0YXRlPXRoaXMuc3RhcnRfc2VlZCx0aGlzLnZhbHVlPTAsdGhpcy5hPTE2NjQ1MjUsdGhpcy5jPTEwMTM5MDQyMjMsdGhpcy5tYXNrPTE2Nzc3MjE1LHRoaXMuc2NhbGU9NTk2MDQ2NDQ3NzUzOTA2M2UtMjMsR3QrK311cGRhdGUodCxzKXtpZighdClyZXR1cm4gdGhpcy52YWx1ZTtzJiYodGhpcy5zdGF0ZT10aGlzLnN0YXJ0X3NlZWQpLHRoaXMuc3RhdGU9dGhpcy5zdGF0ZSp0aGlzLmErdGhpcy5jPj4+MDtjb25zdCBlPSh0aGlzLnN0YXRlJnRoaXMubWFzaykqdGhpcy5zY2FsZTtyZXR1cm4gdGhpcy52YWx1ZT1lKjItMSx0aGlzLnZhbHVlfX1jbGFzcyBUc3tjb25zdHJ1Y3Rvcigpe3RoaXMudmFsdWU9TWF0aC5yYW5kb20oKSoyLTF9dXBkYXRlKHQpe3JldHVybiB0Pyh0aGlzLnZhbHVlPU1hdGgucmFuZG9tKCkqMi0xLHRoaXMudmFsdWUpOnRoaXMudmFsdWV9fWNsYXNzIEJze3VwZGF0ZSh0KXtyZXR1cm4gTWF0aC5yYW5kb20oKTx0KlN0P01hdGgucmFuZG9tKCk6MH19Y2xhc3MgVnN7Y29uc3RydWN0b3IoKXt0aGlzLm91dD0wfXVwZGF0ZSgpe2xldCB0PU1hdGgucmFuZG9tKCkqMi0xO3JldHVybiB0aGlzLm91dD0odGhpcy5vdXQrLjAyKnQpLzEuMDIsdGhpcy5vdXR9fWNsYXNzIEFze2NvbnN0cnVjdG9yKCl7dGhpcy5iMD0wLHRoaXMuYjE9MCx0aGlzLmIyPTAsdGhpcy5iMz0wLHRoaXMuYjQ9MCx0aGlzLmI1PTAsdGhpcy5iNj0wfXVwZGF0ZSgpe2NvbnN0IHQ9TWF0aC5yYW5kb20oKSoyLTE7dGhpcy5iMD0uOTk4ODYqdGhpcy5iMCt0Ki4wNTU1MTc5LHRoaXMuYjE9Ljk5MzMyKnRoaXMuYjErdCouMDc1MDc1OSx0aGlzLmIyPS45NjkqdGhpcy5iMit0Ki4xNTM4NTIsdGhpcy5iMz0uODY2NSp0aGlzLmIzK3QqLjMxMDQ4NTYsdGhpcy5iND0uNTUqdGhpcy5iNCt0Ki41MzI5NTIyLHRoaXMuYjU9LS43NjE2KnRoaXMuYjUtdCouMDE2ODk4O2NvbnN0IHM9dGhpcy5iMCt0aGlzLmIxK3RoaXMuYjIrdGhpcy5iMyt0aGlzLmI0K3RoaXMuYjUrdGhpcy5iNit0Ki41MzYyO3JldHVybiB0aGlzLmI2PXQqLjExNTkyNixzKi4xMX19Y2xhc3MgT3MgZXh0ZW5kcyB5e2NvbnN0cnVjdG9yKHQscyxlLGkpe3N1cGVyKHQscyxlLGkpLHRoaXMucGhhc2U9MX11cGRhdGUodCl7dGhpcy5waGFzZSs9dGhpcy5zYW1wbGVUaW1lKnQ7bGV0IHM9dGhpcy5waGFzZT49MT8xOjA7cmV0dXJuIHRoaXMucGhhc2U9dGhpcy5waGFzZSUxLHN9fWNsYXNzIE5zIGV4dGVuZHMgeXtjb25zdHJ1Y3Rvcih0LHMsZSxpKXtzdXBlcih0LHMsZSxpKSx0aGlzLnBoYXNlPTB9dXBkYXRlKHQscyl7cmV0dXJuIHRoaXMucGhhc2UrPXRoaXMuc2FtcGxlVGltZSp0LHRoaXMucGhhc2UlMTxzPzE6LTF9fWNsYXNzIENzIGV4dGVuZHMgeXtjb25zdHJ1Y3Rvcih0LHMsZSxpKXtzdXBlcih0LHMsZSxpKSx0aGlzLnBoYXNlPTB9dXBkYXRlKHQpe3JldHVybiB0aGlzLnBoYXNlKz10aGlzLnNhbXBsZVRpbWUqdCx0aGlzLnBoYXNlJTEqMi0xfX1jbGFzcyBGc3tjb25zdHJ1Y3Rvcigpe3RoaXMucGhhc2U9TWF0aC5yYW5kb20oKX11cGRhdGUodCl7Y29uc3Qgcz10L3NhbXBsZVJhdGU7bGV0IGU9bHModGhpcy5waGFzZSxzKSxpPTIqdGhpcy5waGFzZS0xLWU7cmV0dXJuIHRoaXMucGhhc2UrPXMsdGhpcy5waGFzZT4xJiYodGhpcy5waGFzZS09MSksaX19Y2xhc3MgRXMgZXh0ZW5kcyB5e2NvbnN0cnVjdG9yKHQscyxlLGkpe3N1cGVyKHQscyxlLGkpLHRoaXMucGhhc2U9MCx0aGlzLnN5bmNTZ249ITF9dXBkYXRlKHQscyxlKXshdGhpcy5zeW5jU2duJiZzPjAmJih0aGlzLnBoYXNlPTApLHRoaXMuc3luY1Nnbj1zPjA7bGV0IGk9KHRoaXMucGhhc2UrZSklMTtyZXR1cm4gdGhpcy5waGFzZSs9dGhpcy5zYW1wbGVUaW1lKnQsTWF0aC5zaW4oaSoyKk1hdGguUEkpfX1jbGFzcyBrc3tkQlRvTGluZWFyKHQpe3JldHVybiBNYXRoLnBvdygxMCx0LzIwKX1saW5lYXJUb0RCKHQpe3JldHVybiAyMCpNYXRoLmxvZzEwKHQpfXVwZGF0ZSh0LHMsZSl7bGV0IGk9dGhpcy5saW5lYXJUb0RCKE1hdGguYWJzKHQpKSxuPTA7cmV0dXJuIGk+cyYmKG49KGktcykqKDEtMS9lKSksdGhpcy5kQlRvTGluZWFyKC1uKX19Y2xhc3MgUnMgZXh0ZW5kcyB5e2NvbnN0cnVjdG9yKHQscyxlLGkpe3N1cGVyKHQscyxlLGkpLHRoaXMucGhhc2U9MH11cGRhdGUodCl7dGhpcy5waGFzZSs9dGhpcy5zYW1wbGVUaW1lKnQ7bGV0IHM9dGhpcy5waGFzZSUxO3JldHVybihzPC41PzIqczoxLTIqKHMtLjUpKSoyLTF9fWNsYXNzIERzIGV4dGVuZHMgeXtjb25zdHJ1Y3Rvcih0LHMsZSxpKXtzdXBlcih0LHMsZSxpKTtjb25zdCBuPWUvMzA7Y3QoZHMobikpLHRoaXMuYnVmZmVyPW5ldyBGbG9hdDMyQXJyYXkobiksdGhpcy53cml0ZVBvcz0wfXVwZGF0ZSh0LHMsZSxpKXtyZXR1cm4gdGhpcy5idWZmZXJbdGhpcy53cml0ZVBvc109dCx0aGlzLndyaXRlUG9zKyssdGhpcy53cml0ZVBvcyV0aGlzLmJ1ZmZlci5sZW5ndGg9PTAmJih0aGlzLndyaXRlUG9zPTAsdGhpcy5zZW5kKHt0eXBlOiJTRU5EX1NBTVBMRVMiLGlkOnMsc2FtcGxlczp0aGlzLmJ1ZmZlcixjaGFubmVsczplLGNoYW5uZWw6aX0pKSx0fX1jbGFzcyB6c3tjb25zdHJ1Y3Rvcigpe3RoaXMubGFnVW5pdD00NDEwLHRoaXMucz0wfXVwZGF0ZSh0LHMpe3JldHVybiBzPXMqdGhpcy5sYWdVbml0LHM8MSYmKHM9MSksdGhpcy5zKz0xL3MqKHQtdGhpcy5zKSx0aGlzLnN9fWNsYXNzIHFze2NvbnN0cnVjdG9yKCl7dGhpcy5sYXN0PTB9dXBkYXRlKHQscyxlKXtjb25zdCBpPXMqU3Qsbj1lKlN0O2xldCBhPXQtdGhpcy5sYXN0O3JldHVybiBhPmk/YT1pOmE8LW4mJihhPS1uKSx0aGlzLmxhc3QrPWEsdGhpcy5sYXN0fX1jbGFzcyBMcyBleHRlbmRzIHl7Y29uc3RydWN0b3IodCxzLGUsaSl7c3VwZXIodCxzLGUsaSksdGhpcy5zPTB9dXBkYXRlKHQscyl7cmV0dXJuIHM9cyoxZTMsczwxJiYocz0xKSx0aGlzLnMrPTEvcyoodC10aGlzLnMpLHRoaXMuc319Y2xhc3MgV3MgZXh0ZW5kcyB5e2NvbnN0cnVjdG9yKHQscyxlLGkpe3N1cGVyKHQscyxlLGkpLHRoaXMuZmlsdGVyPW5ldyB3dH11cGRhdGUodCxzLGUpe3JldHVybiB0aGlzLmZpbHRlci5hcHBseSh0LHMsZSksdGhpcy5maWx0ZXIuczF9fWNsYXNzIFlzIGV4dGVuZHMgeXtjb25zdHJ1Y3Rvcih0LHMsZSxpKXtzdXBlcih0LHMsZSxpKSx0aGlzLmZpbHRlcj1uZXcgd3R9dXBkYXRlKHQscyxlKXtyZXR1cm4gdGhpcy5maWx0ZXIuYXBwbHkodCxzLGUpLHRoaXMuZmlsdGVyLnMwfX1jbGFzcyBHcyBleHRlbmRzIHl7Y29uc3RydWN0b3IodCxzLGUsaSl7c3VwZXIodCxzLGUsaSl9dXBkYXRlKHQscyl7cmV0dXJuIHM8MCYmKHM9MCkscz1zKzEsdD10KnMsNCooTWF0aC5hYnMoLjI1KnQrLjI1LU1hdGgucm91bmQoLjI1KnQrLjI1KSktLjI1KX19Y2xhc3MganMgZXh0ZW5kcyB5e3VwZGF0ZSh0KXtyZXR1cm4gdH19Y2xhc3MgYnQgZXh0ZW5kcyB5e2NvbnN0cnVjdG9yKHQscyxlLGkpe3N1cGVyKHQscyxlLGkpLHRoaXMubm90ZT0wLHRoaXMuZnJlcT0wLHRoaXMudmVsb2NpdHk9MCx0aGlzLmdhdGVTdGF0ZT0ib2ZmIix0aGlzLnR5cGU9Im1pZGlpbiIsdGhpcy5jaGFubmVsPS0xfWlzRnJlZSgpe3JldHVybiB0aGlzLmdhdGVTdGF0ZT09PSJvZmYifW5vdGVPbih0LHMpe3M+MD8odGhpcy5ub3RlPXQsdGhpcy52ZWxvY2l0eT1zLHRoaXMuZnJlcT0yKiooKHQtNjkpLzEyKSo0NDAsdGhpcy5nYXRlU3RhdGU9InByZXRyaWciKTp0aGlzLm5vdGVPZmYoKX1ub3RlT2ZmKCl7dGhpcy5ub3RlPTAsdGhpcy5nYXRlU3RhdGU9Im9mZiJ9Z2V0R2F0ZSgpe3N3aXRjaCh0aGlzLmdhdGVTdGF0ZSl7Y2FzZSJwcmV0cmlnIjpyZXR1cm4gdGhpcy5nYXRlU3RhdGU9Im9uIiwwO2Nhc2Uib24iOnJldHVybiAxO2Nhc2Uib2ZmIjpyZXR1cm4gMDtkZWZhdWx0OmN0KCExKX19Z2V0RnJlcSgpe3N3aXRjaCh0aGlzLmdhdGVTdGF0ZSl7Y2FzZSJwcmV0cmlnIjpyZXR1cm4gdGhpcy5nYXRlU3RhdGU9Im9uIiwwO2Nhc2Uib24iOnJldHVybiB0aGlzLmZyZXE7Y2FzZSJvZmYiOnJldHVybiB0aGlzLmZyZXE7ZGVmYXVsdDpjdCghMSl9fWdldFZlbG9jaXR5KCl7c3dpdGNoKHRoaXMuZ2F0ZVN0YXRlKXtjYXNlInByZXRyaWciOnJldHVybiB0aGlzLmdhdGVTdGF0ZT0ib24iLDA7Y2FzZSJvbiI6cmV0dXJuIHRoaXMudmVsb2NpdHk7Y2FzZSJvZmYiOnJldHVybiB0aGlzLnZlbG9jaXR5O2RlZmF1bHQ6Y3QoITEpfX19Y2xhc3MgSHMgZXh0ZW5kcyBidHtjb25zdHJ1Y3Rvcih0LHMsZSxpKXtzdXBlcih0LHMsZSxpKSx0aGlzLnR5cGU9Im1pZGlnYXRlIn11cGRhdGUodCl7cmV0dXJuIHRoaXMuY2hhbm5lbD10LHRoaXMuZ2V0R2F0ZSgpfX1jbGFzcyBVcyBleHRlbmRzIGJ0e2NvbnN0cnVjdG9yKHQscyxlLGkpe3N1cGVyKHQscyxlLGkpLHRoaXMudHlwZT0ibWlkaWZyZXEifXVwZGF0ZSh0KXtyZXR1cm4gdGhpcy5jaGFubmVsPXQsdGhpcy5nZXRGcmVxKCl9fWNsYXNzICRzIGV4dGVuZHMgYnR7Y29uc3RydWN0b3IodCxzLGUsaSl7c3VwZXIodCxzLGUsaSksdGhpcy50eXBlPSJtaWRpdmVsIn11cGRhdGUodCl7cmV0dXJuIHRoaXMuY2hhbm5lbD10LHRoaXMuZ2V0VmVsb2NpdHkoKX19Y2xhc3MgS3N7Y29uc3RydWN0b3IodCxzLGUsaSl7dGhpcy51cD0hMSx0aGlzLnNlbmQ9aSx0aGlzLnZhbHVlPTAsdGhpcy50eXBlPSJjYyJ9c2V0VmFsdWUodCl7dGhpcy52YWx1ZT10fXVwZGF0ZSh0LHMsZSl7cmV0dXJuIHRoaXMuaWQ9cywhdGhpcy51cCYmdD4wPyh0aGlzLnVwPSEwLHRoaXMuc2VuZCh7dHlwZToiU0lHTkFMX1RSSUdHRVIiLGlkOnMsdGltZTplfSksdGhpcy52YWx1ZSk6KHRoaXMudXA9dD4wLHRoaXMudmFsdWUpfX1jbGFzcyBacyBleHRlbmRzIHl7Y29uc3RydWN0b3IodCxzLGUsaSl7c3VwZXIodCxzLGUsaSksdGhpcy50eXBlPSJjYyIsdGhpcy52YWx1ZT1zLmlucHV0c1sxXT8/MH1zZXRWYWx1ZSh0KXt0aGlzLnZhbHVlPXR9dXBkYXRlKHQpe3JldHVybiB0aGlzLmlkPXQsdGhpcy52YWx1ZX19Y2xhc3MgWHMgZXh0ZW5kcyB5e2NvbnN0cnVjdG9yKHQscyxlLGkpe3N1cGVyKHQscyxlLGkpLHRoaXMudHlwZT0ibWlkaWNjIix0aGlzLnZhbHVlPXMuaW5wdXRzWzJdPz8tMSx0aGlzLmNoYW5uZWw9LTEsdGhpcy5jY251bWJlcj0tMX1zZXRWYWx1ZSh0KXt0aGlzLnZhbHVlPXR9dXBkYXRlKHQscyl7cmV0dXJuIHRoaXMuY2NudW1iZXI9dCx0aGlzLmNoYW5uZWw9cyx0aGlzLnZhbHVlfX1jbGFzcyBKcyBleHRlbmRzIHl7Y29uc3RydWN0b3IodCxzLGUsaSl7c3VwZXIodCxzLGUsaSksdGhpcy5jbG9ja1Nnbj0hMCx0aGlzLnN0ZXA9MCx0aGlzLmZpcnN0PSEwfXVwZGF0ZSh0LC4uLnMpe3JldHVybiF0aGlzLmNsb2NrU2duJiZ0PjA/KHRoaXMuc3RlcD0odGhpcy5zdGVwKzEpJXMubGVuZ3RoLHRoaXMuY2xvY2tTZ249dD4wLDApOih0aGlzLmNsb2NrU2duPXQ+MCxzW3RoaXMuc3RlcF0pfX1jbGFzcyBRcyBleHRlbmRzIHl7dXBkYXRlKHQsLi4ucyl7Y29uc3QgZT10JXMubGVuZ3RoK3MubGVuZ3RoO3JldHVybiBzW01hdGguZmxvb3IoZSklcy5sZW5ndGhdfX1jbGFzcyB0ZXt1cGRhdGUodCxzLGUsaSxuKXtsZXQgYT11cyh0LHMsZSk7cmV0dXJuIGNzKGEsaSxuKX19Y2xhc3Mgc2V7dXBkYXRlKHQscyxlKXtyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgodCxzKSxlKX19Y2xhc3MgZWV7Y29uc3RydWN0b3IoKXt0aGlzLmhpPSExfXVwZGF0ZSh0KXtyZXR1cm4hdGhpcy5oaSYmdD4wPyh0aGlzLmhpPSEwLDEpOih0aGlzLmhpJiZ0PD0wJiYodGhpcy5oaT0hMSksMCl9fWNsYXNzIGlle2NvbnN0cnVjdG9yKCl7dGhpcy54MT0wLHRoaXMueDI9MCx0aGlzLnkxPTAsdGhpcy55Mj0wLHRoaXMuYTA9MSx0aGlzLmExPTAsdGhpcy5hMj0wLHRoaXMuYjA9MSx0aGlzLmIxPTAsdGhpcy5iMj0wfXVwZGF0ZSh0PTAscz0wLGU9NTAwLGk9MSxuPTEpe2NvbnN0IGE9MipNYXRoLlBJKmUvc2FtcGxlUmF0ZSxvPU1hdGguc2luKGEpO2k9TWF0aC5wb3coMTAsaS8yMCk7Y29uc3QgYz1vLygyKmkpLGg9TWF0aC5jb3MoYSk7aWYocz09PTApdGhpcy5iMT0xLWgsdGhpcy5iMD10aGlzLmIxLzIsdGhpcy5iMj10aGlzLmIwLHRoaXMuYTA9MStjLHRoaXMuYTE9LTIqaCx0aGlzLmEyPTEtYztlbHNlIGlmKHM9PT0xKXRoaXMuYjA9KDEraCkvMix0aGlzLmIxPS0oMStoKSx0aGlzLmIyPXRoaXMuYjAsdGhpcy5hMD0xK2MsdGhpcy5hMT0tMipoLHRoaXMuYTI9MS1jO2Vsc2UgaWYocz09PTIpdGhpcy5iMD1vLzIsdGhpcy5iMT0wLHRoaXMuYjI9LXRoaXMuYjAsdGhpcy5hMD0xK2MsdGhpcy5hMT0tMipoLHRoaXMuYTI9MS1jO2Vsc2UgaWYocz09PTMpdGhpcy5iMD0xLHRoaXMuYjE9LTIqaCx0aGlzLmIyPTEsdGhpcy5hMD0xK2MsdGhpcy5hMT0tMipoLHRoaXMuYTI9MS1jO2Vsc2UgaWYocz09PTQpdGhpcy5iMD0xLWMsdGhpcy5iMT0tMipoLHRoaXMuYjI9MStjLHRoaXMuYTA9MStjLHRoaXMuYTE9LTIqaCx0aGlzLmEyPTEtYztlbHNlIGlmKHM9PT01KXtjb25zdCB1PU1hdGgucG93KDEwLG4vNDApO3RoaXMuYjA9MStjKnUsdGhpcy5iMT0tMipoLHRoaXMuYjI9MS1jKnUsdGhpcy5hMD0xK2MvdSx0aGlzLmExPS0yKmgsdGhpcy5hMj0xLWMvdX1lbHNlIGlmKHM9PT02KXtjb25zdCB1PU1hdGgucG93KDEwLG4vNDApLGQ9MipNYXRoLnNxcnQodSkqYyxsPSh1LTEpKmgscD0odSsxKSpoO3RoaXMuYjA9dSoodSsxLWwrZCksdGhpcy5iMT0yKnUqKHUtMS1wKSx0aGlzLmIyPXUqKHUrMS1sLWQpLHRoaXMuYTA9dSsxK2wrZCx0aGlzLmExPS0yKih1LTErcCksdGhpcy5hMj11KzErbC1kfWVsc2UgaWYocz09PTcpe2NvbnN0IHU9TWF0aC5wb3coMTAsbi80MCksZD0yKk1hdGguc3FydCh1KSpjLGw9KHUtMSkqaCxwPSh1KzEpKmg7dGhpcy5iMD11Kih1KzErbCtkKSx0aGlzLmIxPS0yKnUqKHUtMStwKSx0aGlzLmIyPXUqKHUrMStsLWQpLHRoaXMuYTA9dSsxLWwrZCx0aGlzLmExPTIqKHUtMS1wKSx0aGlzLmEyPXUrMS1sLWR9dGhpcy5iMC89dGhpcy5hMCx0aGlzLmIxLz10aGlzLmEwLHRoaXMuYjIvPXRoaXMuYTAsdGhpcy5hMS89dGhpcy5hMCx0aGlzLmEyLz10aGlzLmEwLHRoaXMuYTA9MTtjb25zdCBmPXRoaXMuYjAqdCt0aGlzLmIxKnRoaXMueDErdGhpcy5iMip0aGlzLngyLXRoaXMuYTEqdGhpcy55MS10aGlzLmEyKnRoaXMueTI7cmV0dXJuIHRoaXMueDI9dGhpcy54MSx0aGlzLngxPXQsdGhpcy55Mj10aGlzLnkxLHRoaXMueTE9ZixmfX1jb25zdCByZT1PYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7X19wcm90b19fOm51bGwsQURTUk5vZGU6YnMsQXVkaW9JbjpqcyxBdWRpb05vZGU6eSxCUEY6WXMsQmlxdWFkRmlsdGVyOmllLEJyb3duTm9pc2VPc2M6VnMsQ0M6WnMsQ0xPQ0tfUFBROl90LENMT0NLX1BQUzpncyxDbGlwOnNlLENsb2NrOnZzLENsb2NrRGl2OklzLENsb2NrT3V0OndzLERlbGF5OlNzLERpc3RvcnQ6X3MsRHVzdE9zYzpCcyxGaWx0ZXI6V3MsRm9sZDpHcyxIb2xkOk1zLEltcHVsc2VPc2M6T3MsTGFnOnpzLExjZ05vaXNlOlBzLE1pZGlDQzpYcyxNaWRpRnJlcTpVcyxNaWRpR2F0ZTpIcyxNaWRpSW46YnQsTWlkaVZlbDokcyxOb2lzZU9zYzpUcyxPdXRwdXQ6eHMsUGljazpRcyxQaW5rTm9pc2U6QXMsUHVsc2VPc2M6TnMsUmVtYXA6dGUsU2F3T3NjOkZzLFNjb3BlOkRzLFNlcXVlbmNlOkpzLFNpZGVjaGFpbkNvbXByZXNzb3I6a3MsU2lnbmFsOktzLFNpbmVPc2M6RXMsU2xldzpxcyxTbGlkZTpMcyxUcmlPc2M6UnMsVHJpZzplZSxaYXdPc2M6Q3N9LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6Ik1vZHVsZSJ9KSksbmU9bmV3IE1hcChPYmplY3QuZW50cmllcyhyZSkpLFk9MTI4LEQ9TWF0aC5QSSx6PTIqRCxHPTEvc2FtcGxlUmF0ZSx4dD1yPT4xLU1hdGguZXhwKC1HL3IpLGp0PXI9Pk1hdGgucG93KDEwLHIvMjApLFM9KHIsdCxzKT0+TWF0aC5taW4oTWF0aC5tYXgocix0KSxzKSx1dD0ocix0LHMpPT5zKih0LXIpK3IsYj0ocix0KT0+clt0XT8/clswXSxRPXI9PnItTWF0aC5mbG9vcihyKSx0dD1yPT5yfDAsc3Q9cj0+dHQocisuNSksYWU9cj0+dHQocisxKSxIdD1yPT5yLXR0KHIpLGo9cj0+e2NvbnN0IHQ9cioqMjtyZXR1cm4gciooMjcrdCkvKDI3KzkqdCl9LFV0PShyLHQpPT57aWYocjwyKXJldHVybiBpPT4wO2NvbnN0IHM9dC8oci0xKSxlPXQqLjU7cmV0dXJuIGk9Pmkqcy1lfSxldD0ocix0KT0+cipNYXRoLnBvdygyLHQvMTIpO2Z1bmN0aW9uIG9lKHIsdCl7dD1NYXRoLm1pbih0LDEtdCk7Y29uc3Qgcz0xL3Q7cmV0dXJuIHI8dD8ocio9cywyKnItcioqMi0xKTpyPjEtdD8ocj0oci0xKSpzLHIqKjIrMipyKzEpOjB9Y29uc3QgeXQ9e3RyaShyLHQ9LjUpe2NvbnN0IHM9MS10O3JldHVybiByPj10PzEvcy1yL3M6ci90fSxzaW5lKHIpe3JldHVybiBNYXRoLnNpbih6KnIpKi41Ky41fSxyYW1wKHIpe3JldHVybiByfSxzYXcocil7cmV0dXJuIDEtcn0sc3F1YXJlKHIsdD0uNSl7cmV0dXJuIHI+PXQ/MDoxfSxjdXN0b20ocix0PVswLDFdKXtjb25zdCBzPXQubGVuZ3RoLTEsZT1NYXRoLmZsb29yKHIqcyksaT0xL3Msbj1TKHRbZV0sMCwxKSxvPVModFtlKzFdLDAsMSksYz1uLGg9MCxmPWk7cmV0dXJuKG8tYykvKGYtaCkqKHItaSplKStufSxzYXdibGVwKHIsdCl7cmV0dXJuIDIqci0xLW9lKHIsdCl9fSxoZT1PYmplY3Qua2V5cyh5dCk7Y2xhc3MgY2UgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToiYmVnaW4iLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToidGltZSIsZGVmYXVsdFZhbHVlOjB9LHtuYW1lOiJlbmQiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToiZnJlcXVlbmN5IixkZWZhdWx0VmFsdWU6LjV9LHtuYW1lOiJza2V3IixkZWZhdWx0VmFsdWU6LjV9LHtuYW1lOiJkZXB0aCIsZGVmYXVsdFZhbHVlOjF9LHtuYW1lOiJwaGFzZW9mZnNldCIsZGVmYXVsdFZhbHVlOjB9LHtuYW1lOiJzaGFwZSIsZGVmYXVsdFZhbHVlOjB9LHtuYW1lOiJjdXJ2ZSIsZGVmYXVsdFZhbHVlOjF9LHtuYW1lOiJkY29mZnNldCIsZGVmYXVsdFZhbHVlOjB9LHtuYW1lOiJtaW4iLGRlZmF1bHRWYWx1ZTotMWU5fSx7bmFtZToibWF4IixkZWZhdWx0VmFsdWU6MWU5fV19Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMucGhhc2V9aW5jcmVtZW50UGhhc2UodCl7dGhpcy5waGFzZSs9dCx0aGlzLnBoYXNlPjEmJih0aGlzLnBoYXNlPXRoaXMucGhhc2UtMSl9cHJvY2Vzcyh0LHMsZSl7Y29uc3QgaT1lLmJlZ2luWzBdLG49ZS5lbmRbMF07aWYoY3VycmVudFRpbWU+PW4pcmV0dXJuITE7aWYoY3VycmVudFRpbWU8PWkpcmV0dXJuITA7Y29uc3QgYT1zWzBdLG89ZS5mcmVxdWVuY3lbMF0sYz1lLnRpbWVbMF0saD1lLmRlcHRoWzBdLGY9ZS5za2V3WzBdLHU9ZS5waGFzZW9mZnNldFswXSxkPWUuY3VydmVbMF0sbD1lLmRjb2Zmc2V0WzBdLHA9ZS5taW5bMF0sbT1lLm1heFswXSxJPWhlW2Uuc2hhcGVbMF1dLHc9YVswXS5sZW5ndGg/PzA7dGhpcy5waGFzZT09bnVsbCYmKHRoaXMucGhhc2U9SHQoYypvK3UpKTtjb25zdCB2PW8qRztmb3IobGV0IE09MDtNPHc7TSsrKXtmb3IobGV0IFA9MDtQPGEubGVuZ3RoO1ArKyl7bGV0IGc9KHl0W0ldKHRoaXMucGhhc2UsZikrbCkqaDtnPU1hdGgucG93KGcsZCksYVtQXVtNXT1TKGcscCxtKX10aGlzLmluY3JlbWVudFBoYXNlKHYpfXJldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigibGZvLXByb2Nlc3NvciIsY2UpO2NsYXNzIHVlIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImNvYXJzZSIsZGVmYXVsdFZhbHVlOjF9XX1jb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5zdGFydGVkPSExfXByb2Nlc3ModCxzLGUpe2NvbnN0IGk9dFswXSxuPXNbMF0sYT1pWzBdIT09dm9pZCAwO2lmKHRoaXMuc3RhcnRlZCYmIWEpcmV0dXJuITE7dGhpcy5zdGFydGVkPWE7bGV0IG89ZS5jb2Fyc2VbMF0/PzA7bz1NYXRoLm1heCgxLG8pO2ZvcihsZXQgYz0wO2M8WTtjKyspZm9yKGxldCBoPTA7aDxpLmxlbmd0aDtoKyspbltoXVtjXT1jJW89PT0wP2lbaF1bY106bltoXVtjLTFdO3JldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigiY29hcnNlLXByb2Nlc3NvciIsdWUpO2NsYXNzIGxlIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImNydXNoIixkZWZhdWx0VmFsdWU6MH1dfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnN0YXJ0ZWQ9ITF9cHJvY2Vzcyh0LHMsZSl7Y29uc3QgaT10WzBdLG49c1swXSxhPWlbMF0hPT12b2lkIDA7aWYodGhpcy5zdGFydGVkJiYhYSlyZXR1cm4hMTt0aGlzLnN0YXJ0ZWQ9YTtsZXQgbz1lLmNydXNoWzBdPz84O289TWF0aC5tYXgoMSxvKTtmb3IobGV0IGM9MDtjPFk7YysrKWZvcihsZXQgaD0wO2g8aS5sZW5ndGg7aCsrKXtjb25zdCBmPU1hdGgucG93KDIsby0xKTtuW2hdW2NdPU1hdGgucm91bmQoaVtoXVtjXSpmKS9mfXJldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigiY3J1c2gtcHJvY2Vzc29yIixsZSk7Y2xhc3MgZmUgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToic2hhcGUiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToicG9zdGdhaW4iLGRlZmF1bHRWYWx1ZToxfV19Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuc3RhcnRlZD0hMX1wcm9jZXNzKHQscyxlKXtjb25zdCBpPXRbMF0sbj1zWzBdLGE9aVswXSE9PXZvaWQgMDtpZih0aGlzLnN0YXJ0ZWQmJiFhKXJldHVybiExO3RoaXMuc3RhcnRlZD1hO2xldCBvPWUuc2hhcGVbMF07bz1vPDE/bzouOTk5OTk5OTk5NixvPTIqby8oMS1vKTtjb25zdCBjPU1hdGgubWF4KC4wMDEsTWF0aC5taW4oMSxlLnBvc3RnYWluWzBdKSk7Zm9yKGxldCBoPTA7aDxZO2grKylmb3IobGV0IGY9MDtmPGkubGVuZ3RoO2YrKyluW2ZdW2hdPSgxK28pKmlbZl1baF0vKDErbypNYXRoLmFicyhpW2ZdW2hdKSkqYztyZXR1cm4hMH19cmVnaXN0ZXJQcm9jZXNzb3IoInNoYXBlLXByb2Nlc3NvciIsZmUpO2NsYXNzICR0e2NvbnN0cnVjdG9yKCl7RHQodGhpcywiczAiLDApO0R0KHRoaXMsInMxIiwwKX11cGRhdGUodCxzLGU9MCl7ZT1TKGUsMCwxKSxzPVMocywwLHNhbXBsZVJhdGUvMi0xKTtjb25zdCBpPVMoMipNYXRoLnNpbihzKkQqRyksMCwxLjE0KSxhPTEtTWF0aC5wb3coLjUsOCplKzEpKmk7cmV0dXJuIHRoaXMuczA9YSp0aGlzLnMwLWkqdGhpcy5zMStpKnQsdGhpcy5zMT1hKnRoaXMuczEraSp0aGlzLnMwLHRoaXMuczF9fWNsYXNzIGRlIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6InZhbHVlIixkZWZhdWx0VmFsdWU6LjV9XX1jb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5maWx0ZXJzPVtuZXcgJHQsbmV3ICR0XX1wcm9jZXNzKHQscyxlKXtjb25zdCBpPXRbMF0sbj1zWzBdLGE9aVswXSE9PXZvaWQgMDt0aGlzLnN0YXJ0ZWQ9YTtjb25zdCBvPVMoZS52YWx1ZVswXSwwLDEpO2xldCBjPSJub25lIixoLGY9MTtvPi41MT8oYz0iaGlwYXNzIixmPShvLS41KSoyKTpvPC40OSYmKGM9ImxvcGFzcyIsZj1vKjIpLGg9TWF0aC5wb3coZioxMSw0KTtmb3IobGV0IHU9MDt1PGkubGVuZ3RoO3UrKylmb3IobGV0IGQ9MDtkPFk7ZCsrKWM9PSJub25lIj9uW3VdW2RdPWlbdV1bZF06KHRoaXMuZmlsdGVyc1t1XS51cGRhdGUoaVt1XVtkXSxoLC4xKSxjPT09ImxvcGFzcyI/blt1XVtkXT10aGlzLmZpbHRlcnNbdV0uczE6Yz09PSJoaXBhc3MiP25bdV1bZF09aVt1XVtkXS10aGlzLmZpbHRlcnNbdV0uczE6blt1XVtkXT1pW3VdW2RdKTtyZXR1cm4hMH19cmVnaXN0ZXJQcm9jZXNzb3IoImRqZi1wcm9jZXNzb3IiLGRlKTtjbGFzcyBwZSBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3NvcntzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCl7cmV0dXJuW3tuYW1lOiJmcmVxdWVuY3kiLGRlZmF1bHRWYWx1ZTo1MDB9LHtuYW1lOiJxIixkZWZhdWx0VmFsdWU6MX0se25hbWU6ImRyaXZlIixkZWZhdWx0VmFsdWU6LjY5fV19Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuc3RhcnRlZD0hMSx0aGlzLnAwPVswLDBdLHRoaXMucDE9WzAsMF0sdGhpcy5wMj1bMCwwXSx0aGlzLnAzPVswLDBdLHRoaXMucDMyPVswLDBdLHRoaXMucDMzPVswLDBdLHRoaXMucDM0PVswLDBdfXByb2Nlc3ModCxzLGUpe2NvbnN0IGk9dFswXSxuPXNbMF0sYT1pWzBdIT09dm9pZCAwO2lmKHRoaXMuc3RhcnRlZCYmIWEpcmV0dXJuITE7dGhpcy5zdGFydGVkPWE7Y29uc3Qgbz1lLnFbMF0sYz1TKE1hdGguZXhwKGUuZHJpdmVbMF0pLC4xLDJlMyk7bGV0IGg9ZS5mcmVxdWVuY3lbMF07aD1oKnoqRyxoPWg+MT8xOmg7Y29uc3QgZj1NYXRoLm1pbig4LG8qLjEzKTtsZXQgdT0xL2MqTWF0aC5taW4oMS43NSwxK2YpO2ZvcihsZXQgZD0wO2Q8WTtkKyspZm9yKGxldCBsPTA7bDxpLmxlbmd0aDtsKyspe2NvbnN0IHA9dGhpcy5wM1tsXSouMzYwODkxK3RoaXMucDMyW2xdKi40MTcyOSt0aGlzLnAzM1tsXSouMTc3ODk2K3RoaXMucDM0W2xdKi4wNDM5NzI1O3RoaXMucDM0W2xdPXRoaXMucDMzW2xdLHRoaXMucDMzW2xdPXRoaXMucDMyW2xdLHRoaXMucDMyW2xdPXRoaXMucDNbbF0sdGhpcy5wMFtsXSs9KGooaVtsXVtkXSpjLWYqcCktaih0aGlzLnAwW2xdKSkqaCx0aGlzLnAxW2xdKz0oaih0aGlzLnAwW2xdKS1qKHRoaXMucDFbbF0pKSpoLHRoaXMucDJbbF0rPShqKHRoaXMucDFbbF0pLWoodGhpcy5wMltsXSkpKmgsdGhpcy5wM1tsXSs9KGoodGhpcy5wMltsXSktaih0aGlzLnAzW2xdKSkqaCxuW2xdW2RdPXAqdX1yZXR1cm4hMH19cmVnaXN0ZXJQcm9jZXNzb3IoImxhZGRlci1wcm9jZXNzb3IiLHBlKTtjbGFzcyBtZSBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3NvcntzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCl7cmV0dXJuW3tuYW1lOiJkaXN0b3J0IixkZWZhdWx0VmFsdWU6MH0se25hbWU6InBvc3RnYWluIixkZWZhdWx0VmFsdWU6MX1dfWNvbnN0cnVjdG9yKHtwcm9jZXNzb3JPcHRpb25zOnR9KXtzdXBlcigpLHRoaXMuc3RhcnRlZD0hMSx0aGlzLmFsZ29yaXRobT1ocyh0LmFsZ29yaXRobSl9cHJvY2Vzcyh0LHMsZSl7Y29uc3QgaT10WzBdLG49c1swXSxhPWlbMF0hPT12b2lkIDA7aWYodGhpcy5zdGFydGVkJiYhYSlyZXR1cm4hMTt0aGlzLnN0YXJ0ZWQ9YTtmb3IobGV0IG89MDtvPFk7bysrKXtjb25zdCBjPVMoYihlLnBvc3RnYWluLG8pLC4wMDEsMSksaD1NYXRoLmV4cG0xKGIoZS5kaXN0b3J0LG8pKTtmb3IobGV0IGY9MDtmPGkubGVuZ3RoO2YrKyl7Y29uc3QgdT1pW2ZdW29dO25bZl1bb109Yyp0aGlzLmFsZ29yaXRobSh1LGgpfX1yZXR1cm4hMH19cmVnaXN0ZXJQcm9jZXNzb3IoImRpc3RvcnQtcHJvY2Vzc29yIixtZSk7Y2xhc3MgZ2UgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMucG9ydC5vbm1lc3NhZ2U9dD0+e2NvbnN0e3R5cGU6cyxwYXlsb2FkOmV9PXQuZGF0YXx8e307cz09PSJpbml0aWFsaXplIiYmdGhpcy5pbml0aWFsaXplKGUpfSx0aGlzLmluaXRpYWxpemUoKX1pbml0aWFsaXplKHQpe3RoaXMucGhhc2U9W119c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToiYmVnaW4iLGRlZmF1bHRWYWx1ZTotMSxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG1pbjotMX0se25hbWU6ImVuZCIsZGVmYXVsdFZhbHVlOi0xLG1heDpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksbWluOi0xfSx7bmFtZToiZnJlcXVlbmN5IixkZWZhdWx0VmFsdWU6NDQwLG1pbjpOdW1iZXIuRVBTSUxPTn0se25hbWU6InBhbnNwcmVhZCIsZGVmYXVsdFZhbHVlOi40LG1pbjowLG1heDoxfSx7bmFtZToiZnJlcXNwcmVhZCIsZGVmYXVsdFZhbHVlOi4yLG1pbjowfSx7bmFtZToiZGV0dW5lIixkZWZhdWx0VmFsdWU6MCxtaW46MH0se25hbWU6InZvaWNlcyIsZGVmYXVsdFZhbHVlOjUsbWluOjEsYXV0b21hdGlvblJhdGU6ImstcmF0ZSJ9XX1wcm9jZXNzKHQscyxlKXtjb25zdCBpPWUuYmVnaW5bMF0sbj1lLmVuZFswXSxhPWk+PTAsbz1uPj0wLGM9byYmY3VycmVudFRpbWU+PW4rLjUsaD1vJiZjdXJyZW50VGltZT49bixmPWN1cnJlbnRUaW1lPD1pO2lmKGMpcmV0dXJuITE7aWYoaHx8Znx8IWEpcmV0dXJuITA7Y29uc3QgdT1zWzBdLGQ9ZS52b2ljZXNbMF07Zm9yKGxldCBsPTA7bDx1WzBdLmxlbmd0aDtsKyspe2NvbnN0IHA9YihlLmRldHVuZSxsKSxtPWIoZS5mcmVxc3ByZWFkLGwpLEk9YihlLnBhbnNwcmVhZCxsKSouNSsuNTtsZXQgdz1NYXRoLnNxcnQoMS1JKSx2PU1hdGguc3FydChJKSxNPWIoZS5mcmVxdWVuY3ksbCk7TT1ldChNLHAvMTAwKTtjb25zdCBQPVV0KGQsbSk7Zm9yKGxldCBnPTA7ZzxkO2crKyl7Y29uc3QgVD1ldChNLFAoZykpLEE9UShUKkcpO3RoaXMucGhhc2VbZ109dGhpcy5waGFzZVtnXT8/TWF0aC5yYW5kb20oKTtjb25zdCBWPXl0LnNhd2JsZXAodGhpcy5waGFzZVtnXSxBKTt1WzBdW2xdKz1WKncsdVsxXVtsXSs9Vip2O2xldCBPPXRoaXMucGhhc2VbZ10rQTtPPj0xJiYoTy09MSksdGhpcy5waGFzZVtnXT1PO2NvbnN0IE49dzt3PXYsdj1OfX1yZXR1cm4hMH19cmVnaXN0ZXJQcm9jZXNzb3IoInN1cGVyc2F3LW9zY2lsbGF0b3IiLGdlKTtjb25zdCBiZT0yMDQ4LFB0PW5ldyBNYXA7ZnVuY3Rpb24gdmUocil7aWYoIVB0LmhhcyhyKSl7Y29uc3QgdD1uZXcgRmxvYXQzMkFycmF5KHIpO2ZvcihsZXQgcz0wO3M8cjtzKyspdFtzXT0uNSooMS1NYXRoLmNvcyh6KnMvcikpO1B0LnNldChyLHQpfXJldHVybiBQdC5nZXQocil9Y2xhc3MgSWUgZXh0ZW5kcyBYe3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6InBpdGNoRmFjdG9yIixkZWZhdWx0VmFsdWU6MX1dfWNvbnN0cnVjdG9yKHQpe3QucHJvY2Vzc29yT3B0aW9ucz17YmxvY2tTaXplOmJlfSxzdXBlcih0KSx0aGlzLnRpbWVDdXJzb3I9MCx0aGlzLmZmdFNpemU9dGhpcy5ibG9ja1NpemUsdGhpcy5pbnZmZnRTaXplPTEvdGhpcy5mZnRTaXplLHRoaXMuaGFubldpbmRvdz12ZSh0aGlzLmZmdFNpemUpLHRoaXMuZmZ0PW5ldyBRdCh0aGlzLmZmdFNpemUpLHRoaXMuZnJlcUNvbXBsZXhCdWZmZXI9dGhpcy5mZnQuY3JlYXRlQ29tcGxleEFycmF5KCksdGhpcy5mcmVxQ29tcGxleEJ1ZmZlclNoaWZ0ZWQ9dGhpcy5mZnQuY3JlYXRlQ29tcGxleEFycmF5KCksdGhpcy50aW1lQ29tcGxleEJ1ZmZlcj10aGlzLmZmdC5jcmVhdGVDb21wbGV4QXJyYXkoKSx0aGlzLm1hZ25pdHVkZXM9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmZmdFNpemUvMisxKSx0aGlzLnBlYWtJbmRleGVzPW5ldyBJbnQzMkFycmF5KHRoaXMubWFnbml0dWRlcy5sZW5ndGgpLHRoaXMubmJQZWFrcz0wfXByb2Nlc3NPTEEodCxzLGUpe2xldCBpPWUucGl0Y2hGYWN0b3JbZS5waXRjaEZhY3Rvci5sZW5ndGgtMV07aTwwJiYoaT1pKi4yNSksaT1NYXRoLm1heCgwLGkrMSk7Zm9yKGxldCBuPTA7bjx0aGlzLm5iSW5wdXRzO24rKylmb3IobGV0IGE9MDthPHRbbl0ubGVuZ3RoO2ErKyl7Y29uc3Qgbz10W25dW2FdLGM9c1tuXVthXTt0aGlzLmFwcGx5SGFubldpbmRvdyhvKSx0aGlzLmZmdC5yZWFsVHJhbnNmb3JtKHRoaXMuZnJlcUNvbXBsZXhCdWZmZXIsbyksdGhpcy5jb21wdXRlTWFnbml0dWRlcygpLHRoaXMuZmluZFBlYWtzKCksdGhpcy5zaGlmdFBlYWtzKGkpLHRoaXMuZmZ0LmNvbXBsZXRlU3BlY3RydW0odGhpcy5mcmVxQ29tcGxleEJ1ZmZlclNoaWZ0ZWQpLHRoaXMuZmZ0LmludmVyc2VUcmFuc2Zvcm0odGhpcy50aW1lQ29tcGxleEJ1ZmZlcix0aGlzLmZyZXFDb21wbGV4QnVmZmVyU2hpZnRlZCksdGhpcy5mZnQuZnJvbUNvbXBsZXhBcnJheSh0aGlzLnRpbWVDb21wbGV4QnVmZmVyLGMpLHRoaXMuYXBwbHlIYW5uV2luZG93KGMpfXRoaXMudGltZUN1cnNvcis9dGhpcy5ob3BTaXplfWFwcGx5SGFubldpbmRvdyh0KXtmb3IobGV0IHM9MDtzPHRoaXMuYmxvY2tTaXplO3MrKyl0W3NdKj10aGlzLmhhbm5XaW5kb3dbc10qMS42Mn1jb21wdXRlTWFnbml0dWRlcygpe2xldCB0PTAscz0wO2Zvcig7dDx0aGlzLm1hZ25pdHVkZXMubGVuZ3RoOyl7Y29uc3QgZT10aGlzLmZyZXFDb21wbGV4QnVmZmVyW3NdLGk9dGhpcy5mcmVxQ29tcGxleEJ1ZmZlcltzKzFdO3RoaXMubWFnbml0dWRlc1t0XT1lKioyK2kqKjIsdCs9MSxzKz0yfX1maW5kUGVha3MoKXt0aGlzLm5iUGVha3M9MDtsZXQgdD0yO2NvbnN0IHM9dGhpcy5tYWduaXR1ZGVzLmxlbmd0aC0yO2Zvcig7dDxzOyl7Y29uc3QgZT10aGlzLm1hZ25pdHVkZXNbdF07aWYodGhpcy5tYWduaXR1ZGVzW3QtMV0+PWV8fHRoaXMubWFnbml0dWRlc1t0LTJdPj1lKXt0Kys7Y29udGludWV9aWYodGhpcy5tYWduaXR1ZGVzW3QrMV0+PWV8fHRoaXMubWFnbml0dWRlc1t0KzJdPj1lKXt0Kys7Y29udGludWV9dGhpcy5wZWFrSW5kZXhlc1t0aGlzLm5iUGVha3NdPXQsdGhpcy5uYlBlYWtzKyssdCs9Mn19c2hpZnRQZWFrcyh0KXt0aGlzLmZyZXFDb21wbGV4QnVmZmVyU2hpZnRlZC5maWxsKDApO2ZvcihsZXQgcz0wO3M8dGhpcy5uYlBlYWtzO3MrKyl7Y29uc3QgZT10aGlzLnBlYWtJbmRleGVzW3NdLGk9c3QoZSp0KTtpZihpPnRoaXMubWFnbml0dWRlcy5sZW5ndGgpYnJlYWs7bGV0IG49MCxhPXRoaXMuZmZ0U2l6ZTtzPjAmJihuPWUtc3QoKGUtdGhpcy5wZWFrSW5kZXhlc1tzLTFdKS8yKSksczx0aGlzLm5iUGVha3MtMSYmKGE9ZSthZSgodGhpcy5wZWFrSW5kZXhlc1tzKzFdLWUpLzIpKTtjb25zdCBvPW4tZSxjPWEtZSxoPXoqdGhpcy5pbnZmZnRTaXplKihpLWUpLGY9TWF0aC5jb3MoaCp0aGlzLnRpbWVDdXJzb3IpLHU9TWF0aC5zaW4oaCp0aGlzLnRpbWVDdXJzb3IpO2ZvcihsZXQgZD1vO2Q8YztkKyspe2NvbnN0IGw9ZStkLHA9aStkO2lmKHA+PXRoaXMubWFnbml0dWRlcy5sZW5ndGgpYnJlYWs7Y29uc3QgbT0yKmwsST1tKzEsdz10aGlzLmZyZXFDb21wbGV4QnVmZmVyW21dLHY9dGhpcy5mcmVxQ29tcGxleEJ1ZmZlcltJXSxNPXcqZi12KnUsUD13KnUrdipmLGc9MipwLFQ9ZysxO3RoaXMuZnJlcUNvbXBsZXhCdWZmZXJTaGlmdGVkW2ddKz1NLHRoaXMuZnJlcUNvbXBsZXhCdWZmZXJTaGlmdGVkW1RdKz1QfX19fXJlZ2lzdGVyUHJvY2Vzc29yKCJwaGFzZS12b2NvZGVyLXByb2Nlc3NvciIsSWUpO2NsYXNzIHdlIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnBoaT0tRCx0aGlzLlkwPTAsdGhpcy5ZMT0wLHRoaXMuUFc9RCx0aGlzLkI9Mi4zLHRoaXMuZHBoaWY9MCx0aGlzLmVudmY9MH1zdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCl7cmV0dXJuW3tuYW1lOiJiZWdpbiIsZGVmYXVsdFZhbHVlOjAsbWF4Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWSxtaW46MH0se25hbWU6ImVuZCIsZGVmYXVsdFZhbHVlOjAsbWF4Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWSxtaW46MH0se25hbWU6ImZyZXF1ZW5jeSIsZGVmYXVsdFZhbHVlOjQ0MCxtaW46TnVtYmVyLkVQU0lMT059LHtuYW1lOiJkZXR1bmUiLGRlZmF1bHRWYWx1ZTowLG1pbjpOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksbWF4Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWX0se25hbWU6InB1bHNld2lkdGgiLGRlZmF1bHRWYWx1ZToxLG1pbjowLG1heDpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9XX1wcm9jZXNzKHQscyxlKXtpZih0aGlzLmRpc2Nvbm5lY3RlZClyZXR1cm4hMTtpZihjdXJyZW50VGltZTw9ZS5iZWdpblswXSlyZXR1cm4hMDtpZihjdXJyZW50VGltZT49ZS5lbmRbMF0pcmV0dXJuITE7Y29uc3QgaT1zWzBdO2xldCBuPTEsYTtmb3IobGV0IG89MDtvPChpWzBdLmxlbmd0aD8/MCk7bysrKXtjb25zdCBjPSgxLVMoYihlLnB1bHNld2lkdGgsbyksLS45OSwuOTkpKSpELGg9YihlLmRldHVuZSxvKSxmPWV0KGIoZS5mcmVxdWVuY3ksbyksaC8xMDApO2E9Zip6KkcsdGhpcy5kcGhpZis9LjEqKGEtdGhpcy5kcGhpZiksbio9Ljk5OTgsdGhpcy5lbnZmKz0uMSoobi10aGlzLmVudmYpLHRoaXMuQj0yLjMqKDEtMWUtNCpmKSx0aGlzLkI8MCYmKHRoaXMuQj0wKSx0aGlzLnBoaSs9dGhpcy5kcGhpZix0aGlzLnBoaT49RCYmKHRoaXMucGhpLT16KTtsZXQgdT1NYXRoLmNvcyh0aGlzLnBoaSt0aGlzLkIqdGhpcy5ZMCk7dGhpcy5ZMD0uNSoodSt0aGlzLlkwKTtsZXQgZD1NYXRoLmNvcyh0aGlzLnBoaSt0aGlzLkIqdGhpcy5ZMStjKTt0aGlzLlkxPS41KihkK3RoaXMuWTEpO2ZvcihsZXQgbD0wO2w8aS5sZW5ndGg7bCsrKWlbbF1bb109LjE1Kih1LWQpKnRoaXMuZW52Zn1yZXR1cm4hMH19cmVnaXN0ZXJQcm9jZXNzb3IoInB1bHNlLW9zY2lsbGF0b3IiLHdlKTtjb25zdCBUdD17Yml0QzpmdW5jdGlvbihyLHQscyl7cmV0dXJuIHImdD9zOjB9LGJyOmZ1bmN0aW9uKHIsdD04KXtpZih0PjMyKXRocm93IG5ldyBFcnJvcigiYnIoKSBTaXplIGNhbm5vdCBiZSBncmVhdGVyIHRoYW4gMzIiKTtsZXQgcz0wO2ZvcihsZXQgZT0wO2U8dDtlKyspc3w9VHQuYml0QyhyLDE8PGUsMTw8dC0oZSsxKSk7cmV0dXJuIHN9LHNpbmY6ZnVuY3Rpb24ocil7cmV0dXJuIE1hdGguc2luKHIqRC8xMjgpfSxjb3NmOmZ1bmN0aW9uKHIpe3JldHVybiBNYXRoLmNvcyhyKkQvMTI4KX0sdGFuZjpmdW5jdGlvbihyKXtyZXR1cm4gTWF0aC50YW4ocipELzEyOCl9LHJlZ0c6ZnVuY3Rpb24ocix0KXtyZXR1cm4gdC50ZXN0KHIudG9TdHJpbmcoMikpfX07bGV0IGx0LEJ0O2Z1bmN0aW9uIFNlKHIpe2lmKGx0PT1udWxsKXtsdD1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhNYXRoKSxCdD1sdC5tYXAoZT0+TWF0aFtlXSk7Y29uc3QgdD1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhUdCkscz10Lm1hcChlPT5UdFtlXSk7bHQucHVzaCgiaW50Iiwid2luZG93IiwuLi50KSxCdC5wdXNoKE1hdGguZmxvb3IsZ2xvYmFsVGhpcywuLi5zKX1yZXR1cm4gbmV3IEZ1bmN0aW9uKC4uLmx0LCJ0IixgcmV0dXJuIDAsCiR7cnx8MH07YCkuYmluZChnbG9iYWxUaGlzLC4uLkJ0KX1jbGFzcyBfZSBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3Nvcntjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5wb3J0Lm9ubWVzc2FnZT10PT57bGV0e2NvZGVUZXh0OnN9PXQuZGF0YTtjb25zdHtieXRlQmVhdFN0YXJ0VGltZTplfT10LmRhdGE7ZSE9bnVsbCYmKHRoaXMudD0wLHRoaXMuaW5pdGlhbE9mZnNldD1NYXRoLmZsb29yKGUpKSxzPXMudHJpbSgpLnJlcGxhY2UoL15ldmFsXCh1bmVzY2FwZVwoZXNjYXBlKD86YHxcKCd8XCgifFwoYCkoLio/KSg/OmB8J1wpfCJcKXxgXCkpLnJlcGxhY2VcKFwvdVwoXC5cLlwpXC9nLFsiJ2BdXCQxJVsiJ2BdXClcKVwpJC8sKGksbik9PnVuZXNjYXBlKGVzY2FwZShuKS5yZXBsYWNlKC91KC4uKS9nLCIkMSUiKSkpLHRoaXMuZnVuYz1TZShzKX0sdGhpcy5pbml0aWFsT2Zmc2V0PTAsdGhpcy50PW51bGwsdGhpcy5mdW5jPW51bGx9c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToiYmVnaW4iLGRlZmF1bHRWYWx1ZTowLG1heDpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksbWluOjB9LHtuYW1lOiJmcmVxdWVuY3kiLGRlZmF1bHRWYWx1ZTo0NDAsbWluOk51bWJlci5FUFNJTE9OfSx7bmFtZToiZGV0dW5lIixkZWZhdWx0VmFsdWU6MCxtaW46TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLG1heDpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9LHtuYW1lOiJlbmQiLGRlZmF1bHRWYWx1ZTowLG1heDpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksbWluOjB9XX1wcm9jZXNzKHQscyxlKXtpZih0aGlzLmRpc2Nvbm5lY3RlZClyZXR1cm4hMTtpZihjdXJyZW50VGltZTw9ZS5iZWdpblswXSlyZXR1cm4hMDtpZihjdXJyZW50VGltZT49ZS5lbmRbMF0pcmV0dXJuITE7dGhpcy50PT1udWxsJiYodGhpcy50PWUuYmVnaW5bMF0qc2FtcGxlUmF0ZSk7Y29uc3QgaT1zWzBdLG49MjU2Kkc7Zm9yKGxldCBhPTA7YTxpWzBdLmxlbmd0aDthKyspe2NvbnN0IG89YihlLmRldHVuZSxhKSxjPWV0KGIoZS5mcmVxdWVuY3ksYSksby8xMDApLGg9bipjKnRoaXMudCt0aGlzLmluaXRpYWxPZmZzZXQsdT0odGhpcy5mdW5jKGgpJjI1NSkvMTI3LjUtMSxkPVModSouMiwtLjQsLjQpO2ZvcihsZXQgbD0wO2w8aS5sZW5ndGg7bCsrKWlbbF1bYV09ZDt0aGlzLnQrK31yZXR1cm4hMH19cmVnaXN0ZXJQcm9jZXNzb3IoImJ5dGUtYmVhdC1wcm9jZXNzb3IiLF9lKTtjbGFzcyBNZSBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3NvcntzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCl7cmV0dXJuW3tuYW1lOiJiZWdpbiIsZGVmYXVsdFZhbHVlOjB9LHtuYW1lOiJlbmQiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToiYXR0YWNrIixkZWZhdWx0VmFsdWU6LjAwNSxtaW5WYWx1ZTowfSx7bmFtZToiZGVjYXkiLGRlZmF1bHRWYWx1ZTouMTQsbWluVmFsdWU6MH0se25hbWU6InN1c3RhaW4iLGRlZmF1bHRWYWx1ZTowLG1pblZhbHVlOjAsbWF4VmFsdWU6MX0se25hbWU6InJlbGVhc2UiLGRlZmF1bHRWYWx1ZTouMSxtaW5WYWx1ZTowfSx7bmFtZToiYXR0YWNrQ3VydmUiLGRlZmF1bHRWYWx1ZTowLG1pblZhbHVlOi0xLG1heFZhbHVlOjF9LHtuYW1lOiJkZWNheUN1cnZlIixkZWZhdWx0VmFsdWU6MCxtaW5WYWx1ZTotMSxtYXhWYWx1ZToxfSx7bmFtZToicmVsZWFzZUN1cnZlIixkZWZhdWx0VmFsdWU6MCxtaW5WYWx1ZTotMSxtYXhWYWx1ZToxfSx7bmFtZToiZGVwdGgiLGRlZmF1bHRWYWx1ZToxfSx7bmFtZToibWluIixkZWZhdWx0VmFsdWU6LTFlOX0se25hbWU6Im1heCIsZGVmYXVsdFZhbHVlOjFlOX0se25hbWU6InJldHJpZ2dlciIsZGVmYXVsdFZhbHVlOjEsbWluVmFsdWU6MCxtYXhWYWx1ZToxfV19Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMudmFsPTAsdGhpcy5zZWdJZHg9MCx0aGlzLnN0YXRlPTAsdGhpcy5iZWdpblRpbWU9MCx0aGlzLmVuZFRpbWU9MCx0aGlzLmF0dGFja1N0YXJ0PTB9X3dhcnAodCxzLGU9OCl7aWYodD09PTB8fHQ9PT0xKXJldHVybiB0O2lmKHM+MCl7Y29uc3QgaT0xK2UqcztyZXR1cm4gMS1NYXRoLnBvdygxLXQsaSl9ZWxzZXtjb25zdCBpPTEtZSpzO3JldHVybiBNYXRoLnBvdyh0LGkpfX1fYWR2YW5jZSh0LHMsZSxpKXtpZihlPT09MHx8dD09PXMpdGhpcy52YWw9cztlbHNle2NvbnN0IG49TWF0aC5taW4oMSwoY3VycmVudFRpbWUtdGhpcy5iZWdpblRpbWUpL2UpLGE9dGhpcy5fd2FycChuLGkpO3RoaXMudmFsPXQrKHMtdCkqYX19cHJvY2Vzcyh0LHMsZSl7Y29uc3QgaT1lLmJlZ2luWzBdLG49ZS5lbmRbMF07aWYoY3VycmVudFRpbWU+PW4pcmV0dXJuITE7aWYoY3VycmVudFRpbWU8PWkpcmV0dXJuITA7Y29uc3QgYT1zWzBdWzBdLG89YihlLnJldHJpZ2dlciwwKT49LjU7aSE9PXRoaXMuYmVnaW5UaW1lJiYodGhpcy5zdGF0ZT09PTB8fG8pJiYodGhpcy5iZWdpblRpbWU9aSx0aGlzLnN0YXRlPTEsdGhpcy5lbmRUaW1lPWIoZS5lbmQsMCksdGhpcy5hdHRhY2tTdGFydD10aGlzLnZhbCk7Y29uc3QgYz10aGlzLmVuZFRpbWUtdGhpcy5iZWdpblRpbWU7Zm9yKGxldCBoPTA7aDxhLmxlbmd0aDtoKyspe2NvbnN0IGY9YihlLmF0dGFjayxoKSx1PWIoZS5kZWNheSxoKSxkPWIoZS5zdXN0YWluLGgpLGw9YihlLnJlbGVhc2UsaCkscD1iKGUuYXR0YWNrQ3VydmUsaCksbT1iKGUuZGVjYXlDdXJ2ZSxoKSxJPWIoZS5yZWxlYXNlQ3VydmUsaCksdz1iKGUuZGVwdGgsaCksdj1iKGUubWluLGgpLE09YihlLm1heCxoKSxQPVt7dGltZTpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksc3RhcnQ6MCx0YXJnZXQ6MH0se3RpbWU6ZixzdGFydDp0aGlzLmF0dGFja1N0YXJ0LHRhcmdldDoxLGN1cnZlOnB9LHt0aW1lOmYrdSxzdGFydDoxLHRhcmdldDpkLGN1cnZlOm19LHt0aW1lOmMsc3RhcnQ6ZCx0YXJnZXQ6ZH0se3RpbWU6YytsLHN0YXJ0OmQsdGFyZ2V0OjAsY3VydmU6SX1dO2xldHt0aW1lOmcsc3RhcnQ6VCx0YXJnZXQ6QSxjdXJ2ZTpWfT1QW3RoaXMuc3RhdGVdO2Zvcih0aGlzLl9hZHZhbmNlKFQsQSxnLFYpO2N1cnJlbnRUaW1lLXRoaXMuYmVnaW5UaW1lPj1nOyl0aGlzLnN0YXRlPSh0aGlzLnN0YXRlKzEpJVAubGVuZ3RoLGc9UFt0aGlzLnN0YXRlXS50aW1lO2FbaF09Uyh0aGlzLnZhbCp3LHYsTSl9cmV0dXJuITB9fXJlZ2lzdGVyUHJvY2Vzc29yKCJlbnZlbG9wZS1wcm9jZXNzb3IiLE1lKTtjb25zdCB4PU9iamVjdC5mcmVlemUoe05PTkU6MCxBU1lNOjEsTUlSUk9SOjIsQkVORFA6MyxCRU5ETTo0LEJFTkRNUDo1LFNZTkM6NixRVUFOVDo3LEZPTEQ6OCxQV006OSxPUkJJVDoxMCxTUElOOjExLENIQU9TOjEyLFBSSU1FUzoxMyxCSU5BUlk6MTQsQlJPV05JQU46MTUsUkVDSVBST0NBTDoxNixXT1JNSE9MRToxNyxMT0dJU1RJQzoxOCxTSUdNT0lEOjE5LEZSQUNUQUw6MjAsRkxJUDoyMX0pO2Z1bmN0aW9uIHhlKHIpe3JldHVybiByPXIrMjEyNzkxMjIxNCsocjw8MTIpLHI9cl4zMzQ1MDcyNzAwXnI+Pj4xOSxyPXIrMzc0NzYxMzkzKyhyPDw1KSxyPXIrMzU1MDYzNTExNl5yPDw5LHI9cis0MjUxOTkzNzk3KyhyPDwzKSxyPXJeMzA0MjU5NDU2OV5yPj4+MTYscj4+PjB9Y29uc3QgS3Q9cj0+KHhlKHIpPj4+OCkvMTY3NzcyMTY7ZnVuY3Rpb24geWUocix0KXtsZXQgcz0wO2ZvcihsZXQgZT0wO2U8dDtlKyspcz1zPDwxfHImMSxyPj4+PTE7cmV0dXJuIHN9ZnVuY3Rpb24gUGUocil7Y29uc3QgdD1NYXRoLmZsb29yKHIpLHM9ci10LGU9S3QodCksaT1LdCh0KzEpO3JldHVybiBlKyhpLWUpKnN9ZnVuY3Rpb24gVGUocix0PTQpe2xldCBzPS41LGU9MCxpPTAsbj0xO2ZvcihsZXQgYT0wO2E8dDthKyspZSs9cypQZShyKm4pLGkrPXMscyo9LjUsbio9MjtyZXR1cm4gZS9pKjItMX1jb25zdCBWdD17fTtjbGFzcyBCZSBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3NvcntzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCl7cmV0dXJuW3tuYW1lOiJiZWdpbiIsZGVmYXVsdFZhbHVlOi0xLG1pbjotMSxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfSx7bmFtZToiZW5kIixkZWZhdWx0VmFsdWU6LTEsbWluOi0xLG1heDpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9LHtuYW1lOiJmcmVxdWVuY3kiLGRlZmF1bHRWYWx1ZTo0NDAsbWluOk51bWJlci5FUFNJTE9OfSx7bmFtZToiZGV0dW5lIixkZWZhdWx0VmFsdWU6MH0se25hbWU6ImZyZXFzcHJlYWQiLGRlZmF1bHRWYWx1ZTouMTgsbWluOjB9LHtuYW1lOiJwb3NpdGlvbiIsZGVmYXVsdFZhbHVlOjAsbWluOjAsbWF4OjF9LHtuYW1lOiJ3YXJwIixkZWZhdWx0VmFsdWU6MCxtaW46MCxtYXg6MX0se25hbWU6IndhcnBNb2RlIixkZWZhdWx0VmFsdWU6MH0se25hbWU6InZvaWNlcyIsZGVmYXVsdFZhbHVlOjEsbWluOjEsYXV0b21hdGlvblJhdGU6ImstcmF0ZSJ9LHtuYW1lOiJwYW5zcHJlYWQiLGRlZmF1bHRWYWx1ZTouNyxtaW46MCxtYXg6MX0se25hbWU6InBoYXNlcmFuZCIsZGVmYXVsdFZhbHVlOjAsbWluOjAsbWF4OjF9XX1jb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLnBvcnQub25tZXNzYWdlPXM9Pntjb25zdHt0eXBlOmUscGF5bG9hZDppfT1zLmRhdGF8fHt9O2U9PT0iaW5pdGlhbGl6ZSImJnRoaXMuaW5pdGlhbGl6ZShpKX0sdGhpcy5pbml0aWFsaXplKCl9aW5pdGlhbGl6ZSh0KXtpZih0aGlzLnRhYmxlPW51bGwsdGhpcy5mcmFtZUxlbj1udWxsLHRoaXMubnVtRnJhbWVzPW51bGwsdGhpcy5waGFzZT1bXSx0IT1udWxsJiZ0LmtleSl7Y29uc3Qgcz10LmtleTt0aGlzLmZyYW1lTGVuPXQuZnJhbWVMZW4sVnRbc118fChWdFtzXT10LmZyYW1lcyksdGhpcy50YWJsZT1WdFtzXSx0aGlzLm51bUZyYW1lcz10aGlzLnRhYmxlLmxlbmd0aH19X21pcnJvcih0KXtyZXR1cm4gMS1NYXRoLmFicygyKnQtMSl9X3RvQml0cyh0LHM9MixlPTEyKXtjb25zdCBpPWUrKHMtZSkqdDtyZXR1cm57YjppLG46c3QoTWF0aC5wb3coMixpKSl9fV93YXJwUGhhc2UodCxzLGUpe3N3aXRjaChlKXtjYXNlIHguTk9ORTpyZXR1cm4gdDtjYXNlIHguQVNZTTp7Y29uc3QgaT0uMDErLjk5KnM7cmV0dXJuIHQ8aT8uNSp0L2k6LjUrLjUqKHQtaSkvKDEtaSl9Y2FzZSB4Lk1JUlJPUjpyZXR1cm4gdGhpcy5fbWlycm9yKHRoaXMuX3dhcnBQaGFzZSh0LHMseC5BU1lNKSk7Y2FzZSB4LkJFTkRQOnJldHVybiBNYXRoLnBvdyh0LDErMypzKTtjYXNlIHguQkVORE06cmV0dXJuIE1hdGgucG93KHQsMS8oMSszKnMpKTtjYXNlIHguQkVORE1QOnJldHVybiBzPC41P3RoaXMuX3dhcnBQaGFzZSh0LDEtMipzLDMpOnRoaXMuX3dhcnBQaGFzZSh0LDIqcy0xLDIpO2Nhc2UgeC5TWU5DOntjb25zdCBpPU1hdGgucG93KDE2LHMqKjIpO3JldHVybiB0KmklMX1jYXNlIHguUVVBTlQ6e2NvbnN0e246aX09dGhpcy5fdG9CaXRzKHMpO3JldHVybiB0dCh0KmkpL2l9Y2FzZSB4LkZPTEQ6e2NvbnN0IG49MStNYXRoLm1heCgxLHN0KDcqcykpO3JldHVybiBNYXRoLmFicyhIdChuKnQpLS41KSoyfWNhc2UgeC5QV006e2NvbnN0IGk9UyguNSsuNDkqKDIqcy0xKSwwLDEpO3JldHVybiB0PGk/dC9pKi41Oi41Kyh0LWkpLygxLWkpKi41fWNhc2UgeC5PUkJJVDp7Y29uc3QgaT0uNSpzO3JldHVybiBRKHQraSpNYXRoLnNpbih6KjMqdCkpfWNhc2UgeC5TUElOOntjb25zdCBpPS41KnMse259PXRoaXMuX3RvQml0cyhzLDEsNik7cmV0dXJuIFEodCtpKk1hdGguc2luKHoqbip0KSl9Y2FzZSB4LkNIQU9TOntjb25zdCBuPSgzLjcrLjMqcykqdCooMS10KTtyZXR1cm4gUygoMS1zKSp0K3MqbiwwLDEpfWNhc2UgeC5QUklNRVM6e2NvbnN0IGk9YT0+e2lmKGE8MilyZXR1cm4hMTtpZihhJTI9PT0wKXJldHVybiBhPT09Mjtmb3IobGV0IG89MztvKioyPD1hO28rPTIpaWYoYSVvPT09MClyZXR1cm4hMTtyZXR1cm4hMH07bGV0e259PXRoaXMuX3RvQml0cyhzLDMpO2Zvcig7IWkobik7KW4rKztyZXR1cm4gdHQodCpuKS9ufWNhc2UgeC5CSU5BUlk6e2xldHtiOml9PXRoaXMuX3RvQml0cyhzLDMpO2k9c3QoaSk7Y29uc3Qgbj0xPDxpLGE9dHQodCpuKTtyZXR1cm4geWUoYSxpKS9ufWNhc2UgeC5CUk9XTklBTjp7Y29uc3QgaT0uMjUqcypUZSg2NCp0LDQpO3JldHVybiBRKHQraSl9Y2FzZSB4LlJFQ0lQUk9DQUw6e2NvbnN0IGk9Mis0KnMsbj10KmksYT10KygxLXQpKmksbz1hPjFlLTEyP24vYTowO3JldHVybiBTKG8sMCwxKX1jYXNlIHguV09STUhPTEU6e2NvbnN0IGk9UyguOCpzLDAsMSksbj0uNSooMS1pKSxhPS41KigxK2kpO3JldHVybiB0PG4/dC9uKi41OnQ+YT8uNSooMSsodC1hKS8oMS1hKSk6LjV9Y2FzZSB4LkxPR0lTVElDOntsZXQgaT10O2NvbnN0IG49My42Ky40KnMsYT0xK3N0KDIqcyk7Zm9yKGxldCBvPTA7bzxhO28rKylpPW4qaSooMS1pKTtyZXR1cm4gUyhpLDAsMSl9Y2FzZSB4LlNJR01PSUQ6e2NvbnN0IGk9MSsxMCpzLG49dC0uNSxhPTEvKDErTWF0aC5leHAoLWkqbikpLG89MS8oMStNYXRoLmV4cCguNSppKSksYz0xLygxK01hdGguZXhwKC0uNSppKSk7cmV0dXJuKGEtbykvKGMtbyl9Y2FzZSB4LkZSQUNUQUw6e2NvbnN0IGk9LjUqTWF0aC5zaW4oeip0KSpzO3JldHVybiBRKHQraSl9Y2FzZSB4LkZMSVA6cmV0dXJuIHQ7ZGVmYXVsdDpyZXR1cm4gdH19X3NhbXBsZUZyYW1lKHQscyl7Y29uc3QgZT10Lmxlbmd0aCxpPXMqZTtsZXQgbj1pfDA7bj49ZSYmKG49MCk7Y29uc3QgYT1pLW4sbz10W25dO2xldCBjPW4rMTtjPj1lJiYoYz0wKTtjb25zdCBoPXRbY107cmV0dXJuIG8rKGgtbykqYX1wcm9jZXNzKHQscyxlKXtjb25zdCBpPWUuYmVnaW5bMF0sbj1lLmVuZFswXSxhPWk+PTAsbz1uPj0wLGM9byYmY3VycmVudFRpbWU+PW4rLjUsaD1vJiZjdXJyZW50VGltZT49bixmPWN1cnJlbnRUaW1lPD1pO2lmKGMpcmV0dXJuITE7aWYoaHx8Znx8IWEpcmV0dXJuITA7Y29uc3QgdT1zWzBdWzBdLGQ9c1swXVsxXXx8c1swXVswXTtpZighdGhpcy50YWJsZSlyZXR1cm4gdS5maWxsKDApLGQhPT11JiZkLnNldCh1KSwhMDtjb25zdCBsPWUudm9pY2VzWzBdO2ZvcihsZXQgcD0wO3A8dS5sZW5ndGg7cCsrKXtjb25zdCBtPWIoZS5kZXR1bmUscCksST1iKGUuZnJlcXNwcmVhZCxwKSx2PVMoYihlLnBvc2l0aW9uLHApLDAsMSkqKHRoaXMubnVtRnJhbWVzLTEpLE09dnwwLFA9di1NLGc9UyhiKGUud2FycCxwKSwwLDEpLFQ9YihlLndhcnBNb2RlLHApLEE9UyhiKGUucGhhc2VyYW5kLHApLDAsMSksVj1sPjE/UyhiKGUucGFuc3ByZWFkLHApLDAsMSk6MCxPPU1hdGguc3FydCguNS0uNSpWKSxOPU1hdGguc3FydCguNSsuNSpWKTtsZXQgQz1iKGUuZnJlcXVlbmN5LHApO0M9ZXQoQyxtLzEwMCk7Y29uc3QgRj0xL01hdGguc3FydChsKSxxPVV0KGwsSSk7Zm9yKGxldCBCPTA7QjxsO0IrKyl7Y29uc3QgTD0oQiYxKT09MTtsZXQgRT1PLEg9TjtMJiYoRT1OLEg9Tyk7Y29uc3QgJD1ldChDLHEoQikpKkc7dGhpcy5waGFzZVtCXT10aGlzLnBoYXNlW0JdPz9NYXRoLnJhbmRvbSgpKkE7Y29uc3QgVT10aGlzLl93YXJwUGhhc2UodGhpcy5waGFzZVtCXSxnLFQpLEs9dGhpcy5fc2FtcGxlRnJhbWUodGhpcy50YWJsZVtNXSxVKSxaPXRoaXMuX3NhbXBsZUZyYW1lKHRoaXMudGFibGVbTWF0aC5taW4odGhpcy5udW1GcmFtZXMtMSxNKzEpXSxVKTtsZXQgaz11dChLLFosUCk7VD09PXguRkxJUCYmdGhpcy5waGFzZVtCXTxnJiYoaz0tayksdVtwXSs9aypFKkYsZFtwXSs9aypIKkYsdGhpcy5waGFzZVtCXT1RKHRoaXMucGhhc2VbQl0rJCl9fXJldHVybiEwfX1yZWdpc3RlclByb2Nlc3Nvcigid2F2ZXRhYmxlLW9zY2lsbGF0b3ItcHJvY2Vzc29yIixCZSk7Y2xhc3MgVmUgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVybltdfWNvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5nYWluQ29lZmY9eHQoLjIpLHRoaXMuYXZnR2Fpbj0xO2xldHthdHRhY2tUaW1lOnM9LjAwMyxzdXN0YWluVGltZTplPS4wOCxhdHRhY2s6aT0wLHN1c3RhaW46bj0wLHNlbnNpdGl2aXR5OmE9LjEsbWl4Om89MSxiZWdpbjpjPTAsZW5kOmg9MH09dC5wcm9jZXNzb3JPcHRpb25zO3M9UyhzLDVlLTQsLjA1KSxlPVMoZSwuMDEsLjUpLHRoaXMuYXR0YWNrQ29lZmY9eHQocyksdGhpcy5zdXN0YWluQ29lZmY9eHQoZSksdGhpcy5hdHRhY2tBbXQ9UyhpLC0xLDEpLHRoaXMuc3VzdGFpbkFtdD1TKG4sLTEsMSksdGhpcy5zY2FsaW5nPS41KzUqUyhhLDAsMSksdGhpcy5taXg9UyhvLDAsMSksdGhpcy5iZWdpbj1jLHRoaXMuZW5kPWgsdGhpcy5hdHRhY2tFbnY9bmV3IEZsb2F0MzJBcnJheSgyKSx0aGlzLnN1c3RhaW5FbnY9bmV3IEZsb2F0MzJBcnJheSgyKX1wcm9jZXNzKHQscyxlKXtjb25zdCBpPXRbMF0sbj1zWzBdO2lmKGN1cnJlbnRUaW1lPj10aGlzLmVuZClyZXR1cm4hMTtpZihjdXJyZW50VGltZTw9dGhpcy5iZWdpbilyZXR1cm4hMDtjb25zdCBhPWkubGVuZ3RoO2E+dGhpcy5hdHRhY2tFbnYubGVuZ3RoJiYodGhpcy5hdHRhY2tFbnY9bmV3IEZsb2F0MzJBcnJheShhKSx0aGlzLnN1c3RhaW5FbnY9bmV3IEZsb2F0MzJBcnJheShhKSk7bGV0IG89dGhpcy5hdmdHYWluO2ZvcihsZXQgYz0wO2M8YTtjKyspe2xldCBoPXRoaXMuYXR0YWNrRW52W2NdLGY9dGhpcy5zdXN0YWluRW52W2NdO2ZvcihsZXQgdT0wO3U8WTt1Kyspe2NvbnN0IGQ9aVtjXVt1XSxsPU1hdGguYWJzKGQpO2g9dXQoaCxsLHRoaXMuYXR0YWNrQ29lZmYpLGY9dXQoZixsLHRoaXMuc3VzdGFpbkNvZWZmKTtjb25zdCBwPVModGhpcy5zY2FsaW5nKihoLWYpLyhmKzFlLTYpLC0xLjUsMS41KSxtPXA+MD9wOjAsST1wPDA/LXA6MCx3PWp0KHRoaXMuYXR0YWNrQW10Km0qMTgpLHY9anQodGhpcy5zdXN0YWluQW10KkkqMzYpLE09Uyh3KnYsMCw4KTtvPXV0KG8sTSx0aGlzLmdhaW5Db2VmZik7Y29uc3QgUD1vPi4wMDE/MS9vOjEsZz1kKk0qUDtsZXQgVD11dChkLGcsdGhpcy5taXgpO1QvPTErTWF0aC5hYnMoVCksbltjXVt1XT1UfXRoaXMuYXR0YWNrRW52W2NdPWgsdGhpcy5zdXN0YWluRW52W2NdPWZ9cmV0dXJuIHRoaXMuYXZnR2Fpbj1vLCEwfX1yZWdpc3RlclByb2Nlc3NvcigidHJhbnNpZW50LXByb2Nlc3NvciIsVmUpO2NsYXNzIEFlIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnBsYXlQb3M9MDtjb25zdCB0PTE2O3RoaXMub3V0cHV0cz1uZXcgQXJyYXkodCkuZmlsbCgwKSx0aGlzLnNvdXJjZXM9bmV3IEFycmF5KHQpLmZpbGwoMCksdGhpcy5nYXRlRW5kZWQ9ITEsdGhpcy5zdGFydGVkPSExLHRoaXMucG9ydC5vbm1lc3NhZ2U9cz0+e3ZhciBoLGY7bGV0e3NyYzplLHNjaGVtYTp7dWdlbnM6aSxyZWdpc3RlcnM6bn0sc3RhcnQ6YSxnYXRlRW5kOm8sZW5kOmN9PXMuZGF0YTt0aGlzLnN0YXJ0PWEsdGhpcy5nYXRlRW5kPW8sdGhpcy5lbmQ9Yyx0aGlzLnJlZ2lzdGVycz1uZXcgQXJyYXkobikuZmlsbCgwKSx0aGlzLnNyYz1gby5maWxsKDApOyAvLyByZXNldCBvdXRwdXRzCiR7ZX1gLHRoaXMubm9kZXM9W107Zm9yKGxldCB1PTA7dTxpLmxlbmd0aDt1Kyspe2NvbnN0IGQ9aVt1XSxsPW5lLmdldChkLnR5cGUpLHA9bmV3IGwodSxkLHNhbXBsZVJhdGUpO3AudHlwZT09PSJjYyImJigoZj0oaD1kLmlucHV0cyk9PW51bGw/dm9pZCAwOmhbMF0pIT1udWxsJiZmLmluY2x1ZGVzKCJzdHJ1ZGVsLWdhdGUiKSkmJihwLnNldFZhbHVlKDEpLHRoaXMuZ2F0ZU5vZGU9cCksdGhpcy5ub2Rlc1t1XT1wfXRoaXMuZ2VuU2FtcGxlPW5ldyBGdW5jdGlvbigidGltZSIsIm5vZGVzIiwiaW5wdXQiLCJyIiwibyIsInMiLHRoaXMuc3JjKX19cHJvY2Vzcyh0LHMpe3ZhciBvLGM7Y29uc3QgZT0obz10WzBdKT09bnVsbD92b2lkIDA6b1swXTtpZihjdXJyZW50VGltZT49dGhpcy5lbmQpcmV0dXJuITE7aWYodGhpcy5nZW5TYW1wbGU9PT12b2lkIDB8fGN1cnJlbnRUaW1lPHRoaXMuc3RhcnQpcmV0dXJuITA7dGhpcy5zdGFydGVkPSEwLCF0aGlzLmdhdGVFbmRlZCYmY3VycmVudFRpbWU+dGhpcy5nYXRlRW5kJiYoKGM9dGhpcy5nYXRlTm9kZSk9PW51bGx8fGMuc2V0VmFsdWUoMCksdGhpcy5nYXRlRW5kZWQ9ITApO2NvbnN0IGk9c1swXSxuPWlbMF0sYT1pWzFdO2ZvcihsZXQgaD0wO2g8WTtoKyspe3RoaXMuZ2VuU2FtcGxlKHRoaXMucGxheVBvcyx0aGlzLm5vZGVzLGU/ZVtoXTowLHRoaXMucmVnaXN0ZXJzLHRoaXMub3V0cHV0cyx0aGlzLnNvdXJjZXMpO2NvbnN0IGY9dGhpcy5vdXRwdXRzWzBdLHU9dGhpcy5vdXRwdXRzWzFdO2E/KG5baF09ZixhW2hdPXUpOm5baF09LjUqKGYrdSksdGhpcy5wbGF5UG9zKz0xL3NhbXBsZVJhdGV9cmV0dXJuITB9fXJldHVybiByZWdpc3RlclByb2Nlc3NvcigiZ2VuZXJpYy1wcm9jZXNzb3IiLEFlKSxSLldhcnBNb2RlPXgsT2JqZWN0LmRlZmluZVByb3BlcnR5KFIsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZToiTW9kdWxlIn0pLFJ9KHt9KTsK";let on=[],On=0;const kr=4;let hX=e=>{let t=[],n={get(){return n.lc||n.listen(()=>{})(),n.value},lc:0,listen(i){return n.lc=t.push(i),()=>{for(let r=On+kr;r<on.length;)on[r]===i?on.splice(r,kr):r+=kr;let s=t.indexOf(i);~s&&(t.splice(s,1),--n.lc||n.off())}},notify(i,s){let r=!on.length;for(let a of t)on.push(a,n.value,i,s);if(r){for(On=0;On<on.length;On+=kr)on[On](on[On+1],on[On+2],on[On+3]);on.length=0}},off(){},set(i){let s=n.value;s!==i&&(n.value=i,n.notify(s))},subscribe(i){let s=n.listen(i);return i(n.value),s},value:e};return n},pX=(e={})=>{let t=hX(e);return t.setKey=function(n,i){let s=t.value;typeof i>"u"&&n in t.value?(t.value={...t.value},delete t.value[n],t.notify(s,n)):t.value[n]!==i&&(t.value={...t.value,[n]:i},t.notify(s,n))},t};const mX={stretch:{node:"stretch",param:"pitchFactor"},gain:{node:"gain",param:"gain"},postgain:{node:"post",param:"gain"},pan:{node:"pan",param:"pan"},tremolo:{node:"tremolo",param:"frequency"},tremolosync:{node:"tremolo",param:"frequency"},tremolodepth:{node:"tremolo_gain",param:"gain"},tremoloskew:{node:"tremolo",param:"skew"},tremolophase:{node:"tremolo",param:"phase"},tremoloshape:{node:"tremolo",param:"shape"},lfo:{node:"lfo",param:"frequency"},lfo_rate:{node:"lfo",param:"frequency"},lfo_sync:{node:"lfo",param:"frequency"},lfo_depth:{node:"lfo",param:"depth"},lfo_depthabs:{node:"lfo",param:"depth"},lfo_skew:{node:"lfo",param:"skew"},lfo_curve:{node:"lfo",param:"curve"},lfo_dcoffset:{node:"lfo",param:"dcoffset"},env:{node:"env",param:"depth"},env_attack:{node:"env",param:"attack"},env_decay:{node:"env",param:"decay"},env_sustain:{node:"env",param:"sustain"},env_release:{node:"env",param:"release"},bmod:{node:"bmod",param:"depth"},bmod_depth:{node:"bmod",param:"depth"},bmod_depthabs:{node:"bmod",param:"depth"},cutoff:{node:"lpf",param:"frequency"},resonance:{node:"lpf",param:"Q"},lprate:{node:"lpf_lfo",param:"rate"},lpsync:{node:"lpf_lfo",param:"sync"},lpdepth:{node:"lpf_lfo",param:"depth"},lpdepthfrequency:{node:"lpf_lfo",param:"depth"},lpshape:{node:"lpf_lfo",param:"shape"},lpdc:{node:"lpf_lfo",param:"dcoffset"},lpskew:{node:"lpf_lfo",param:"skew"},hcutoff:{node:"hpf",param:"frequency"},hresonance:{node:"hpf",param:"Q"},hprate:{node:"hpf_lfo",param:"rate"},hpsync:{node:"hpf_lfo",param:"sync"},hpdepth:{node:"hpf_lfo",param:"depth"},hpdepthfrequency:{node:"hpf_lfo",param:"depth"},hpshape:{node:"hpf_lfo",param:"shape"},hpdc:{node:"hpf_lfo",param:"dcoffset"},hpskew:{node:"hpf_lfo",param:"skew"},bandf:{node:"bpf",param:"frequency"},bandq:{node:"bpf",param:"Q"},bprate:{node:"bpf_lfo",param:"rate"},bpsync:{node:"bpf_lfo",param:"sync"},bpdepth:{node:"bpf_lfo",param:"depth"},bpdepthfrequency:{node:"bpf_lfo",param:"depth"},bpshape:{node:"bpf_lfo",param:"shape"},bpdc:{node:"bpf_lfo",param:"dcoffset"},bpskew:{node:"bpf_lfo",param:"skew"},vowel:{node:"vowel",param:"frequency"},coarse:{node:"coarse",param:"coarse"},crush:{node:"crush",param:"crush"},shape:{node:"shape",param:"shape"},shapevol:{node:"shape",param:"postgain"},distort:{node:"distort",param:"distort"},distortvol:{node:"distort",param:"postgain"},distorttype:{node:"distort",param:"distort"},compressor:{node:"compressor",param:"threshold"},compressorRatio:{node:"compressor",param:"ratio"},compressorKnee:{node:"compressor",param:"knee"},compressorAttack:{node:"compressor",param:"attack"},compressorRelease:{node:"compressor",param:"release"},phaserrate:{node:"phaser_lfo",param:"frequency"},phasersweep:{node:"phaser_lfo",param:"depth"},phasercenter:{node:"phaser",param:"frequency"},phaserdepth:{node:"phaser",param:"Q"},delay:{node:"delay_mix",param:"gain"},delaytime:{node:"delay",param:"delayTime"},delayfeedback:{node:"delay",param:"feedback"},delaysync:{node:"delay",param:"delayTime"},dry:{node:"dry",param:"gain"},room:{node:"room_mix",param:"gain"},djf:{node:"djf",param:"value"},busgain:{node:"bus",param:"gain"},s:{node:"source",param:"frequency"},detune:{node:"source",param:"freqspread"},wt:{node:"source",param:"position"},warp:{node:"source",param:"warp"},freq:{node:"source",param:"frequency"},note:{node:"source",param:"frequency"},wtdc:{node:"wt_lfo",param:"dc"},wtskew:{node:"wt_lfo",param:"skew"},wtrate:{node:"wt_lfo",param:"frequency"},wtsync:{node:"wt_lfo",param:"frequency"},wtdepth:{node:"wt_lfo",param:"depth"},warpdc:{node:"warp_lfo",param:"dc"},warpskew:{node:"warp_lfo",param:"skew"},warprate:{node:"warp_lfo",param:"frequency"},warpsync:{node:"warp_lfo",param:"frequency"},warpdepth:{node:"warp_lfo",param:"depth"},fmi:{node:"fm_1_gain",param:"gain"},fmi2:{node:"fm_2_gain",param:"gain"},fmi3:{node:"fm_3_gain",param:"gain"},fmi4:{node:"fm_4_gain",param:"gain"},fmi5:{node:"fm_5_gain",param:"gain"},fmi6:{node:"fm_6_gain",param:"gain"},fmi7:{node:"fm_7_gain",param:"gain"},fmi8:{node:"fm_8_gain",param:"gain"},fmh:{node:"fm_1",param:"frequency"},fmh2:{node:"fm_2",param:"frequency"},fmh3:{node:"fm_3",param:"frequency"},fmh4:{node:"fm_4",param:"frequency"},fmh5:{node:"fm_5",param:"frequency"},fmh6:{node:"fm_6",param:"frequency"},fmh7:{node:"fm_7",param:"frequency"},fmh8:{node:"fm_8",param:"frequency"},pw:{node:"source",param:"pulsewidth"},pwrate:{node:"pw_lfo",param:"frequency"},pwsweep:{node:"pw_lfo",param:"depth"},vib:{node:"vib",param:"frequency"},vibmod:{node:"vib_gain",param:"gain"},byteBeatStartTime:{node:"source",param:"byteBeatStartTime"},spread:{node:"source",param:"panspread"},transient:{node:"transient",param:"attack"}};function fX(){return mX}const yX=(e,t)=>{if(e?.parameters){const i=e.parameters.get(t);if(i instanceof AudioParam)return i}let n=e?.[t];if(n===void 0&&t==="frequency"&&(n=e?.detune??e?.playbackRate),n instanceof AudioParam)return n},H5=fX(),gX=(e,t)=>{const n=e.split("_")[0];return H5[`${n}_${t}`]??H5[n]},Z1=(e,t)=>e==="frequency"&&t>=30?{min:20-t,max:24e3-t}:{min:void 0,max:void 0},bX=(e,t,n)=>{const i=Ge(),s=new Float32Array(256);for(let o=0;o<s.length;o++){const c=o/(s.length-1)*2-1;s[o]=bn(c*n,t,n)}const r=new WaveShaperNode(i,{curve:s}),a=Oe(1/n);return e.connect(a).connect(r),{modulator:e,toCleanup:[r,a]}},E1=(e,t,n)=>{const i=gX(e,n);if(!i)return Gs(new Error(`Could not find control data for target '${e}'. It may not be modulatable.`),"superdough"),{targetParams:[],paramName:e};const s=i.param,r=t[i.node]?i.node:e,a=t[r];if(!a){const c=Object.keys(t);return Gs(new Error(`Could not connect to target '${r}' — it does not exist. Available targets: ${c.join(", ")}`),"superdough"),{targetParams:[],paramName:s}}const o=[];return a.forEach(c=>{const l=yX(c,s);o.push(l)}),{targetParams:o,paramName:s}},L1=(e,t,n)=>{const{rate:i=1,sync:s,cps:r,cycle:a,control:o="lfo",subControl:c,fxi:l="main",depth:d=1,depthabs:m,...f}=t,{targetParams:b,paramName:g}=E1(o,n[l],c);if(!b.length)return;let P=b[0].value;P=P===0?1:P;const{min:A,max:x}=Z1(g,P),E=m??d*P,V={...f,frequency:s!==void 0?s*r:i,time:a/r,depth:E,min:A,max:x},S=di(Ge(),V);return n.main[`lfo_${e}`]=[S],b.forEach(X=>S.connect(X)),S},x1=(e,t,n)=>{const{control:i,subControl:s,acurve:r,dcurve:a,rcurve:o,depth:c=1,depthabs:l,fxi:d="main",...m}=t,{targetParams:f,paramName:b}=E1(i,n[d],s);if(!f.length)return;let g=f[0].value;g=g===0?1:g;const{min:P,max:A}=Z1(b,g),x=l??c*g,E=G1(Ge(),{...m,depth:x,min:P,max:A,attackCurve:r,decayCurve:a,releaseCurve:o});return n.main[`env_${e}`]=[E],f.forEach(V=>E.connect(V)),E},R1=(e,t,n)=>{const i=Ge(),{control:s,subControl:r,depth:a=1,depthabs:o,fxi:c="main"}=e,{targetParams:l,paramName:d}=E1(s,t[c],r);if(!l.length)return{toCleanup:[]};const m=n.getBus(e.bus),f=new ConstantSourceNode(i,{offset:e.dc??0});f.start(e.begin);const b=f.connect(Oe(1));m.connect(b);let g=l[0].value;g=g===0?1:g;const{min:P,max:A}=Z1(d,g),x=o??a*g,E=Oe(Math.sign(x)*Math.abs(x)/.3),V=b.connect(E),S=[];let X=V;if(P!==void 0&&A!==void 0){const L=bX(V,P,A);X=L.modulator,S.push(...L.toCleanup)}return an(i,()=>{l.forEach(L=>X.connect(L))},0,e.begin),S.push(f,b,E),{modulator:X,toCleanup:S}},B1={},k1={},K5=e=>B1[e];function MX(e,t){var n=1024;if(e<n)return e+" B";var i=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],s=-1;do e/=n,++s;while(e>=n);return e.toFixed(1)+" "+i[s]}function V1(e,t){const{speed:n=1}=e,{transpose:i,url:s,index:r,midi:a,label:o}=B5(e,t);let c=Math.abs(n)*Math.pow(2,i/12);return{transpose:i,url:s,index:r,midi:a,label:o,playbackRate:c}}const z1=async(e,t,n)=>{let{url:i,label:s,playbackRate:r}=V1(e,t);n&&(i=await n(i));const a=Ge(),o=await ws(i,a,s);return e.unit==="c"&&(r=r*o.duration),{buffer:o,playbackRate:r}},N1=async(e,t,n)=>{let{buffer:i,playbackRate:s}=await z1(e,t,n);e.speed<0&&(i=W1(i));const a=Ge().createBufferSource();a.buffer=i,a.playbackRate.value=s;const{loopBegin:o=0,loopEnd:c=1,begin:l=0,end:d=1}=e,m=a.buffer.duration,f=l*m;e.loop&&(a.loop=!0,a.loopStart=o*m,a.loopEnd=c*m);const g=m/a.playbackRate.value,P=(d-l)*g;return{bufferSource:a,offset:f,bufferDuration:m,playbackDuration:g,sliceDuration:P}},ws=(e,t,n,i=0)=>{const s=n?`sound "${n}:${i}"`:"sample";if(e=e.replace("#","%23"),!k1[e]){dt(`[sampler] load ${s}..`,"load-sample",{url:e});const r=Date.now();k1[e]=fetch(e).then(a=>a.arrayBuffer()).then(async a=>{const o=Date.now()-r,c=MX(a.byteLength);dt(`[sampler] load ${s}... done! loaded ${c} in ${o}ms`,"loaded-sample",{url:e});const l=await t.decodeAudioData(a);return B1[e]=l,l})}return k1[e]};function W1(e){const t=Ge(),n=t.createBuffer(e.numberOfChannels,e.length,t.sampleRate);for(let i=0;i<e.numberOfChannels;i++)n.copyToChannel(e.getChannelData(i).slice().reverse(),i,i);return n}const j5=e=>B1[e];function O5(e){if(e.startsWith("bubo:")){const[t,n]=e.split(":");e=`github:Bubobubobubobubo/dough-${n}`}return e}function U5(e,t=""){if(!e.startsWith("github:"))throw new Error('expected "github:" at the start of pseudoUrl');let n=e.slice(7);n=n.endsWith("/")?n.slice(0,-1):n;let i=n.split("/"),s=i[0],r=i.length>=2?i[1]:"samples",a=i.length>=3?i[2]:"main",o=i.slice(3);return o.push(t||""),o=o.join("/"),`https://raw.githubusercontent.com/${s}/${r}/${a}/${o}`}const T1=(e,t,n=e._base||"")=>Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&(s=[s]),typeof s!="object")throw new Error("wrong sample map format for "+i);n=s._base||n,n=O5(n),n.startsWith("github:")&&(n=U5(n,""));const r=a=>n+a;Array.isArray(s)?s=s.map(r):s=Object.fromEntries(Object.entries(s).map(([a,o])=>[a,(typeof o=="string"?[o]:o).map(r)])),t(i,s)});let J5={};function Q5(e,t){J5[e]=t}function CX(e){const t=Object.entries(J5).find(([n])=>e.startsWith(n));if(t)return t[1]}async function vX(e){const t=CX(e);if(t)return t(e);if(e=O5(e),e.startsWith("github:")&&(e=U5(e,"strudel.json")),e.startsWith("local:")&&(e="http://localhost:5432"),e.startsWith("shabda:")){let[s,r]=e.split("shabda:");e=`https://shabda.ndre.gr/${r}.json?strudel=1`}if(e.startsWith("shabda/speech")){let[s,r]=e.split("shabda/speech");r=r.startsWith("/")?r.substring(1):r;let[a,o]=r.split(":"),c="f",l="en-GB";a&&([l,c]=a.split("/")),e=`https://shabda.ndre.gr/speech/${o}.json?gender=${c}&language=${l}&strudel=1'`}if(typeof fetch!="function")return;const n=k5(e);if(typeof fetch>"u")return;const i=await fetch(e).then(s=>s.json()).catch(s=>{throw console.error(s),new Error(`error loading "${e}"`)});return[i,i._base||n]}const I1=async(e,t=e._base||"",n={})=>{if(typeof e=="string"){const[r,a]=await vX(e);return I1(r,t||a,n)}const{prebake:i,tag:s}=n;T1(e,(r,a)=>{Y1(r,a,{baseUrl:t,prebake:i,tag:s})},t)},q5=[];async function _1(e,t,n,i,s){let{s:r,nudge:a=0,cut:o,loop:c,clip:l=void 0,n:d=0,speed:m=1,duration:f}=t;if(m===0)return;const b=Ge();let[g,P,A,x]=Vt([t.attack,t.decay,t.sustain,t.release]);const{bufferSource:E,sliceDuration:V,offset:S}=await N1(t,i,s);if(!E){dt(`[sampler] could not load "${r}:${d}"`,"error");return}if(b.currentTime>e){dt(`[sampler] loading sound "${r}:${d}" took too long`,"highlight"),Ee(E);return}const X=pi(E.detune,t,e),L=e+a;E.start(L,S);const R=b.createGain(),B=E.connect(R);l==null&&c==null&&t.release==null&&(f=V);let j=e+f;kt(B.gain,g,P,A,x,0,1,e,j,"linear"),hi(E.detune,t,e,j);const N=b.createGain();B.connect(N),un(E,function(){Ee(E),X?.stop(),Ee(B),Ee(N),n()});let ee=j+x+.01;E.stop(ee);const Y=te=>{E.stop(te)},K={node:N,nodes:{source:[E],...X?.nodes},stop:Y};if(o!==void 0){const te=q5[o];te&&(te.node.gain.setValueAtTime(1,L),te.node.gain.linearRampToValueAtTime(0,L+.01)),q5[o]=K}return K}function PX(e,t,n){jt(e,(i,s,r)=>_1(i,s,r,t),{type:"sample",samples:t,...n})}function Y1(e,t,n){e.startsWith("wt_")?zr(e,t,n):PX(e,t,n)}const zi=(e,t)=>e!==void 0&&e!==t,H1=e=>new GainNode(e,{gain:1,channelCount:2,channelCountMode:"explicit"});class GX{reverbNode;delayNode;output;summingNode;djfNode;audioContext;constructor(t){this.audioContext=t,this.output=H1(t),this.summingNode=H1(t),this.summingNode.connect(this.output)}disconnect(){this.output.disconnect(),this.summingNode.disconnect(),this.delayNode?.disconnect(),this.reverbNode?.disconnect()}getDjf(t,n=0){return this.djfNode==null&&(this.djfNode=Xt(this.audioContext,"djf-processor",{value:t}),this.summingNode.disconnect(),this.summingNode.connect(this.djfNode),this.djfNode.connect(this.output)),this.djfNode.parameters.get("value").setValueAtTime(t,n),this.djfNode}getDelay(t=0,n=.5,i){return n=bn(n,0,.98),this.delayNode==null&&(this.delayNode=this.audioContext.createFeedbackDelay(1,t,n),this.delayNode.connect(this.summingNode),this.delayNode.start?.(i)),this.delayNode.delayTime.value!==t&&this.delayNode.delayTime.setValueAtTime(t,i),this.delayNode.feedback.value!==n&&this.delayNode.feedback.setValueAtTime(n,i),this.delayNode}getReverb(t,n,i,s,r,a,o){return this.reverbNode==null&&(this.reverbNode=this.audioContext.createReverb(t,n,i,s,r,a,o),this.reverbNode.connect(this.summingNode)),(zi(t,this.reverbNode.duration)||zi(n,this.reverbNode.fade)||zi(i,this.reverbNode.lp)||zi(s,this.reverbNode.dim)||zi(a,this.reverbNode.irspeed)||zi(o,this.reverbNode.irbegin)||this.reverbNode.ir!==r)&&this.reverbNode.generate(t,n,i,s,r,a,o),this.reverbNode}sendReverb(t,n){return Bi(t,this.reverbNode,n)}sendDelay(t,n){return Bi(t,this.delayNode,n)}duck(t,n=0,i=.1,s=1){const r=n,a=Math.max(i,.002),o=this.output.gain;an(this.audioContext,()=>{const c=this.audioContext.currentTime,l=o.value;o.cancelScheduledValues(c),o.setValueAtTime(l,c);const d=Math.max(t,c),m=bn(1-Math.sqrt(s),.01,l);o.exponentialRampToValueAtTime(m,d+r),o.exponentialRampToValueAtTime(1,d+r+a)},0,t-.01)}connectToOutput(t){t.connect(this.summingNode)}}class AX{channelMerger;destinationGain;constructor(t){this.audioContext=t,this.initializeAudio()}initializeAudio(){const t=this.audioContext,n=t.destination.maxChannelCount;this.audioContext.destination.channelCount=n,this.channelMerger=new ChannelMergerNode(t,{numberOfInputs:t.destination.channelCount}),this.destinationGain=new GainNode(t),this.channelMerger.connect(this.destinationGain),this.destinationGain.connect(t.destination)}reset(){this.disconnect(),this.initializeAudio()}disconnect(){this.channelMerger.disconnect(),this.destinationGain.disconnect(),this.destinationGain=null,this.channelMerger=null}connectToDestination=(t,n=[0,1])=>{const i=new StereoPannerNode(this.audioContext);t.connect(i);const s=new ChannelSplitterNode(this.audioContext,{numberOfOutputs:i.channelCount});i.connect(s),n.forEach((r,a)=>{s.connect(this.channelMerger,a%i.channelCount,r%this.audioContext.destination.channelCount)})}}class $5{audioContext;output;nodes={};buses={};constructor(t){this.audioContext=t,this.output=new AX(t)}reset(){Object.values(this.nodes).forEach(t=>{t.disconnect()}),Object.values(this.buses).forEach(t=>{t.disconnect()}),this.nodes={},this.buses={},this.output.reset()}duck(t,n,i=0,s=.1,r=1){const a=[t].flat(),o=[i].flat(),c=[s].flat(),l=[r].flat();a.forEach((d,m)=>{const f=this.nodes[d];if(f==null){Gs(new Error(`duck target orbit ${d} does not exist`),"superdough");return}const b=o[m]??o[0],g=Math.max(c[m]??c[0],.002),P=l[m]??l[0];f.duck(n,b,g,P)})}getOrbit(t,n){return this.nodes[t]==null&&(this.nodes[t]=new GX(this.audioContext),this.output.connectToDestination(this.nodes[t].output,n)),this.nodes[t]}getBus(t){return this.buses[t]==null&&(this.buses[t]=H1(this.audioContext)),this.buses[t]}}const Vr=Object.freeze({NONE:0,ASYM:1,MIRROR:2,BENDP:3,BENDM:4,BENDMP:5,SYNC:6,QUANT:7,FOLD:8,PWM:9,ORBIT:10,SPIN:11,CHAOS:12,PRIMES:13,BINARY:14,BROWNIAN:15,RECIPROCAL:16,WORMHOLE:17,LOGISTIC:18,SIGMOID:19,FRACTAL:20,FLIP:21}),K1=new Set;function j1(){K1.clear()}async function FX(e,t,n=2048){const i=`${e},${n}`;if(!K1.has(i)){const r=(await SX(e,t)).getChannelData(0),a=r.length,o=Math.max(1,Math.floor(a/n)),c=new Array(o);for(let l=0;l<o;l++){const d=l*n;c[l]=r.subarray(d,d+n)}return K1.add(i),{frames:c,frameLen:n,numFrames:o,key:i}}return{frameLen:n,key:i}}function wX(e,t){var n=1024;if(e<n)return e+" B";var i=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],s=-1;do e/=n,++s;while(e>=n);return e.toFixed(1)+" "+i[s]}function DX(e){const t=new DataView(e);let n=12;for(;n+8<=t.byteLength;){const i=String.fromCharCode(t.getUint8(n),t.getUint8(n+1),t.getUint8(n+2),t.getUint8(n+3)),s=t.getUint32(n+4,!0);if(i==="fmt ")return t.getUint32(n+12,!0);n+=8+s+(s&1)}return null}async function XX(e){const t=DX(e)||44100;return await new OfflineAudioContext(1,1,t).decodeAudioData(e)}const O1={},SX=(e,t)=>{if(e=e.replace("#","%23"),!O1[e]){dt(`[wavetable] load table ${t}..`,"load-table",{url:e});const n=Date.now();O1[e]=fetch(e).then(i=>i.arrayBuffer()).then(async i=>{const s=Date.now()-n,r=wX(i.byteLength);return dt(`[wavetable] load table ${t}... done! loaded ${r} in ${s}ms`,"loaded-table",{url:e}),await XX(i)})}return O1[e]};function e9(e,t=""){if(!e.startsWith("github:"))throw new Error('expected "github:" at the start of pseudoUrl');let[n,i]=e.split("github:");return i=i.endsWith("/")?i.slice(0,-1):i,i.split("/").length===2&&(i+="/main"),`https://raw.githubusercontent.com/${i}/${t}`}const t9=(e,t,n,i={})=>(t=e._base||t,Object.entries(e).forEach(([s,r])=>{if(s==="_base")return!1;if(typeof r=="string"&&(r=[r]),typeof r!="object")throw new Error("wrong json format for "+s);let a=t;a.startsWith("github:")&&(a=e9(a,"")),r=r.map(o=>a+o).filter(o=>o.toLowerCase().endsWith(".wav")?!0:(dt(`[wavetable] skipping ${o} -- wavetables must be ".wav" format`),!1)),r.length&&zr(s,r,{baseUrl:t,frameLen:n})}));function zr(e,t,n){jt(e,(i,s,r,a)=>U1(i,s,r,t,a,n?.frameLen??2048),{type:"wavetable",tables:t,...n})}const n9=async(e,t,n,i={})=>{if(n!==void 0)return t9(n,e,t);e.startsWith("github:")&&(e=e9(e,"strudel.json")),e.startsWith("local:")&&(e="http://localhost:5432");const s=k5(e);if(typeof fetch=="function"&&!(typeof fetch>"u"))return fetch(e).then(r=>r.json()).then(r=>t9(r,s,t,i)).catch(r=>{throw console.error(r),new Error(`error loading "${e}"`)})};async function U1(e,t,n,i,s,r){const{s:a,n:o=0,duration:c,clip:l}=t,d=Ge(),[m,f,b,g]=Vt([t.attack,t.decay,t.sustain,t.release]);let{warpmode:P}=t;typeof P=="string"&&(P=Vr[P.toUpperCase()]??Vr.NONE);const A=En(t),{url:x,label:E}=B5(t,i),V=await FX(x,E,r);let S=e+c;l!==void 0&&(S=Math.min(e+l*c,S));const X=S+g,L=X+.01,R={begin:e,end:L,frequency:A,freqspread:t.detune,position:t.wt,warp:t.warp,warpMode:P,voices:Math.max(t.unison??1,1),panspread:t.spread,phaserand:t.wtphaserand??t.unison>1?1:0},j=As("wavetable",()=>new AudioWorkletNode(d,"wavetable-oscillator-processor",{outputChannelCount:[2]}));if(Object.entries(R).forEach(([Ae,Pe])=>{const we=j.parameters.get(Ae),Le=Pe!==void 0?Pe:we.defaultValue;we.value=Le}),j.port.postMessage({type:"initialize",payload:V}),d.currentTime>e){dt(`[wavetable] still loading sound "${a}:${o}"`,"highlight");return}const N=[t.wtattack,t.wtdecay,t.wtsustain,t.wtrelease],ee=[t.warpattack,t.warpdecay,t.warpsustain,t.warprelease],Y=j.parameters,K=Y.get("position"),te=Y.get("warp");let Ce=t.wtrate;t.wtsync!=null&&(Ce=s*t.wtsync);const ue=Rr(d,K,e,X,{offset:t.wt,amount:t.wtenv,defaultAmount:.5,shape:"linear",values:N,holdEnd:S,defaultValues:[0,.5,0,.1]},{frequency:Ce,depth:t.wtdepth,defaultDepth:.5,shape:t.wtshape,skew:t.wtskew,dcoffset:t.wtdc??0});let he=t.warprate;t.warpsync!=null&&(he=he=s*t.warpsync);const se=Rr(d,te,e,X,{offset:t.warp,amount:t.warpenv,defaultAmount:.5,shape:"linear",values:ee,holdEnd:S,defaultValues:[0,.5,0,.1]},{frequency:he,depth:t.warpdepth,defaultDepth:.5,shape:t.warpshape,skew:t.warpskew,dcoffset:t.warpdc??0}),Ye=pi(j.parameters.get("detune"),t,e),ot=ki(j.parameters.get("frequency"),t,e),pt=d.createGain(),J=j.connect(pt);kt(J.gain,m,f,b,g,0,.3,e,S,"linear"),hi(j.parameters.get("detune"),t,e,S);const ct={node:J,nodes:{source:[j],wt_lfo:[ue],warp_lfo:[se],...ot?.nodes,...Ye?.nodes}},pe=an(d,()=>{v1(j),Ye?.stop(),ot?.stop(),Ee(ue),Ee(se),n()},e,L);return ct.stop=Ae=>{pe.stop(Ae)},ct}const Nr=128,J1="System Standard";u.maxPolyphony=Nr;function Q1(e){u.maxPolyphony=parseInt(e)??Nr}u.multiChannelOrbits=!1;function q1(e){u.multiChannelOrbits=e==!0}const Kt=pX();function jt(e,t,n={}){e=e.toLowerCase().replace(/\s+/g,"_"),Kt.setKey(e,{onTrigger:t,data:n})}let i9=e=>e;function cn(e){return i9(e)}function s9(e){i9=e}function $1(e){for(const n in e)e[n.toLowerCase()]=e[n];const t=Kt.get();for(const n in t){const[i,s]=n.split("_");if(!s)continue;const r=e[i];if(r){if(typeof r=="string")t[`${r}_${s}`.toLowerCase()]=t[n];else if(Array.isArray(r))for(const a of r)t[`${a}_${s}`.toLowerCase()]=t[n]}}Kt.set({...t})}async function ZX(e){const n=await(await fetch(e)).json();$1(n)}async function r9(...e){switch(e.length){case 1:return typeof e[0]=="string"?ZX(e[0]):$1(e[0]);case 2:return $1({[e[0]]:e[1]});default:throw new Error("aliasMap expects 1 or 2 arguments, received "+e.length)}}function a9(e,t){if(Un(e)==null){dt("soundAlias: original sound not found");return}Kt.setKey(t,Un(e))}function Un(e){return typeof e!="string"?(console.warn(`getSound: expected string got "${e}". fall back to triangle`),Kt.get().triangle):Kt.get()[e.toLowerCase()]}const ey=async()=>{await navigator.mediaDevices.getUserMedia({audio:!0});let e=await navigator.mediaDevices.enumerateDevices();e=e.filter(n=>n.kind==="audiooutput"&&n.deviceId!=="default");const t=new Map;return t.set(J1,""),e.forEach(n=>{t.set(n.label,n.deviceId)}),t};let Ds={s:"triangle",gain:.8,postgain:1,density:".03",channels:[1,2],phaserdepth:.75,shapevol:1,distortvol:1,distorttype:0,delay:0,busgain:1,byteBeatExpression:"0",delayfeedback:.5,delaysync:3/16,orbit:1,i:1,velocity:1,fft:8,tremolodepth:1,tremolophase:0,release:.01};const EX=Object.freeze({...Ds});function u9(e,t){Ds[e]=t}function o9(){Ds={...EX}}let ty=new Map(Object.entries(Ds));function Wr(e,t){ty.set(e,t)}function st(e){return ty.get(e)}function c9(e){Object.keys(e).forEach(t=>{Wr(t,e[t])})}function ny(){ty=new Map(Object.entries(Ds))}function l9(e){ny(),e==="1.0"&&Wr("fanchor",.5)}const d9=()=>Kt.set({});let h9=[];function iy(e){h9.push(e)}let Tr;function sy(){if(!Tr){const e=Ge(),t=h9.concat([dX]);Tr=Promise.all(t.map(n=>e.audioWorklet.addModule(n))).then(()=>Tr=void 0)}return Tr}async function Ir(e={}){const{disableWorklets:t=!1,maxPolyphony:n,audioDeviceName:i=J1,multiChannelOrbits:s=!1}=e;if(Q1(n),q1(s),j1(),typeof window>"u")return;const r=Ge();if(i!=null&&i!=J1)try{const o=(await ey()).get(i),c=(o??"").length>0;r.sinkId!==o&&c&&await r.setSinkId(o),dt(`[superdough] Audio Device set to ${i}, it might take a few seconds before audio plays on all output channels`)}catch{dt("[superdough] failed to set audio interface","warning")}if(!r instanceof OfflineAudioContext&&await r.resume(),t){dt("[superdough]: AudioWorklets disabled with disableWorklets");return}try{await sy(),dt("[superdough] AudioWorklets loaded")}catch(a){console.warn("could not load AudioWorklet effects",a)}dt("[superdough] ready")}let ry;async function ay(e){return ry||(ry=new Promise(t=>{document.addEventListener("mousedown",async function n(){document.removeEventListener("mousedown",n),await Ir(e),t()})})),ry}let mi;function Xs(){return mi==null&&(mi=new $5(Ge())),mi}function _r(e){return mi=e,mi}function uy(e,t){Xs().output.connectToDestination(e,t)}function LX(e,t,n=1,i=.5,s=1e3,r=2e3){const a=Ge(),o=di(a,{frequency:n,depth:r*2,begin:e,end:t}),c=1;let l=282;const d=[];for(let m=0;m<c;m++){const f=As("filter",()=>a.createBiquadFilter());f.type="notch",f.gain.value=1,f.frequency.value=s+l,f.Q.value=2-Math.min(Math.max(i*2,0),1.9),o.connect(f.detune),l+=282,d.push(f)}return{filterChain:d,lfo:o}}function xX(e){e=e??0;const t=["12db","ladder","24db"];return typeof e=="number"?t[Math.floor(L5(e,t.length))]:e}u.analysers={},u.analysersData={};function oy(e,t=1024,n=.5){if(!u.analysers[e]||u.analysers[e].context!=Ge()){const i=Ge().createAnalyser();i.fftSize=t,i.smoothingTimeConstant=n,u.analysers[e]=i,u.analysersData[e]=new Float32Array(u.analysers[e].frequencyBinCount)}return u.analysers[e].fftSize!==t&&(u.analysers[e].fftSize=t,u.analysersData[e]=new Float32Array(u.analysers[e].frequencyBinCount)),u.analysers[e]}function Ss(e="time",t=1){const n={time:()=>u.analysers[t]?.getFloatTimeDomainData(u.analysersData[t]),frequency:()=>u.analysers[t]?.getFloatFrequencyData(u.analysersData[t])}[e];if(!n)throw new Error(`getAnalyzerData: ${e} not supported. use one of ${Object.keys(n).join(", ")}`);return n(),u.analysersData[t]}function cy(){mi?.reset(),u.analysers={},u.analysersData={}}let Zs=new Map;function p9(e){return(Array.isArray(e)?e:[e]).map(t=>t-1)}class RX{constructor(){this.audioNodes=[],this.tails=[]}connect(...t){return t.forEach(n=>{this.tails.forEach(i=>{i.connect(n)})}),this.tails=t,this.audioNodes.push(...t),this}connectOne(t,n){return this.tails[t].connect(n),this.tails[t]=n,this.audioNodes.push(n),this}releaseNodes(){this.audioNodes.forEach(t=>YD(t)?v1(t):Ee(t)),this.audioNodes=[],this.tails=[]}}const Es=async(e,t,n,i=.5,s=.5)=>{const r={main:{}},a=Ge(),o=Xs();let{stretch:c}=e;if(c!=null&&(t=t-.04),typeof e!="object")throw new Error(`expected hap.value to be an object, but got "${e}". Hint: append .note() or .s() to the end`,"error");if(e.duration=n,t<a.currentTime){console.warn(`[superdough]: cannot schedule sounds in the past (target: ${t.toFixed(2)}, now: ${a.currentTime.toFixed(2)})`);return}let{s:l=st("s"),bank:d,source:m,postgain:f=st("postgain"),duckorbit:b,duckonset:g,duckattack:P,duckdepth:A,djf:x,release:E=st("release"),dry:V,delay:S=st("delay"),delayfeedback:X=st("delayfeedback"),delaysync:L=st("delaysync"),delaytime:R,orbit:B=st("orbit"),bus:j,busgain:N=st("busgain"),room:ee,roomfade:Y,roomlp:K,roomdim:te,roomsize:Ce,ir:ue,irspeed:he,irbegin:se,i:Ye=st("i"),analyze:ot,fft:pt=st("fft"),FX:J=[],FXrelease:ct}=e;R=R??R5(L,i);const pe=p9(u.multiChannelOrbits&&B>0?[B*2-1,B*2]:st("channels")),Ae=e.channels!=null?p9(e.channels):pe,Pe=o.getOrbit(B,Ae);b!=null&&o.duck(b,t,g,P,A),f=cn(f),S=cn(S),N=cn(N);const we=t+n,Le=Math.max(E,ct??0),ke=we+Le,gt=Math.round(Math.random()*1e6);for(let re=0;re<=Zs.size-u.maxPolyphony;re++){const Q=Zs.entries().next(),Ke=Q.value[1].deref(),me=Q.value[0],_e=t+.25;Ke?.node?.gain?.linearRampToValueAtTime(0,_e),Ke?.stop?.(_e),Zs.delete(me)}if(["-","~","_"].includes(l))return;d&&l&&(l=`${d}_${l}`,e.s=l);const oe=new RX;let Ie;if(m)Ie=m(t,e,n,i),r.main.source=[Ie];else if(Un(l)){const{onTrigger:re}=Un(l),Ke=await re(t,e,()=>an(a,()=>{oe.releaseNodes(),Zs.delete(gt)},0,ke),i);Ke&&(Ie=Ke.node,Zs.set(gt,new WeakRef(Ke)),r.main={...r.main,...Ke.nodes})}else throw new Error(`sound ${l} not found! Is it loaded?`);if(!Ie)return;if(a.currentTime>t){dt("[webaudio] skip hap: still loading",a.currentTime-t);return}oe.connect(Ie),J=[...J,e];for(let[re,Q]of Object.entries(J)){const Ke=re==J.length-1?"main":re;r[Ke]??={};const me=r[Ke];let{gain:_e=st("gain"),velocity:At=st("velocity"),shapevol:Fn=st("shapevol"),distorttype:ii=st("distorttype"),distortvol:wn=st("distortvol"),tremolodepth:Lt=st("tremolodepth"),phaserdepth:zn=st("phaserdepth"),delay:Se=st("delay"),delayfeedback:$e=st("delayfeedback"),delaysync:ge=st("delaysync"),delaytime:tt,i:Ue=st("i")}=Q;if(_e=cn(Zn(_e,1)),Fn=cn(Fn),wn=cn(wn),At=cn(At),Lt=cn(Lt),_e*=At,tt=tt??R5(ge,i),Q.workletSrc!==void 0){const fe=Xt(a,"generic-processor",{},{outputChannelCount:[2]});oe.connect(fe);const Me=Q.workletSrc.replace(/\bpat\[(\d+)\]/g,(He,It)=>Q.workletInputs[It]).replaceAll("sFreq",En(e)).replaceAll("sGate",`cc('strudel-gate-${gt}')`),{src:nt,ugens:et,registers:xe}=compileKabel(Me);fe.port.postMessage({src:nt,schema:{ugens:et,registers:xe},start:t,gateEnd:we,end:ke})}if(Q.stretch!==void 0){const fe=Xt(a,"phase-vocoder-processor",{pitchFactor:Q.stretch});oe.connect(fe),me.stretch=[fe]}if(Q.transient!==void 0){const fe=Xt(a,"transient-processor",{},{processorOptions:{attack:Q.transient,sustain:Q.transsustain,begin:t,end:ke}});oe.connect(fe),me.transient=fe}const Fi=Oe(_e);me.gain=[Fi],oe.connect(Fi);const wi=xX(e.ftype),bt=fe=>F1(a,t,we,fe,i,s);if(Q.cutoff!==void 0){const Me=P1(Q,{frequency:"cutoff",q:"resonance",attack:"lpattack",decay:"lpdecay",sustain:"lpsustain",release:"lprelease",env:"lpenv",anchor:"fanchor",model:"ftype",drive:"drive",rate:"lprate",sync:"lpsync",depth:"lpdepth",depthfrequency:"lpdepthfrequency",shape:"lpshape",dcoffset:"lpdc",skew:"lpskew"});Me.type="lowpass";const{filter:nt,lfo:et}=bt(Me);if(me.lpf=[nt],me.lpf_lfo=[et],oe.connect(nt),et&&oe.audioNodes.push(et),wi==="24db"){const{filter:xe,lfo:He}=bt(Me);me.lpf.push(xe),me.lpf_lfo.push(He),oe.connect(xe),He&&oe.audioNodes.push(He)}}if(Q.hcutoff!==void 0){const Me=P1(Q,{frequency:"hcutoff",q:"hresonance",attack:"hpattack",decay:"hpdecay",sustain:"hpsustain",release:"hprelease",env:"hpenv",anchor:"fanchor",model:"ftype",drive:"drive",rate:"hprate",sync:"hpsync",depth:"hpdepth",depthfrequency:"hpdepthfrequency",shape:"hpshape",dcoffset:"hpdc",skew:"hpskew"});Me.type="highpass";const{filter:nt,lfo:et}=bt(Me);if(me.hpf=[nt],me.hpf_lfo=[et],et&&oe.audioNodes.push(et),oe.connect(nt),wi==="24db"){const{filter:xe,lfo:He}=bt(Me);me.hpf.push(xe),me.hpf_lfo.push(He),oe.connect(xe),He&&oe.audioNodes.push(He)}}if(Q.bandf!==void 0){const Me=P1(Q,{frequency:"bandf",q:"bandq",attack:"bpattack",decay:"bpdecay",sustain:"bpsustain",release:"bprelease",env:"bpenv",anchor:"fanchor",model:"ftype",drive:"drive",rate:"bprate",sync:"bpsync",depth:"bpdepth",depthfrequency:"bpdepthfrequency",shape:"bpshape",dcoffset:"bpdc",skew:"bpskew"});Me.type="bandpass";const{filter:nt,lfo:et}=bt(Me);if(me.bpf=[nt],me.bpf_lfo=[et],oe.connect(nt),et&&oe.audioNodes.push(et),wi==="24db"){const{filter:xe,lfo:He}=bt(Me);me.bpf.push(xe),me.bpf_lfo.push(He),oe.connect(xe),He&&oe.audioNodes.push(He)}}if(Q.vowel!==void 0){const fe=a.createVowelFilter(Q.vowel);me.vowel=fe.filters,oe.connect(fe)}if(Q.coarse!==void 0){const fe=Xt(a,"coarse-processor",{coarse:Q.coarse});me.coarse=[fe],oe.connect(fe)}if(Q.crush!==void 0){const fe=Xt(a,"crush-processor",{crush:Q.crush});me.crush=[fe],oe.connect(fe)}if(Q.shape!==void 0){const fe=Xt(a,"shape-processor",{shape:Q.shape,postgain:Fn});me.shape=[fe],oe.connect(fe)}if(Q.distort!==void 0){const fe=D1(Q.distort,wn,ii);me.distort=[fe],oe.connect(fe)}let si=Q.tremolo;if(Q.tremolosync!=null&&(si=i*Q.tremolosync),si!==void 0){const fe=Math.max(1-Lt,0),Me=new GainNode(a,{gain:fe}),nt=s/i,et=di(a,{skew:Q.tremoloskew??(Q.tremoloshape!=null?.5:1),frequency:si,depth:Lt,time:nt,dcoffset:0,shape:Q.tremoloshape,phaseoffset:Q.tremolophase,min:0,max:1,curve:1.5,begin:t,end:ke});me.tremolo=[et],me.tremolo_gain=[Me],et.connect(Me.gain),oe.audioNodes.push(et),oe.connect(Me)}if(Q.compressor!==void 0){const fe=A1(a,Q.compressor,Q.compressorRatio,Q.compressorKnee,Q.compressorAttack,Q.compressorRelease);me.compressor=[fe],oe.connect(fe)}if(Q.pan!==void 0){const fe=a.createStereoPanner();me.pan=[fe],fe.pan.value=2*Q.pan-1,oe.connect(fe)}if(Q.phaserrate!==void 0&&zn>0){const{filterChain:fe,lfo:Me}=LX(t,ke,Q.phaserrate,zn,Q.phasercenter,Q.phasersweep);me.phaser=[...fe],me.phaser_lfo=[Me],fe.forEach(nt=>oe.connect(nt)),oe.audioNodes.push(Me)}if(Ke!=="main"&&Se>0&&tt>0&&$e>0){const fe=Oe(1);$e=bn($e,0,.98);const Me=a.createFeedbackDelay(1,tt,$e),nt=Oe(Se),et=Oe(Q.dry??1),xe=new GainNode(a,{gain:1,channelCount:2,channelCountMode:"explicit"});oe.connect(fe).connect(et,Me).connectOne(1,nt).connect(xe),oe.audioNodes.push(Me.feedbackGain,Me.delayGain),me.delay=[Me],me.delay_mix=[nt]}if(Ke!=="main"&&Q.room>0){let fe;if(Q.ir!==void 0){let It,_t=Un(Q.ir);Array.isArray(_t)?It=_t.data.samples[Q.i%_t.data.samples.length]:typeof _t=="object"&&(It=Object.values(_t.data.samples).flat()[Ue%Object.values(_t.data.samples).length]),fe=await ws(It,a,Q.ir,0)}const Me=Oe(1),nt=a.createReverb(Q.roomsize,Q.roomfade,Q.roomlp,Q.roomdim,fe,Q.irspeed,Q.irbegin),et=Oe(Q.room),xe=Oe(Q.dry??1),He=new GainNode(a,{gain:1,channelCount:2,channelCountMode:"explicit"});oe.connect(Me).connect(xe,nt).connectOne(1,et).connect(He),me.room=[nt],me.room_mix=[et]}}if(ct!==void 0&&ct>E){const re=Oe(1);re.gain.setValueAtTime(1,we+E),re.gain.linearRampToValueAtTime(0,ke),oe.connect(re)}const Gt=new GainNode(a,{gain:f});if(r.main.post=[Gt],oe.connect(Gt),S>0&&R>0&&X>0){const re=Pe.getDelay(R,X,t);r.main.delay=[re];const Q=Pe.sendDelay(Gt,S);r.main.delay_mix=[Q],oe.audioNodes.push(Q)}if(ee>0){let re;if(ue!==void 0){let me,_e=Un(ue);Array.isArray(_e)?me=_e.data.samples[Ye%_e.data.samples.length]:typeof _e=="object"&&(me=Object.values(_e.data.samples).flat()[Ye%Object.values(_e.data.samples).length]),re=await ws(me,a,ue,0)}const Q=Pe.getReverb(Ce,Y,K,te,re,he,se);r.main.room=[Q];const Ke=Pe.sendReverb(Gt,ee);r.main.room_mix=[Ke],oe.audioNodes.push(Ke)}if(j!=null){const re=o.getBus(j),Q=Bi(Gt,re,N);oe.audioNodes.push(Q)}if(x!=null){const re=Pe.getDjf(x,t);r.main.djf=[re]}if(ot&&!(a instanceof OfflineAudioContext)){const re=oy(ot,2**(pt+5)),Q=Bi(Gt,re,1);oe.audioNodes.push(Q)}if(V!=null){V=cn(V);const re=new GainNode(a,{gain:V});oe.connect(re),Pe.connectToOutput(re)}else Pe.connectToOutput(Gt);J.forEach((re,Q)=>{const Ke=Q===J.length-1?"main":Q;if(re.lfo)for(const me of re.lfo.__ids){const _e=re.lfo[me];_e.fxi??=Ke;const At=L1(me,{..._e,cps:i,cycle:s,begin:t,end:ke},r);At&&oe.audioNodes.push(At)}if(re.env)for(const me of re.env.__ids){const _e=re.env[me];_e.fxi??=Ke;const At=x1(me,{..._e,begin:t,end:ke},r);At&&oe.audioNodes.push(At)}if(re.bmod)for(const me of re.bmod.__ids){const _e=re.bmod[me];_e.fxi??=Ke;const{toCleanup:At}=R1({..._e,begin:t,end:ke},r,mi);oe.audioNodes.push(...At)}})},m9=(e,t,n,i)=>{Es(t,e-n,t.duration/i,i)},BX=["triangle","square","sawtooth","sine","user","one"],kX=[["tri","triangle"],["sqr","square"],["saw","sawtooth"],["sin","sine"]];function VX(e,t){const n=e,i=new Float32Array(t);for(let s=0;s<t;s++){const r=s*2/t-1;i[s]=Math.tanh(r*n)}return i}function ly(){[...BX].forEach(e=>{jt(e,(t,n,i)=>{const[s,r,a,o]=Vt([n.attack,n.decay,n.sustain,n.release],"linear",[.001,.05,.6,.01]),c=Oe(.3),l=hy(e,t,n,()=>{Ee(c),i()}),{node:d,nodes:m,stop:f,triggerRelease:b}=l,{duration:g}=n,P=Oe(1),A=d.connect(c).connect(P),x=t+g;kt(A.gain,s,r,a,o,0,1,t,x,"linear");const E=x+o+.01;return b?.(E),f(E),{node:A,nodes:m,stop:V=>{f(V)}}},{type:"synth",prebake:!0})}),jt("sbd",(e,t,n)=>{const{duration:i,decay:s=.5,pdecay:r=.5,penv:a=36,clip:o}=t,c=Ge(),l=.02,d=1.2,m=.025,f=1,b=c.createOscillator();b.type="triangle",b.frequency.value=En(t,29),b.detune.setValueAtTime(a*100,0),b.detune.setValueAtTime(a*100,e),b.detune.exponentialRampToValueAtTime(.001,e+r);const g=Oe(1);g.gain.setValueAtTime(1,e+l),g.gain.exponentialRampToValueAtTime(.001,e+l+s),b.start(e);const P=b1("brown",e,2),A=Oe(1);A.gain.setValueAtTime(d,e),A.gain.exponentialRampToValueAtTime(.001,e+m);const x=new WaveShaperNode(c);x.curve=VX(2,c.sampleRate);const E=Oe(f);un(b,()=>{Ee(b),Ee(g),Ee(x),Ee(P.node),Ee(A),Ee(E),n()});const V=b.connect(x).connect(g).connect(E);P.node.connect(A).connect(E);let X=e+s+.01;return o!=null&&(X=Math.min(e+o*i,X)),E.gain.setValueAtTime(f,X-.01),E.gain.linearRampToValueAtTime(0,X),b.stop(X),P.stop(X),{node:V,nodes:{source:[b]},stop:L=>{b.stop(L)}}},{type:"synth",prebake:!0}),jt("supersaw",(e,t,n)=>{const i=Ge();let{duration:s,n:r,unison:a=5,spread:o=.6,detune:c}=t;c=c??r??.18;const l=En(t),[d,m,f,b]=Vt([t.attack,t.decay,t.sustain,t.release],"linear",[.001,.05,.6,.01]),g=e+s,P=g+b+.01,A=bn(a,1,100);let x=A>1?bn(o,0,1):0;const E={frequency:l,begin:e,end:P,freqspread:c,voices:A,panspread:x},S=As("supersaw",()=>new AudioWorkletNode(i,"supersaw-oscillator",{outputChannelCount:[2]}));Object.entries(E).forEach(([N,ee])=>{const Y=S.parameters.get(N),K=ee!==void 0?ee:Y.defaultValue;Y.value=K}),S.port.postMessage({type:"initialize"});const X=1/Math.sqrt(A);hi(S.parameters.get("detune"),t,e,g);const L=pi(S.parameters.get("detune"),t,e),R=ki(S.parameters.get("frequency"),t,e);let B=Oe(1);B=S.connect(B),kt(B.gain,d,m,f,b,0,.3*X,e,g,"linear");let j=an(i,()=>{v1(S),n(),R?.stop(),L?.stop()},e,P);return{node:B,nodes:{source:[S],...R?.nodes,...L?.nodes},stop:N=>{j.stop(N)}}},{prebake:!0,type:"synth"}),jt("bytebeat",(e,t,n)=>{const i=["(t%255 >= t/255%255)*255","(t*(t*8%60 <= 300)|(-t)*(t*4%512 < 256))+t/400","t","t*(t >> 10^t)","t&128","t&t>>8","((t%255+t%128+t%64+t%32+t%16+t%127.8+t%64.8+t%32.8+t%16.8)/3)","((t%64+t%63.8+t%64.15+t%64.35+t%63.5)/1.25)","(t&(t>>7)-t)","(sin(t*PI/128)*127+127)","((t^t/2+t+64*(sin((t*PI/64)+(t*PI/32768))+64))%128*2)","((t^t/2+t+64*(cos >> 0))%127.85*2)","((t^t/2+t+64)%128*2)","(((t * .25)^(t * .25)/100+(t * .25))%128)*2","((t^t/2+t+64)%7 * 24)"],{n:s=0}=t,r=En(t),{byteBeatExpression:a=i[s%i.length],byteBeatStartTime:o}=t,c=Ge();let{duration:l}=t;const[d,m,f,b]=Vt([t.attack,t.decay,t.sustain,t.release],"linear",[.001,.05,.6,.01]),g=e+l,P=g+b+.01;let A=Xt(c,"byte-beat-processor",{frequency:r,begin:e,end:P},{outputChannelCount:[2]});A.port.postMessage({codeText:a,byteBeatStartTime:o,frequency:r});let x=Oe(1);x=A.connect(x),kt(x.gain,d,m,f,b,0,1,e,g,"linear");let E=an(c,()=>{Ee(A),n()},e,P);return{node:x,source:A,stop:V=>{E.stop(V)}}},{prebake:!0,type:"synth"}),jt("pulse",(e,t,n)=>{const i=Ge();let{pwrate:s,pwsweep:r}=t;r==null&&(s!=null?r=.3:r=0),s==null&&r!=null&&(s=1);let{duration:a,pw:o=.5}=t;const c=En(t),[l,d,m,f]=Vt([t.attack,t.decay,t.sustain,t.release],"linear",[.001,.05,.6,.01]),b=e+a,g=b+f+.01;let P=Xt(i,"pulse-oscillator",{frequency:c,begin:e,end:g,pulsewidth:o},{outputChannelCount:[2]});hi(P.parameters.get("detune"),t,e,b);const A=pi(P.parameters.get("detune"),t,e),x=ki(P.parameters.get("frequency"),t,e);let E=Oe(1);E=P.connect(E),kt(E.gain,l,d,m,f,0,1,e,b,"linear");let V;r!=0&&(V=di(i,{frequency:s,depth:r,begin:e,end:g}),V.connect(P.parameters.get("pulsewidth")));let S=an(i,()=>{Ee(P),Ee(V),n(),x?.stop(),A?.stop()},e,g);return{node:E,nodes:{source:[P],pw_lfo:[V],...x?.nodes,...A?.nodes},stop:X=>{S.stop(X)}}},{prebake:!0,type:"synth"}),jt("bus",(e,t,n)=>{const i=Ge(),[s,r,a,o]=Vt([t.attack,t.decay,t.sustain,t.release],"linear",[.001,.05,1,.01]),c=e+t.duration,l=c+o+.01,d=Xs().getBus(t.n??0),m=d.connect(Oe(0));kt(m.gain,s,r,a,o,0,1,e,c,"linear");const f=an(i,()=>{d.disconnect(m),n()},e,l);return{node:m,nodes:{source:[d]},stop:b=>{f.stop(b)}}},{prebake:!0,type:"input"}),[...Lr].forEach(e=>{jt(e,(t,n,i)=>{const[s,r,a,o]=Vt([n.attack,n.decay,n.sustain,n.release],"linear",[.001,.05,.6,.01]);let c,{density:l}=n;c=b1(e,t,l);let{node:d,stop:m,triggerRelease:f}=c;const b=Oe(.3),{duration:g}=n;un(d,()=>{Ee(d),Ee(b),i()});const P=Oe(1);let A=d.connect(b).connect(P);const x=t+g;kt(A.gain,s,r,a,o,0,1,t,x,"linear");const E=x+o+.01;return f?.(E),m(E),{node:A,nodes:{source:[d]},stop:V=>{m(V)}}},{type:"synth",prebake:!0})}),kX.forEach(([e,t])=>Kt.set({...Kt.get(),[e]:Kt.get()[t]}))}const f9=2*Math.PI;function dy(e,t,n){e=typeof e=="object"?e:new Float32Array(e).fill(1);const s=e.length,r=new Float32Array(s+1),a=new Float32Array(s+1),o=Ge(),c=o.createOscillator(),l={sawtooth:m=>[0,-1/m],square:m=>[0,m%2===0?0:1/m],triangle:m=>[m%2===0?0:1/(m*m),0],user:m=>[0,1]};if(!l[n])throw new Error(`unknown wave type ${n}`);for(let m=0;m<s;m++){const f=e[m],[b,g]=l[n](m+1),P=t?.[m]??0;let A=b*f,x=g*f;if(P!==0){const E=Math.cos(f9*P),V=Math.sin(f9*P);A=E*A-V*x,x=V*A+E*x}r[m+1]=A,a[m+1]=x}const d=o.createPeriodicWave(r,a);return c.setPeriodicWave(d),c}function hy(e,t,n,i){const{duration:s,noise:r=0}=n,a=n.partials??n.n;let o;if(e==="user"&&!a&&(dt("[superdough] Synth 'user' was selected, but partials not specified. Defaulting to triangle. Use pat.partials to setup custom waveform"),e="triangle"),e=e==="user"&&!a?"triangle":e,e==="one")return o=new ConstantSourceNode(Ge(),{offset:1}),o.start(t),{node:o,nodes:{source:o},stop:m=>o?.stop(m)};!a||a?.length===0||e==="sine"?(o=Ge().createOscillator(),o.type=e||"triangle"):o=dy(a,n.phases,e),o.frequency.value=En(n);const c=pi(o.detune,n,t);hi(o.detune,n,t,t+s);const l=ki(o.frequency,n,t);let d;return r&&(d=_D(o,r,t)),un(o,()=>{d?.teardown(),Ee(o),Ee(d?.node),i()}),o.start(t),{node:d?.node||o,nodes:{source:[o],...c?.nodes,...l?.nodes},stop:m=>{l.stop(m),c?.stop(m),d?.stop(m),o.stop(m)},triggerRelease:m=>{}}}function zX(e=1,t=.05,n=220,i=0,s=0,r=.1,a=0,o=1,c=0,l=0,d=0,m=0,f=0,b=0,g=0,P=0,A=0,x=1,E=0,V=0){let S=Math.PI*2,X=Ge().sampleRate,L=Ye=>Ye>0?1:-1,R=c*=500*S/X/X,B=n*=(1+t*2*Math.random()-t)*S/X,j=[],N=0,ee=0,Y=0,K=1,te=0,Ce=0,ue=0,he,se;for(i=i*X+9,E*=X,s*=X,r*=X,A*=X,l*=500*S/X**3,g*=S/X,d*=S/X,m*=X,f=f*X|0,se=i+E+s+r+A|0;Y<se;j[Y++]=ue)++Ce%(P*100|0)||(ue=a?a>1?a>2?a>3?Math.sin((N%S)**3):Math.max(Math.min(Math.tan(N),1),-1):1-(2*N/S%2+2)%2:1-4*Math.abs(Math.round(N/S)-N/S):Math.sin(N),ue=(f?1-V+V*Math.sin(S*Y/f):1)*L(ue)*Math.abs(ue)**o*e*1*(Y<i?Y/i:Y<i+E?1-(Y-i)/E*(1-x):Y<i+E+s?x:Y<se-A?(se-Y-A)/r*x:0),ue=A?ue/2+(A>Y?0:(Y<se-A?1:(se-Y)/A)*j[Y-A|0]/2):ue),he=(n+=c+=l)*Math.cos(g*ee++),N+=he-he*b*(1-(Math.sin(Y)+1)*1e9%2),K&&++K>m&&(n+=d,B+=d,K=0),f&&!(++te%f)&&(n=B,c=R,K||=1);return j}const py=(e,t)=>{let{s:n,note:i=36,freq:s,zrand:r=0,attack:a=0,decay:o=0,sustain:c=.8,release:l=.1,curve:d=1,slide:m=0,deltaSlide:f=0,pitchJump:b=0,pitchJumpTime:g=0,lfo:P=0,znoise:A=0,zmod:x=0,zcrush:E=0,zdelay:V=0,tremolo:S=0,duration:X=.2,zzfx:L}=e;const R=Math.max(X-a-o,0);typeof i=="string"&&(i=Er(i)),!s&&typeof i=="number"&&(s=E5(i)),n=n.replace("z_","");const B=["sine","triangle","sawtooth","tan","noise"].indexOf(n)||0;d=n==="square"?0:d;const N=zX(...L||[.25,r,s,a,R,l,B,d,m,f,b,g,P,A,x,E,V,c,o,S]),ee=Ge(),Y=ee.createBuffer(1,N.length,ee.sampleRate);Y.getChannelData(0).set(N);const K=Ge().createBufferSource();return K.buffer=Y,K.start(t),{node:K}};function y9(){["zzfx","z_sine","z_sawtooth","z_triangle","z_square","z_tan","z_noise"].forEach(e=>{jt(e,(t,n,i)=>{const{node:s}=py({s:e,...n},t);return un(s,()=>{Ee(s),i()}),{node:s,nodes:{source:[s]},stop:()=>{}}},{type:"synth",prebake:!0})})}let Ni;async function my(e,t){const n=`dsp-worklet-${Date.now()}`,i=`${t}
let __q = []; // trigger queue
class MyProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
    this.t = 0;
    this.stopped = false;
    this.port.onmessage = (e) => {
      if(e.data==='stop') {
        this.stopped = true;
      } else if(e.data?.dough) {
        __q.push(e.data)
      } else {
        msg?.(e.data)
      }
    };
  }
  process(inputs, outputs, parameters) {
    const output = outputs[0];
    if(__q.length) {
      for(let i=0;i<__q.length;++i) {
        const deadline = __q[i].time-currentTime;
        if(deadline<=0) {
          trigger(__q[i].dough)
          __q.splice(i,1)
        }
      }
    }
    for (let i = 0; i < output[0].length; i++) {
      const out = dsp(this.t / sampleRate);
      output.forEach((channel) => {
        channel[i] = out;
      });
      this.t++;
    }
  return !this.stopped;
  }
}
registerProcessor('${n}', MyProcessor);
`,r=`data:text/javascript;base64,${btoa(i)}`;await e.audioWorklet.addModule(r);const a=new AudioWorkletNode(e,n);return{node:a,stop:()=>a.port.postMessage("stop")}}const g9=()=>{Ni&&(Ni?.stop(),Ni?.node?.disconnect())};typeof window<"u"&&window.addEventListener("message",e=>{e.data==="strudel-stop"?g9():e.data?.dough&&Ni?.node.port.postMessage(e.data)});const b9=async e=>{const t=Ge();g9(),Ni=await my(t,e),Ni.node.connect(t.destination)};function fy(e,t,n,i){window.postMessage({time:i,dough:e.value,currentTime:t,duration:e.duration,cps:n})}let Ls;function NX(){const e=Ge();Ls=Xt(e,"dough-processor",{},{outputChannelCount:[2]}),uy(Ls)}const Yr=new Map,M9=new Map;_.prototype.supradough=function(){return this.onTrigger((e,t,n,i)=>{e.value._begin=i,e.value._duration=e.duration/n,!Ls&&NX();const s=(e.value.bank?e.value.bank+"_":"")+e.value.s,r=e.value.n??0,a=`${s}:${r}`;if(Yr.has(s)&&(e.value.s=a),Yr.has(s)&&!M9.has(a)){const o=Yr.get(s),c=o[r%o.length];console.log(`load ${a} from ${c}`);const l=IX(c);M9.set(a,l),l.then(({channels:d,sampleRate:m})=>Ls.port.postMessage({sample:a,channels:d,sampleRate:m}))}Ls.port.postMessage({spawn:e.value})},1)};function WX(e,t=""){if(!e.startsWith("github:"))throw new Error('expected "github:" at the start of pseudoUrl');let[n,i]=e.split("github:");return i=i.endsWith("/")?i.slice(0,-1):i,i.split("/").length===2&&(i+="/main"),`https://raw.githubusercontent.com/${i}/${t}`}async function TX(e){if(e.startsWith("github:")&&(e=WX(e,"strudel.json")),e.startsWith("local:")&&(e="http://localhost:5432"),e.startsWith("shabda:")){let[i,s]=e.split("shabda:");e=`https://shabda.ndre.gr/${s}.json?strudel=1`}if(e.startsWith("shabda/speech")){let[i,s]=e.split("shabda/speech");s=s.startsWith("/")?s.substring(1):s;let[r,a]=s.split(":"),o="f",c="en-GB";r&&([c,o]=r.split("/")),e=`https://shabda.ndre.gr/speech/${a}.json?gender=${o}&language=${c}&strudel=1'`}if(typeof fetch!="function")return;const t=e.split("/").slice(0,-1).join("/");if(typeof fetch>"u")return;const n=await fetch(e).then(i=>i.json()).catch(i=>{throw console.error(i),new Error(`error loading "${e}"`)});return[n,n._base||t]}async function IX(e){const t=await fetch(e).then(i=>i.arrayBuffer()).then(i=>Ge().decodeAudioData(i));let n=[];for(let i=0;i<t.numberOfChannels;i++)n.push(t.getChannelData(i));return{channels:n,sampleRate:t.sampleRate}}async function yy(e,t){if(typeof e=="string"){const[n,i]=await TX(e);return yy(n,i)}Object.entries(e).map(async([n,i])=>{n!=="_base"&&(i=i.map(s=>t+s),Yr.set(n,i))})}const _X="data:text/javascript;base64,dmFyIGh0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgbnQ9KHUsbSxmKT0+bSBpbiB1P2h0KHUsbSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6Zn0pOnVbbV09Zjt2YXIgZT0odSxtLGYpPT5udCh1LHR5cGVvZiBtIT0ic3ltYm9sIj9tKyIiOm0sZik7KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NvbnN0IHU9dHlwZW9mIHNhbXBsZVJhdGU8InUiP3NhbXBsZVJhdGU6NDhlMyxtPU1hdGguUEkvdSxmPTEvdTtsZXQgVj1oPT5NYXRoLnBvdyhoLDIpO2NvbnN0IE89KGgscyx0KT0+TWF0aC5taW4oTWF0aC5tYXgoaCxzKSx0KTtmdW5jdGlvbiBfKGgpe3JldHVybiBWKGgpfWZ1bmN0aW9uIFQoaCxzLHQpe2NvbnN0IGk9TWF0aC5zaW4oKDEtdCkqLjUqTWF0aC5QSSksbj1NYXRoLnNpbih0Ki41Kk1hdGguUEkpO3JldHVybiBoKmkrcypufWNsYXNzIGd7Y29uc3RydWN0b3IoKXtlKHRoaXMsInBoYXNlIiwwKX11cGRhdGUocyl7Y29uc3QgdD1NYXRoLnNpbih0aGlzLnBoYXNlKjIqTWF0aC5QSSk7cmV0dXJuIHRoaXMucGhhc2U9KHRoaXMucGhhc2Urcy91KSUxLHR9fWNsYXNzIEl7Y29uc3RydWN0b3IoKXtlKHRoaXMsInBoYXNlIiwwKX11cGRhdGUocyl7cmV0dXJuIHRoaXMucGhhc2UrPWYqcyx0aGlzLnBoYXNlJTEqMi0xfX1mdW5jdGlvbiBNKGgscyl7cmV0dXJuIGg8cz8oaC89cyxoK2gtaCpoLTEpOmg+MS1zPyhoPShoLTEpL3MsaCpoK2graCsxKTowfWNsYXNzIFN7Y29uc3RydWN0b3Iocz17fSl7dGhpcy5waGFzZT1zLnBoYXNlPz8wfXVwZGF0ZShzKXtjb25zdCB0PXMvdTtsZXQgaT1NKHRoaXMucGhhc2UsdCksbj0yKnRoaXMucGhhc2UtMS1pO3JldHVybiB0aGlzLnBoYXNlKz10LHRoaXMucGhhc2U+MSYmKHRoaXMucGhhc2UtPTEpLG59fWZ1bmN0aW9uIHooaCxzLHQpe3JldHVybiBoPDI/MDooKG4sbCxyKT0+cioobC1uKStuKSgtcyouNSxzKi41LHQvKGgtMSkpfWZ1bmN0aW9uIEYoaCxzKXtyZXR1cm4gaCpNYXRoLnBvdygyLHMvMTIpfWNsYXNzIEx7Y29uc3RydWN0b3Iocz17fSl7dGhpcy52b2ljZXM9cy52b2ljZXM/PzUsdGhpcy5mcmVxc3ByZWFkPXMuZnJlcXNwcmVhZD8/LjIsdGhpcy5wYW5zcHJlYWQ9cy5wYW5zcHJlYWQ/Py40LHRoaXMucGhhc2U9bmV3IEZsb2F0MzJBcnJheSh0aGlzLnZvaWNlcykubWFwKCgpPT5NYXRoLnJhbmRvbSgpKX11cGRhdGUocyl7Y29uc3QgdD1NYXRoLnNxcnQoMS10aGlzLnBhbnNwcmVhZCksaT1NYXRoLnNxcnQodGhpcy5wYW5zcHJlYWQpO2xldCBuPTAsbD0wO2ZvcihsZXQgcj0wO3I8dGhpcy52b2ljZXM7cisrKXtjb25zdCBhPUYocyx6KHRoaXMudm9pY2VzLHRoaXMuZnJlcXNwcmVhZCxyKSkvdSxjPShyJjEpPT0xO2xldCBkPXQ7YyYmKGQ9aSk7bGV0IGI9TSh0aGlzLnBoYXNlW3JdLGEpLEU9Mip0aGlzLnBoYXNlW3JdLTEtYjtuPW4rRSpkLGw9bCtFKmQsdGhpcy5waGFzZVtyXSs9YSx0aGlzLnBoYXNlW3JdPjEmJih0aGlzLnBoYXNlW3JdLT0xKX1yZXR1cm4gbitsfX1jbGFzcyBre2NvbnN0cnVjdG9yKCl7ZSh0aGlzLCJwaGFzZSIsMCl9dXBkYXRlKHMpe3RoaXMucGhhc2UrPWYqcztsZXQgdD10aGlzLnBoYXNlJTE7cmV0dXJuKHQ8LjU/Mip0OjEtMioodC0uNSkpKjItMX19Y2xhc3MgcXtjb25zdHJ1Y3Rvcigpe2UodGhpcywiczAiLDApO2UodGhpcywiczEiLDApfXVwZGF0ZShzLHQsaT0wKXtpPU1hdGgubWF4KGksMCksdD1NYXRoLm1pbih0LDJlNCk7bGV0IG49MipNYXRoLnNpbih0Km0pO249TyhuLDAsMS4xNCk7Y29uc3Qgcj0xLU1hdGgucG93KC41LChpKy4xMjUpLy4xMjUpKm47cmV0dXJuIHRoaXMuczA9cip0aGlzLnMwLW4qdGhpcy5zMStuKnMsdGhpcy5zMT1yKnRoaXMuczErbip0aGlzLnMwLHRoaXMuczF9fWNsYXNzIEN7Y29uc3RydWN0b3Iocz0wKXt0aGlzLnBoYXNlPXN9c2F3KHMsdCl7bGV0IGk9KHRoaXMucGhhc2UrcyklMSxuPU0oaSx0KTtyZXR1cm4gMippLTEtbn11cGRhdGUocyx0PS41KXtjb25zdCBpPXMvdTtsZXQgbj10aGlzLnNhdygwLGkpLXRoaXMuc2F3KHQsaSk7cmV0dXJuIHRoaXMucGhhc2U9KHRoaXMucGhhc2UraSklMSxuK3QqMi0xfX1jbGFzcyBOe2NvbnN0cnVjdG9yKCl7ZSh0aGlzLCJwaGFzZSIsMCl9dXBkYXRlKHMsdD0uNSl7cmV0dXJuIHRoaXMucGhhc2UrPWYqcyx0aGlzLnBoYXNlJTE8dD8xOi0xfX1jbGFzcyBQe2NvbnN0cnVjdG9yKCl7ZSh0aGlzLCJ1cGRhdGUiLHM9Pk1hdGgucmFuZG9tKCk8cypmP01hdGgucmFuZG9tKCk6MCl9fWNsYXNzIEd7dXBkYXRlKCl7cmV0dXJuIE1hdGgucmFuZG9tKCkqMi0xfX1jbGFzcyBqe2NvbnN0cnVjdG9yKCl7dGhpcy5vdXQ9MH11cGRhdGUoKXtsZXQgcz1NYXRoLnJhbmRvbSgpKjItMTtyZXR1cm4gdGhpcy5vdXQ9KHRoaXMub3V0Ky4wMipzKS8xLjAyLHRoaXMub3V0fX1jbGFzcyBCe2NvbnN0cnVjdG9yKCl7dGhpcy5iMD0wLHRoaXMuYjE9MCx0aGlzLmIyPTAsdGhpcy5iMz0wLHRoaXMuYjQ9MCx0aGlzLmI1PTAsdGhpcy5iNj0wfXVwZGF0ZSgpe2NvbnN0IHM9TWF0aC5yYW5kb20oKSoyLTE7dGhpcy5iMD0uOTk4ODYqdGhpcy5iMCtzKi4wNTU1MTc5LHRoaXMuYjE9Ljk5MzMyKnRoaXMuYjErcyouMDc1MDc1OSx0aGlzLmIyPS45NjkqdGhpcy5iMitzKi4xNTM4NTIsdGhpcy5iMz0uODY2NSp0aGlzLmIzK3MqLjMxMDQ4NTYsdGhpcy5iND0uNTUqdGhpcy5iNCtzKi41MzI5NTIyLHRoaXMuYjU9LS43NjE2KnRoaXMuYjUtcyouMDE2ODk4O2NvbnN0IHQ9dGhpcy5iMCt0aGlzLmIxK3RoaXMuYjIrdGhpcy5iMyt0aGlzLmI0K3RoaXMuYjUrdGhpcy5iNitzKi41MzYyO3JldHVybiB0aGlzLmI2PXMqLjExNTkyNix0Ki4xMX19Y2xhc3MgJHtjb25zdHJ1Y3Rvcigpe2UodGhpcywicGhhc2UiLDEpfXVwZGF0ZShzKXt0aGlzLnBoYXNlKz1mKnM7bGV0IHQ9dGhpcy5waGFzZT49MT8xOjA7cmV0dXJuIHRoaXMucGhhc2U9dGhpcy5waGFzZSUxLHR9fWZ1bmN0aW9uIHgoaCxzLHQsaT0xKXtpZihoPD0wKXJldHVybiBzO2lmKGg+PTEpcmV0dXJuIHQ7bGV0IG47cmV0dXJuIGk9PT0wP249aDppPjA/bj1NYXRoLnBvdyhoLGkpOm49MS1NYXRoLnBvdygxLWgsLWkpLHMrKHQtcykqbn1jbGFzcyB2e2NvbnN0cnVjdG9yKHM9e30pe3RoaXMuc3RhdGU9Im9mZiIsdGhpcy5zdGFydFRpbWU9MCx0aGlzLnN0YXJ0VmFsPTAsdGhpcy5kZWNheUN1cnZlPXMuZGVjYXlDdXJ2ZT8/MX11cGRhdGUocyx0LGksbixsLHIpe3N3aXRjaCh0aGlzLnN0YXRlKXtjYXNlIm9mZiI6cmV0dXJuIHQ+MCYmKHRoaXMuc3RhdGU9ImF0dGFjayIsdGhpcy5zdGFydFRpbWU9cyx0aGlzLnN0YXJ0VmFsPTApLDA7Y2FzZSJhdHRhY2siOntsZXQgcD1zLXRoaXMuc3RhcnRUaW1lO3JldHVybiBwPmk/KHRoaXMuc3RhdGU9ImRlY2F5Iix0aGlzLnN0YXJ0VGltZT1zLDEpOngocC9pLHRoaXMuc3RhcnRWYWwsMSwxKX1jYXNlImRlY2F5Ijp7bGV0IHA9cy10aGlzLnN0YXJ0VGltZSxhPXgocC9uLDEsbCwtdGhpcy5kZWNheUN1cnZlKTtyZXR1cm4gdDw9MD8odGhpcy5zdGF0ZT0icmVsZWFzZSIsdGhpcy5zdGFydFRpbWU9cyx0aGlzLnN0YXJ0VmFsPWEsYSk6cD5uPyh0aGlzLnN0YXRlPSJzdXN0YWluIix0aGlzLnN0YXJ0VGltZT1zLGwpOmF9Y2FzZSJzdXN0YWluIjpyZXR1cm4gdDw9MCYmKHRoaXMuc3RhdGU9InJlbGVhc2UiLHRoaXMuc3RhcnRUaW1lPXMsdGhpcy5zdGFydFZhbD1sKSxsO2Nhc2UicmVsZWFzZSI6e2xldCBwPXMtdGhpcy5zdGFydFRpbWU7aWYocD5yKXJldHVybiB0aGlzLnN0YXRlPSJvZmYiLDA7bGV0IGE9eChwL3IsdGhpcy5zdGFydFZhbCwwLC10aGlzLmRlY2F5Q3VydmUpO3JldHVybiB0PjAmJih0aGlzLnN0YXRlPSJhdHRhY2siLHRoaXMuc3RhcnRUaW1lPXMsdGhpcy5zdGFydFZhbD1hKSxhfX10aHJvdyJpbnZhbGlkIGVudmVsb3BlIHN0YXRlIn19Y29uc3QgVz0xMDtjbGFzcyBSe2NvbnN0cnVjdG9yKCl7ZSh0aGlzLCJ3cml0ZUlkeCIsMCk7ZSh0aGlzLCJyZWFkSWR4IiwwKTtlKHRoaXMsImJ1ZmZlciIsbmV3IEZsb2F0MzJBcnJheShXKnUpKX13cml0ZShzLHQpe3RoaXMud3JpdGVJZHg9KHRoaXMud3JpdGVJZHgrMSkldGhpcy5idWZmZXIubGVuZ3RoLHRoaXMuYnVmZmVyW3RoaXMud3JpdGVJZHhdPXM7bGV0IGk9TWF0aC5taW4oTWF0aC5mbG9vcih1KnQpLHRoaXMuYnVmZmVyLmxlbmd0aC0xKTt0aGlzLnJlYWRJZHg9dGhpcy53cml0ZUlkeC1pLHRoaXMucmVhZElkeDwwJiYodGhpcy5yZWFkSWR4Kz10aGlzLmJ1ZmZlci5sZW5ndGgpfXVwZGF0ZShzLHQpe3JldHVybiB0aGlzLndyaXRlKHMsdCksdGhpcy5idWZmZXJbdGhpcy5yZWFkSWR4XX19Y2xhc3MgWHtjb25zdHJ1Y3Rvcigpe2UodGhpcywiZGVsYXkiLG5ldyBSKTtlKHRoaXMsIm1vZHVsYXRvciIsbmV3IGspfXVwZGF0ZShzLHQsaSxuLGwpe2NvbnN0IHI9dGhpcy5tb2R1bGF0b3IudXBkYXRlKG4pKmwscD10aGlzLmRlbGF5LnVwZGF0ZShzLGkqKDErcikpO3JldHVybiBUKHMscCx0KX19Y2xhc3MgVXtjb25zdHJ1Y3Rvcigpe2UodGhpcywiaG9sZCIsMCk7ZSh0aGlzLCJ0IiwwKX11cGRhdGUocyx0KXtyZXR1cm4gdGhpcy50KysldD09PTAmJih0aGlzLnQ9MCx0aGlzLmhvbGQ9cyksdGhpcy5ob2xkfX1jbGFzcyBZe3VwZGF0ZShzLHQpe3Q9TWF0aC5tYXgoMSx0KTtjb25zdCBpPU1hdGgucG93KDIsdC0xKTtyZXR1cm4gTWF0aC5yb3VuZChzKmkpL2l9fWNsYXNzIFp7dXBkYXRlKHMsdD0wLGk9MSl7aT1NYXRoLm1heCguMDAxLE1hdGgubWluKDEsaSkpO2NvbnN0IG49TWF0aC5leHBtMSh0KTtyZXR1cm4oMStuKSpzLygxK24qTWF0aC5hYnMocykpKml9fWNsYXNzIHd7Y29uc3RydWN0b3Iocyx0LGkpe2UodGhpcywiYnVmZmVyIik7ZSh0aGlzLCJzYW1wbGVSYXRlIik7ZSh0aGlzLCJwb3MiLDApO2UodGhpcywic2FtcGxlRnJlcSIsQSgpKTt0aGlzLmJ1ZmZlcj1zLHRoaXMuc2FtcGxlUmF0ZT10LHRoaXMuZHVyYXRpb249dGhpcy5idWZmZXIubGVuZ3RoL3RoaXMuc2FtcGxlUmF0ZSx0aGlzLnNwZWVkPXUvdGhpcy5zYW1wbGVSYXRlLGkmJih0aGlzLnNwZWVkKj10aGlzLmR1cmF0aW9uKX11cGRhdGUocyl7aWYodGhpcy5wb3M+PXRoaXMuYnVmZmVyLmxlbmd0aClyZXR1cm4gMDtjb25zdCB0PXMvdGhpcy5zYW1wbGVGcmVxKnRoaXMuc3BlZWQ7bGV0IGk9dGhpcy5idWZmZXJbTWF0aC5mbG9vcih0aGlzLnBvcyldO3JldHVybiB0aGlzLnBvcz10aGlzLnBvcyt0LGl9fWUodywic2FtcGxlcyIsbmV3IE1hcCk7Y29uc3QgeT0oaCxzPSJsaW5lYXIiLHQpPT57Y29uc3RbcixwLGEsY109aDtpZihyPT1udWxsJiZwPT1udWxsJiZhPT1udWxsJiZjPT1udWxsKXJldHVybiB0Pz9bLjAwMSwuMDAxLDEsLjAxXTtjb25zdCBkPWE/PyhyIT1udWxsJiZwPT1udWxsfHxyPT1udWxsJiZwPT1udWxsPzE6LjAwMSk7cmV0dXJuW01hdGgubWF4KHI/PzAsLjAwMSksTWF0aC5tYXgocD8/MCwuMDAxKSxNYXRoLm1pbihkLDEpLE1hdGgubWF4KGM/PzAsLjAxKV19O2xldCBEPXtzaW5lOmcsc2F3OlMsemF3Okksc2F3dG9vdGg6Uyx6YXd0b290aDpJLHN1cGVyc2F3OkwsdHJpOmssdHJpYW5nbGU6ayxwdWxzZTpDLHNxdWFyZTpDLHB1bHplOk4sZHVzdDpQLGNyYWNrbGU6UCxpbXB1bHNlOiQsd2hpdGU6Ryxicm93bjpqLHBpbms6Qn07Y29uc3QgSD17Y2hvcnVzOjAsbm90ZTo0OCxzOiJ0cmlhbmdsZSIsYmFuazoiIixnYWluOjEscG9zdGdhaW46MSx2ZWxvY2l0eToxLGRlbnNpdHk6Ii4wMyIsZnR5cGU6IjEyZGIiLGZhbmNob3I6MCxyZXNvbmFuY2U6MCxocmVzb25hbmNlOjAsYmFuZHE6MCxjaGFubmVsczpbMSwyXSxwaGFzZXJkZXB0aDouNzUsc2hhcGV2b2w6MSxkaXN0b3J0dm9sOjEsZGVsYXk6MCxieXRlQmVhdEV4cHJlc3Npb246IjAiLGRlbGF5ZmVlZGJhY2s6LjUsZGVsYXlzcGVlZDoxLGRlbGF5dGltZTouMjUsb3JiaXQ6MSxpOjEsZmZ0OjgsejoidHJpYW5nbGUiLHBhbjouNSxmbWg6MSxmbWVudjowLHNwZWVkOjEscHc6LjV9O2xldCBvPWg9PkhbaF07Y29uc3QgSj17YzowLGQ6MixlOjQsZjo1LGc6NyxhOjksYjoxMX0sSz17IiMiOjEsYjotMSxzOjEsZjotMX0sUT0oaCxzPTMpPT57dmFyIGE7bGV0W3QsaT0iIixuPSIiXT0oKGE9U3RyaW5nKGgpLm1hdGNoKC9eKFthLWdBLUddKShbI2JzZl0qKShbMC05XSopJC8pKT09bnVsbD92b2lkIDA6YS5zbGljZSgxKSl8fFtdO2lmKCF0KXRocm93IG5ldyBFcnJvcignbm90IGEgbm90ZTogIicraCsnIicpO2NvbnN0IGw9Slt0LnRvTG93ZXJDYXNlKCldLHI9KGk9PW51bGw/dm9pZCAwOmkuc3BsaXQoIiIpLnJlZHVjZSgoYyxkKT0+YytLW2RdLDApKXx8MDtyZXR1cm4oTnVtYmVyKG58fHMpKzEpKjEyK2wrcn0sdHQ9aD0+TWF0aC5wb3coMiwoaC02OSkvMTIpKjQ0MCxBPWg9PihoPWh8fG8oIm5vdGUiKSx0eXBlb2YgaD09InN0cmluZyImJihoPVEoaCwzKSksdHQoaCkpO2NsYXNzIHN0e2NvbnN0cnVjdG9yKHMpe2UodGhpcywiaWQiLDApO2UodGhpcywib3V0IixbMCwwXSk7ZSh0aGlzLCJhdHRhY2siKTtlKHRoaXMsImRlY2F5Iik7ZSh0aGlzLCJzdXN0YWluIik7ZSh0aGlzLCJyZWxlYXNlIik7ZSh0aGlzLCJfYmVnaW4iKTtlKHRoaXMsIl9kdXJhdGlvbiIpO2UodGhpcywiX3NvdW5kIik7ZSh0aGlzLCJfY2hhbm5lbHMiLDEpO2UodGhpcywiX2J1ZmZlcnMiKTtlKHRoaXMsInVuaXQiKTtlKHRoaXMsIl9wZW52Iik7ZSh0aGlzLCJwZW52Iik7ZSh0aGlzLCJwYXR0YWNrIik7ZSh0aGlzLCJwZGVjYXkiKTtlKHRoaXMsInBzdXN0YWluIik7ZSh0aGlzLCJwcmVsZWFzZSIpO2UodGhpcywidmliIik7ZSh0aGlzLCJfdmliIik7ZSh0aGlzLCJ2aWJtb2QiKTtlKHRoaXMsIl9mbSIpO2UodGhpcywiZm1oIik7ZSh0aGlzLCJmbWkiKTtlKHRoaXMsIl9mbWVudiIpO2UodGhpcywiZm1hdHRhY2siKTtlKHRoaXMsImZtZGVjYXkiKTtlKHRoaXMsImZtc3VzdGFpbiIpO2UodGhpcywiZm1yZWxlYXNlIik7ZSh0aGlzLCJfbHBlbnYiKTtlKHRoaXMsImxwZW52Iik7ZSh0aGlzLCJscGF0dGFjayIpO2UodGhpcywibHBkZWNheSIpO2UodGhpcywibHBzdXN0YWluIik7ZSh0aGlzLCJscHJlbGVhc2UiKTtlKHRoaXMsIl9ocGVudiIpO2UodGhpcywiaHBlbnYiKTtlKHRoaXMsImhwYXR0YWNrIik7ZSh0aGlzLCJocGRlY2F5Iik7ZSh0aGlzLCJocHN1c3RhaW4iKTtlKHRoaXMsImhwcmVsZWFzZSIpO2UodGhpcywiX2JwZW52Iik7ZSh0aGlzLCJicGVudiIpO2UodGhpcywiYnBhdHRhY2siKTtlKHRoaXMsImJwZGVjYXkiKTtlKHRoaXMsImJwc3VzdGFpbiIpO2UodGhpcywiYnByZWxlYXNlIik7ZSh0aGlzLCJjdXRvZmYiKTtlKHRoaXMsImhjdXRvZmYiKTtlKHRoaXMsImJhbmRmIik7ZSh0aGlzLCJjb2Fyc2UiKTtlKHRoaXMsImNydXNoIik7ZSh0aGlzLCJkaXN0b3J0Iik7ZSh0aGlzLCJmcmVxIik7ZSh0aGlzLCJub3RlIik7ZSh0aGlzLCJfbHBmIik7ZSh0aGlzLCJfaHBmIik7ZSh0aGlzLCJfYnBmIik7ZSh0aGlzLCJfY2hvcnVzIik7ZSh0aGlzLCJfY29hcnNlIik7ZSh0aGlzLCJfY3J1c2giKTtlKHRoaXMsIl9kaXN0b3J0Iik7dmFyIGksbixsLHIscCxhLGM7dGhpcy5mcmVxPz8odGhpcy5mcmVxPUEocy5ub3RlKSksdGhpcy5fYmVnaW49cy5fYmVnaW4sdGhpcy5fZHVyYXRpb249cy5fZHVyYXRpb24sdGhpcy5yZWxlYXNlPXMucmVsZWFzZT8/MDtsZXQgdD10aGlzO2lmKE9iamVjdC5hc3NpZ24odCxzKSx0LnM9dC5zPz9vKCJzIiksdC5nYWluPV8odC5nYWluPz9vKCJnYWluIikpLHQudmVsb2NpdHk9Xyh0LnZlbG9jaXR5Pz9vKCJ2ZWxvY2l0eSIpKSx0LnBvc3RnYWluPV8odC5wb3N0Z2Fpbj8/bygicG9zdGdhaW4iKSksdC5kZW5zaXR5PXQuZGVuc2l0eT8/bygiZGVuc2l0eSIpLHQuZmFuY2hvcj10LmZhbmNob3I/P28oImZhbmNob3IiKSx0LmRyaXZlPXQuZHJpdmU/Py42OSx0LnBoYXNlcmRlcHRoPXQucGhhc2VyZGVwdGg/P28oInBoYXNlcmRlcHRoIiksdC5zaGFwZXZvbD1fKHQuc2hhcGV2b2w/P28oInNoYXBldm9sIikpLHQuZGlzdG9ydHZvbD1fKHQuZGlzdG9ydHZvbD8/bygiZGlzdG9ydHZvbCIpKSx0Lmk9dC5pPz9vKCJpIiksdC5jaG9ydXM9dC5jaG9ydXM/P28oImNob3J1cyIpLHQuZmZ0PXQuZmZ0Pz9vKCJmZnQiKSx0LnBhbj10LnBhbj8/bygicGFuIiksdC5vcmJpdD10Lm9yYml0Pz9vKCJvcmJpdCIpLHQuZm1lbnY9dC5mbWVudj8/bygiZm1lbnYiKSx0LnJlc29uYW5jZT10LnJlc29uYW5jZT8/bygicmVzb25hbmNlIiksdC5ocmVzb25hbmNlPXQuaHJlc29uYW5jZT8/bygiaHJlc29uYW5jZSIpLHQuYmFuZHE9dC5iYW5kcT8/bygiYmFuZHEiKSx0LnNwZWVkPXQuc3BlZWQ/P28oInNwZWVkIiksdC5wdz10LnB3Pz9vKCJwdyIpLFt0LmF0dGFjayx0LmRlY2F5LHQuc3VzdGFpbix0LnJlbGVhc2VdPXkoW3QuYXR0YWNrLHQuZGVjYXksdC5zdXN0YWluLHQucmVsZWFzZV0pLHQuX2hvbGRFbmQ9dC5fYmVnaW4rdC5fZHVyYXRpb24sdC5fZW5kPXQuX2hvbGRFbmQrdC5yZWxlYXNlKy4wMSx0LmZtaSYmKHQucz09PSJzYXcifHx0LnM9PT0ic2F3dG9vdGgiKSYmKHQucz0iemF3IiksRFt0LnNdKXtjb25zdCBkPURbdC5zXTt0Ll9zb3VuZD1uZXcgZCx0Ll9jaGFubmVscz0xfWVsc2UgaWYody5zYW1wbGVzLmhhcyh0LnMpKXtjb25zdCBkPXcuc2FtcGxlcy5nZXQodC5zKTt0Ll9idWZmZXJzPVtdLHQuX2NoYW5uZWxzPWQuY2hhbm5lbHMubGVuZ3RoO2ZvcihsZXQgYj0wO2I8dC5fY2hhbm5lbHM7YisrKXQuX2J1ZmZlcnMucHVzaChuZXcgdyhkLmNoYW5uZWxzW2JdLGQuc2FtcGxlUmF0ZSx0LnVuaXQ9PT0iYyIpKX1lbHNlIGNvbnNvbGUud2Fybigic291bmQgbm90IGxvYWRlZCIsdC5zKTt0LnBlbnYmJih0Ll9wZW52PW5ldyB2KHtkZWNheUN1cnZlOjR9KSxbdC5wYXR0YWNrLHQucGRlY2F5LHQucHN1c3RhaW4sdC5wcmVsZWFzZV09eShbdC5wYXR0YWNrLHQucGRlY2F5LHQucHN1c3RhaW4sdC5wcmVsZWFzZV0pKSx0LnZpYiYmKHQuX3ZpYj1uZXcgZyx0LnZpYm1vZD10LnZpYm1vZD8/bygidmlibW9kIikpLHQuZm1pJiYodC5fZm09bmV3IGcsdC5mbWg9dC5mbWg/P28oImZtaCIpLHQuZm1lbnYmJih0Ll9mbWVudj1uZXcgdih7ZGVjYXlDdXJ2ZToyfSksW3QuZm1hdHRhY2ssdC5mbWRlY2F5LHQuZm1zdXN0YWluLHQuZm1yZWxlYXNlXT15KFt0LmZtYXR0YWNrLHQuZm1kZWNheSx0LmZtc3VzdGFpbix0LmZtcmVsZWFzZV0pKSksdC5fYWRzcj1uZXcgdih7ZGVjYXlDdXJ2ZToyfSksdC5kZWxheT1fKHQuZGVsYXk/P28oImRlbGF5IikpLHQuZGVsYXlmZWVkYmFjaz10LmRlbGF5ZmVlZGJhY2s/P28oImRlbGF5ZmVlZGJhY2siKSx0LmRlbGF5c3BlZWQ9dC5kZWxheXNwZWVkPz9vKCJkZWxheXNwZWVkIiksdC5kZWxheXRpbWU9dC5kZWxheXRpbWU/P28oImRlbGF5dGltZSIpLHQubHBlbnYmJih0Ll9scGVudj1uZXcgdih7ZGVjYXlDdXJ2ZTo0fSksW3QubHBhdHRhY2ssdC5scGRlY2F5LHQubHBzdXN0YWluLHQubHByZWxlYXNlXT15KFt0LmxwYXR0YWNrLHQubHBkZWNheSx0Lmxwc3VzdGFpbix0LmxwcmVsZWFzZV0pKSx0LmhwZW52JiYodC5faHBlbnY9bmV3IHYoe2RlY2F5Q3VydmU6NH0pLFt0LmhwYXR0YWNrLHQuaHBkZWNheSx0Lmhwc3VzdGFpbix0LmhwcmVsZWFzZV09eShbdC5ocGF0dGFjayx0LmhwZGVjYXksdC5ocHN1c3RhaW4sdC5ocHJlbGVhc2VdKSksdC5icGVudiYmKHQuX2JwZW52PW5ldyB2KHtkZWNheUN1cnZlOjR9KSxbdC5icGF0dGFjayx0LmJwZGVjYXksdC5icHN1c3RhaW4sdC5icHJlbGVhc2VdPXkoW3QuYnBhdHRhY2ssdC5icGRlY2F5LHQuYnBzdXN0YWluLHQuYnByZWxlYXNlXSkpLHQuX2Nob3J1cz10LmNob3J1cz9bXTpudWxsLHQuX2xwZj10LmN1dG9mZj9bXTpudWxsLHQuX2hwZj10LmhjdXRvZmY/W106bnVsbCx0Ll9icGY9dC5iYW5kZj9bXTpudWxsLHQuX2NvYXJzZT10LmNvYXJzZT9bXTpudWxsLHQuX2NydXNoPXQuY3J1c2g/W106bnVsbCx0Ll9kaXN0b3J0PXQuZGlzdG9ydD9bXTpudWxsO2ZvcihsZXQgZD0wO2Q8dGhpcy5fY2hhbm5lbHM7ZCsrKShpPXQuX2xwZik9PW51bGx8fGkucHVzaChuZXcgcSksKG49dC5faHBmKT09bnVsbHx8bi5wdXNoKG5ldyBxKSwobD10Ll9icGYpPT1udWxsfHxsLnB1c2gobmV3IHEpLChyPXQuX2Nob3J1cyk9PW51bGx8fHIucHVzaChuZXcgWCksKHA9dC5fY29hcnNlKT09bnVsbHx8cC5wdXNoKG5ldyBVKSwoYT10Ll9jcnVzaCk9PW51bGx8fGEucHVzaChuZXcgWSksKGM9dC5fZGlzdG9ydCk9PW51bGx8fGMucHVzaChuZXcgWil9dXBkYXRlKHMpe2lmKCF0aGlzLl9zb3VuZCYmIXRoaXMuX2J1ZmZlcnMpcmV0dXJuIDA7bGV0IHQ9KyhzPj10aGlzLl9iZWdpbiYmczw9dGhpcy5faG9sZEVuZCksaT10aGlzLmZyZXEqdGhpcy5zcGVlZDtpZih0aGlzLl9mbSYmdGhpcy5mbWghPT12b2lkIDAmJnRoaXMuZm1pIT09dm9pZCAwKXtsZXQgYT10aGlzLmZtaTtpZih0aGlzLl9mbWVudil7Y29uc3QgYj10aGlzLl9mbWVudi51cGRhdGUocyx0LHRoaXMuZm1hdHRhY2ssdGhpcy5mbWRlY2F5LHRoaXMuZm1zdXN0YWluLHRoaXMuZm1yZWxlYXNlKTthPXRoaXMuZm1lbnYqYiphfWNvbnN0IGM9aSp0aGlzLmZtaCxkPWMqYTtpPWkrdGhpcy5fZm0udXBkYXRlKGMpKmR9aWYodGhpcy5fdmliJiZ0aGlzLnZpYm1vZCE9PXZvaWQgMCYmKGk9aSoyKioodGhpcy5fdmliLnVwZGF0ZSh0aGlzLnZpYikqdGhpcy52aWJtb2QvMTIpKSx0aGlzLl9wZW52JiZ0aGlzLnBlbnYhPT12b2lkIDApe2NvbnN0IGE9dGhpcy5fcGVudi51cGRhdGUocyx0LHRoaXMucGF0dGFjayx0aGlzLnBkZWNheSx0aGlzLnBzdXN0YWluLHRoaXMucHJlbGVhc2UpO2k9aSthKnRoaXMucGVudn1sZXQgbj10aGlzLmN1dG9mZjtpZihuIT09dm9pZCAwJiZ0aGlzLl9scGVudil7Y29uc3QgYT10aGlzLl9scGVudi51cGRhdGUocyx0LHRoaXMubHBhdHRhY2ssdGhpcy5scGRlY2F5LHRoaXMubHBzdXN0YWluLHRoaXMubHByZWxlYXNlKTtuPXRoaXMubHBlbnYqYSpuK259bGV0IGw9dGhpcy5oY3V0b2ZmO2lmKGwhPT12b2lkIDAmJnRoaXMuX2hwZW52JiZ0aGlzLmhwZW52IT09dm9pZCAwKXtjb25zdCBhPXRoaXMuX2hwZW52LnVwZGF0ZShzLHQsdGhpcy5ocGF0dGFjayx0aGlzLmhwZGVjYXksdGhpcy5ocHN1c3RhaW4sdGhpcy5ocHJlbGVhc2UpO2w9MioqdGhpcy5ocGVudiphKmwrbH1sZXQgcj10aGlzLmJhbmRmO2lmKHIhPT12b2lkIDAmJnRoaXMuX2JwZW52JiZ0aGlzLmJwZW52IT09dm9pZCAwKXtjb25zdCBhPXRoaXMuX2JwZW52LnVwZGF0ZShzLHQsdGhpcy5icGF0dGFjayx0aGlzLmJwZGVjYXksdGhpcy5icHN1c3RhaW4sdGhpcy5icHJlbGVhc2UpO3I9MioqdGhpcy5icGVudiphKnIrcn1jb25zdCBwPXRoaXMuX2Fkc3IudXBkYXRlKHMsdCx0aGlzLmF0dGFjayx0aGlzLmRlY2F5LHRoaXMuc3VzdGFpbix0aGlzLnJlbGVhc2UpO2ZvcihsZXQgYT0wO2E8dGhpcy5fY2hhbm5lbHM7YSsrKXtpZih0aGlzLl9zb3VuZCYmdGhpcy5zPT09InB1bHNlIj90aGlzLm91dFthXT10aGlzLl9zb3VuZC51cGRhdGUoaSx0aGlzLnB3KTp0aGlzLl9zb3VuZD90aGlzLm91dFthXT10aGlzLl9zb3VuZC51cGRhdGUoaSk6dGhpcy5fYnVmZmVycyYmKHRoaXMub3V0W2FdPXRoaXMuX2J1ZmZlcnNbYV0udXBkYXRlKGkpKSx0aGlzLm91dFthXT10aGlzLm91dFthXSp0aGlzLmdhaW4qdGhpcy52ZWxvY2l0eSx0aGlzLl9jaG9ydXMpe2NvbnN0IGM9dGhpcy5fY2hvcnVzW2FdLnVwZGF0ZSh0aGlzLm91dFthXSx0aGlzLmNob3J1cywuMDMrLjA1KmEsMSwuMTEpO3RoaXMub3V0W2FdPWMrdGhpcy5vdXRbYV19dGhpcy5fbHBmJiYodGhpcy5fbHBmW2FdLnVwZGF0ZSh0aGlzLm91dFthXSxuLHRoaXMucmVzb25hbmNlKSx0aGlzLm91dFthXT10aGlzLl9scGZbYV0uczEpLHRoaXMuX2hwZiYmKHRoaXMuX2hwZlthXS51cGRhdGUodGhpcy5vdXRbYV0sbCx0aGlzLmhyZXNvbmFuY2UpLHRoaXMub3V0W2FdPXRoaXMub3V0W2FdLXRoaXMuX2hwZlthXS5zMSksdGhpcy5fYnBmJiYodGhpcy5fYnBmW2FdLnVwZGF0ZSh0aGlzLm91dFthXSxyLHRoaXMuYmFuZHEpLHRoaXMub3V0W2FdPXRoaXMuX2JwZlthXS5zMCksdGhpcy5fY29hcnNlJiYodGhpcy5vdXRbYV09dGhpcy5fY29hcnNlW2FdLnVwZGF0ZSh0aGlzLm91dFthXSx0aGlzLmNvYXJzZSkpLHRoaXMuX2NydXNoJiYodGhpcy5vdXRbYV09dGhpcy5fY3J1c2hbYV0udXBkYXRlKHRoaXMub3V0W2FdLHRoaXMuY3J1c2gpKSx0aGlzLl9kaXN0b3J0JiYodGhpcy5vdXRbYV09dGhpcy5fZGlzdG9ydFthXS51cGRhdGUodGhpcy5vdXRbYV0sdGhpcy5kaXN0b3J0LHRoaXMuZGlzdG9ydHZvbCkpLHRoaXMub3V0W2FdPXRoaXMub3V0W2FdKnAsdGhpcy5vdXRbYV09dGhpcy5vdXRbYV0qdGhpcy5wb3N0Z2Fpbix0aGlzLl9idWZmZXJzfHwodGhpcy5vdXRbYV09dGhpcy5vdXRbYV0qLjIpfWlmKHRoaXMuX2NoYW5uZWxzPT09MSYmKHRoaXMub3V0WzFdPXRoaXMub3V0WzBdKSx0aGlzLnBhbiE9PS41KXtjb25zdCBhPXRoaXMucGFuKk1hdGguUEkvMjt0aGlzLm91dFswXT10aGlzLm91dFswXSpNYXRoLmNvcyhhKSx0aGlzLm91dFsxXT10aGlzLm91dFsxXSpNYXRoLnNpbihhKX19fWNsYXNzIGV0e2NvbnN0cnVjdG9yKHM9NDhlMyx0PTApe2UodGhpcywidm9pY2VzIixbXSk7ZSh0aGlzLCJ2aWQiLDApO2UodGhpcywicSIsW10pO2UodGhpcywib3V0IixbMCwwXSk7ZSh0aGlzLCJkZWxheXNlbmQiLFswLDBdKTtlKHRoaXMsImRlbGF5dGltZSIsbygiZGVsYXl0aW1lIikpO2UodGhpcywiZGVsYXlmZWVkYmFjayIsbygiZGVsYXlmZWVkYmFjayIpKTtlKHRoaXMsImRlbGF5c3BlZWQiLG8oImRlbGF5c3BlZWQiKSk7ZSh0aGlzLCJ0IiwwKTt0aGlzLnNhbXBsZVJhdGU9cyx0aGlzLnQ9TWF0aC5mbG9vcih0KnMpLHRoaXMuX2RlbGF5TD1uZXcgUix0aGlzLl9kZWxheVI9bmV3IFJ9bG9hZFNhbXBsZShzLHQsaSl7dy5zYW1wbGVzLnNldChzLHtjaGFubmVsczp0LHNhbXBsZVJhdGU6aX0pfXNjaGVkdWxlU3Bhd24ocyl7aWYocy5fYmVnaW49PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJbZG91Z2hdOiBzY2hlZHVsZVNwYXduIGV4cGVjdGVkIF9iZWdpbiB0byBiZSBzZXQiKTtpZihzLl9kdXJhdGlvbj09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIltkb3VnaF06IHNjaGVkdWxlU3Bhd24gZXhwZWN0ZWQgX2R1cmF0aW9uIHRvIGJlIHNldCIpO3Muc2FtcGxlUmF0ZT10aGlzLnNhbXBsZVJhdGU7Y29uc3QgdD1NYXRoLmZsb29yKHMuX2JlZ2luKnRoaXMuc2FtcGxlUmF0ZSk7dGhpcy5zY2hlZHVsZSh7dGltZTp0LHR5cGU6InNwYXduIixhcmc6c30pfXNwYXduKHMpe3MuaWQ9dGhpcy52aWQrKztjb25zdCB0PW5ldyBzdChzKTt0aGlzLnZvaWNlcy5wdXNoKHQpO2NvbnN0IGk9TWF0aC5jZWlsKHQuX2VuZCp0aGlzLnNhbXBsZVJhdGUpO3RoaXMuc2NoZWR1bGUoe3RpbWU6aSx0eXBlOiJkZXNwYXduIixhcmc6dC5pZH0pfWRlc3Bhd24ocyl7dGhpcy52b2ljZXM9dGhpcy52b2ljZXMuZmlsdGVyKHQ9PnQuaWQhPT1zKX1zY2hlZHVsZShzKXtpZighdGhpcy5xLmxlbmd0aCl7dGhpcy5xLnB1c2gocyk7cmV0dXJufWxldCB0PTA7Zm9yKDt0PHRoaXMucS5sZW5ndGgmJnRoaXMucVt0XS50aW1lPHMudGltZTspdCsrO3RoaXMucS5zcGxpY2UodCwwLHMpfXVwZGF0ZSgpe2Zvcig7dGhpcy5xLmxlbmd0aD4wJiZ0aGlzLnFbMF0udGltZTw9dGhpcy50Oyl0aGlzW3RoaXMucVswXS50eXBlXSh0aGlzLnFbMF0uYXJnKSx0aGlzLnEuc2hpZnQoKTt0aGlzLm91dFswXT0wLHRoaXMub3V0WzFdPTA7Zm9yKGxldCBpPTA7aTx0aGlzLnZvaWNlcy5sZW5ndGg7aSsrKXRoaXMudm9pY2VzW2ldLnVwZGF0ZSh0aGlzLnQvdGhpcy5zYW1wbGVSYXRlKSx0aGlzLm91dFswXSs9dGhpcy52b2ljZXNbaV0ub3V0WzBdLHRoaXMub3V0WzFdKz10aGlzLnZvaWNlc1tpXS5vdXRbMV0sdGhpcy52b2ljZXNbaV0uZGVsYXkmJih0aGlzLmRlbGF5c2VuZFswXSs9dGhpcy52b2ljZXNbaV0ub3V0WzBdKnRoaXMudm9pY2VzW2ldLmRlbGF5LHRoaXMuZGVsYXlzZW5kWzFdKz10aGlzLnZvaWNlc1tpXS5vdXRbMV0qdGhpcy52b2ljZXNbaV0uZGVsYXksdGhpcy5kZWxheXRpbWU9dGhpcy52b2ljZXNbaV0uZGVsYXl0aW1lLHRoaXMuZGVsYXlzcGVlZD10aGlzLnZvaWNlc1tpXS5kZWxheXNwZWVkLHRoaXMuZGVsYXlmZWVkYmFjaz10aGlzLnZvaWNlc1tpXS5kZWxheWZlZWRiYWNrKTtjb25zdCBzPXRoaXMuX2RlbGF5TC51cGRhdGUodGhpcy5kZWxheXNlbmRbMF0sdGhpcy5kZWxheXRpbWUpLHQ9dGhpcy5fZGVsYXlSLnVwZGF0ZSh0aGlzLmRlbGF5c2VuZFsxXSx0aGlzLmRlbGF5dGltZSk7dGhpcy5kZWxheXNlbmRbMF09cyp0aGlzLmRlbGF5ZmVlZGJhY2ssdGhpcy5kZWxheXNlbmRbMV09dCp0aGlzLmRlbGF5ZmVlZGJhY2ssdGhpcy5vdXRbMF0rPXMsdGhpcy5vdXRbMV0rPXQsdGhpcy50Kyt9fWNvbnN0IGl0PShoLHMsdCk9Pk1hdGgubWluKE1hdGgubWF4KGgscyksdCk7Y2xhc3MgYXQgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuZG91Z2g9bmV3IGV0KHNhbXBsZVJhdGUsY3VycmVudFRpbWUpLHRoaXMucG9ydC5vbm1lc3NhZ2U9cz0+e3MuZGF0YS5zcGF3bj90aGlzLmRvdWdoLnNjaGVkdWxlU3Bhd24ocy5kYXRhLnNwYXduKTpzLmRhdGEuc2FtcGxlP3RoaXMuZG91Z2gubG9hZFNhbXBsZShzLmRhdGEuc2FtcGxlLHMuZGF0YS5jaGFubmVscyxzLmRhdGEuc2FtcGxlUmF0ZSk6cy5kYXRhLnNhbXBsZXM/cy5kYXRhLnNhbXBsZXMuZm9yRWFjaCgoW3QsaSxuXSk9Pnt0aGlzLmRvdWdoLmxvYWRTYW1wbGUodCxpLG4pfSk6Y29uc29sZS5sb2coInVucmVjb2duaXplZCBldmVudCB0eXBlIixzLmRhdGEpfX1wcm9jZXNzKHMsdCxpKXtpZih0aGlzLmRpc2Nvbm5lY3RlZClyZXR1cm4hMTtjb25zdCBuPXRbMF07Zm9yKGxldCBsPTA7bDxuWzBdLmxlbmd0aDtsKyspe3RoaXMuZG91Z2gudXBkYXRlKCk7Zm9yKGxldCByPTA7cjxuLmxlbmd0aDtyKyspbltyXVtsXT1pdCh0aGlzLmRvdWdoLm91dFtyXSwtMSwxKX1yZXR1cm4hMH19cmVnaXN0ZXJQcm9jZXNzb3IoImRvdWdoLXByb2Nlc3NvciIsYXQpfSkoKTsK";typeof sampleRate<"u"&&sampleRate,iy(_X);const{Pattern:YX,logger:gy,repl:HX}=w5;y1(gy);const C9=e=>(e.ensureObjectValue(),e.value),by=(e,t,n,i,s)=>Es(C9(e),s,n,i,e.whole?.begin.valueOf());async function v9(e,t,n,i,s,r,a,o=void 0){let c=Ge();await c.close(),c=new OfflineAudioContext(2,(i-n)/t*s,s),Ps(c),_r(new $5(c)),await Ir({maxPolyphony:r,multiChannelOrbits:a}),gy("[webaudio] preloading");let l=e.queryArc(n,i,{_cps:t}).sort((d,m)=>d.whole.begin.valueOf()-m.whole.begin.valueOf());for(const d of l)if(d.hasOnset())try{await Es(C9(d),(d.whole.begin.valueOf()-n)/t,d.duration/t,t,(d.whole?.begin.valueOf()-n)/t)}catch(m){Gs(m,"webaudio")}return gy("[webaudio] start rendering"),c.startRendering().then(d=>{const m=KX(d),f=new Blob([m],{type:"audio/wav"}),b=URL.createObjectURL(f),g=document.createElement("a");g.href=b,o=o?`${o}.wav`:`${new Date().toISOString()}.wav`,g.download=`${o}`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(b)}).finally(async()=>{Ps(null),_r(null),cy()})}function My(e={}){const t=e.audioContext??Ge();return Ps(t),e={getTime:()=>t.currentTime,defaultOutput:by,...e},HX(e)}YX.prototype.dough=function(){return this.onTrigger(fy,1)};function KX(e,t){t=t||{};var n=e.numberOfChannels,i=e.sampleRate,s=t.float32?3:1,r=s===3?32:16,a;return n===2?a=OX(e.getChannelData(0),e.getChannelData(1)):a=e.getChannelData(0),jX(a,s,i,n,r)}function jX(e,t,n,i,s){var r=s/8,a=i*r,o=new ArrayBuffer(44+e.length*r),c=new DataView(o);return Hr(c,0,"RIFF"),c.setUint32(4,36+e.length*r,!0),Hr(c,8,"WAVE"),Hr(c,12,"fmt "),c.setUint32(16,16,!0),c.setUint16(20,t,!0),c.setUint16(22,i,!0),c.setUint32(24,n,!0),c.setUint32(28,n*a,!0),c.setUint16(32,a,!0),c.setUint16(34,s,!0),Hr(c,36,"data"),c.setUint32(40,e.length*r,!0),t===1?JX(c,44,e):UX(c,44,e),o}function OX(e,t){for(var n=e.length+t.length,i=new Float32Array(n),s=0,r=0;s<n;)i[s++]=e[r],i[s++]=t[r],r++;return i}function UX(e,t,n){for(var i=0;i<n.length;i++,t+=4)e.setFloat32(t,n[i],!0)}function JX(e,t,n){for(var i=0;i<n.length;i++,t+=2){var s=Math.max(-1,Math.min(1,n[i]));e.setInt16(t,s<0?s*32768:s*32767,!0)}}function Hr(e,t,n){for(var i=0;i<n.length;i++)e.setUint8(t+i,n.charCodeAt(i))}const fi=(e="test-canvas",t)=>{let{contextType:n="2d",pixelated:i=!1,pixelRatio:s=window.devicePixelRatio}={},r=document.querySelector("#"+e);if(!r){r=document.createElement("canvas"),r.id=e,r.width=window.innerWidth*s,r.height=window.innerHeight*s,r.style="pointer-events:none;width:100%;height:100%;position:fixed;top:0;left:0",i&&(r.style.imageRendering="pixelated"),document.body.prepend(r);let a;window.addEventListener("resize",()=>{a&&clearTimeout(a),a=setTimeout(()=>{r.width=window.innerWidth*s,r.height=window.innerHeight*s},200)})}return r.getContext(n,{willReadFrequently:!0})};let xs={};function QX(e){xs[e]!==void 0&&(cancelAnimationFrame(xs[e]),delete xs[e])}let Ln={};_.prototype.draw=function(e,t){if(typeof window>"u")return this;let{id:n=1,lookbehind:i=0,lookahead:s=0}=t,r=Math.max(vr(),0);QX(n),i=Math.abs(i),Ln[n]=(Ln[n]||[]).filter(l=>!l.isInFuture(r));let a=this.queryArc(r,r+s).filter(l=>l.hasOnset());Ln[n]=Ln[n].concat(a);let o;const c=()=>{const l=vr(),d=l+s;Ln[n]=Ln[n].filter(b=>b.isInNearPast(i,l));let m=Math.max(o||d,d-1/10);const f=this.queryArc(m,d).filter(b=>b.hasOnset());Ln[n]=Ln[n].concat(f),o=d,e(Ln[n],l,d,this),xs[n]=requestAnimationFrame(c)};return xs[n]=requestAnimationFrame(c),this},_.prototype.onPaint=function(e){return this.withState(t=>(t.controls.painters||(t.controls.painters=[]),t.controls.painters.push(e),t))},_.prototype.getPainters=function(){let e=[];return this.queryArc(0,0,{painters:e}),e};let qX={background:"#222",foreground:"#75baff",caret:"#ffcc00",selection:"rgba(128, 203, 196, 0.5)",selectionMatch:"#036dd626",lineHighlight:"#00000050",gutterBackground:"transparent",gutterForeground:"#8a919966"};function xn(){return qX}let P9="#22222210";_.prototype.animate=function({callback:e,sync:t=!1,smear:n=.5}={}){window.frame&&cancelAnimationFrame(window.frame);const i=fi();let{clientWidth:s,clientHeight:r}=i.canvas;s*=window.devicePixelRatio,r*=window.devicePixelRatio;let a=n===0?"99":Number((1-n)*100).toFixed(0);a=a.length===1?`0${a}`:a,P9=`#200010${a}`;const o=c=>{let l;c=Math.round(c),l=this.slow(1e3).queryArc(c,c),i.fillStyle=P9,i.fillRect(0,0,s,r),l.forEach(d=>{let{x:m,y:f,w:b,h:g,s:P,r:A,angle:x=0,fill:E="darkseagreen"}=d.value;if(b*=s,g*=r,A!==void 0&&x!==void 0){const S=x*2*Math.PI,[X,L]=[(s-b)/2,(r-g)/2];m=X+Math.cos(S)*A*X,f=L+Math.sin(S)*A*L}else m*=s-b,f*=r-g;const V={...d.value,x:m,y:f,w:b,h:g};i.fillStyle=E,P==="rect"?i.fillRect(m,f,b,g):P==="ellipse"&&(i.beginPath(),i.ellipse(m+b/2,f+g/2,b/2,g/2,0,0,2*Math.PI),i.fill()),e&&e(i,V,d)}),window.frame=requestAnimationFrame(o)};return window.frame=requestAnimationFrame(o),Te};const{x:G9,y:UB,w:JB,h:QB,angle:qB,r:$B,fill:ek,smear:tk}=br("x","y","w","h","angle","r","fill","smear");k("rescale",function(e,t){return t.mul(G9(e).w(e).y(e).h(e))}),k("moveXY",function(e,t,n){return n.add(G9(e).y(t))}),k("zoomIn",function(e,t){const n=je(1).sub(e).div(2);return t.rescale(e).move(n,n)});const Rs=(e,t,n)=>e*(n-t)+t,A9=e=>{let{value:t}=e;typeof e.value!="object"&&(t={value:t});let{note:n,n:i,freq:s,s:r}=t;if(s)return tr(s);if(n=n??i,typeof n=="string")try{return nn(n)}catch{return 0}return typeof n=="number"?n:r?"_"+r:t};_.prototype.pianoroll=function(e={}){let{cycles:t=4,playhead:n=.5,overscan:i=0,hideNegative:s=!1,ctx:r=fi(),id:a=1}=e,o=-t*n,c=t*(1-n);const l=(d,m)=>(!s||d.whole.begin>=0)&&d.isWithinTime(m+o,m+c);return this.draw((d,m)=>{F9({...e,time:m,ctx:r,haps:d.filter(f=>l(f,m))})},{lookbehind:o-i,lookahead:c+i,id:a}),this};function F9({time:e,haps:t,cycles:n=4,playhead:i=.5,flipTime:s=0,flipValues:r=0,hideNegative:a=!1,inactive:o=xn().foreground,active:c=xn().foreground,background:l="transparent",smear:d=0,playheadColor:m=xn().foreground,minMidi:f=10,maxMidi:b=90,autorange:g=0,timeframe:P,fold:A=1,vertical:x=0,labels:E=!1,fill:V=1,fillActive:S=!1,strokeActive:X=!0,stroke:L,hideInactive:R=0,colorizeInactive:B=1,fontFamily:j,ctx:N,id:ee}={}){const Y=N.canvas.width,K=N.canvas.height;let te=-n*i,Ce=n*(1-i);ee&&(t=t.filter(Le=>Le.hasTag(ee))),P&&(console.warn("timeframe is deprecated! use from/to instead"),te=0,Ce=P);const ue=x?K:Y,he=x?Y:K;let se=x?[ue,0]:[0,ue];const Ye=Ce-te,ot=x?[0,he]:[he,0];let pt=b-f+1,J=he/pt,ct=[];s&&se.reverse(),r&&ot.reverse();const{min:pe,max:Ae,values:Pe}=t.reduce(({min:Le,max:ke,values:gt},oe)=>{const Ie=A9(oe);return{min:Ie<Le?Ie:Le,max:Ie>ke?Ie:ke,values:gt.includes(Ie)?gt:[...gt,Ie]}},{min:1/0,max:-1/0,values:[]});g&&(f=pe,b=Ae,pt=b-f+1),ct=Pe.sort((Le,ke)=>typeof Le=="number"&&typeof ke=="number"?Le-ke:typeof Le=="number"?1:String(Le).localeCompare(String(ke))),J=A?he/ct.length:he/pt,N.fillStyle=l,N.globalAlpha=1,d||(N.clearRect(0,0,Y,K),N.fillRect(0,0,Y,K)),t.forEach(Le=>{const ke=Le.whole.begin<=e&&Le.endClipped>e;let gt=L??(X&&ke),oe=!ke&&V||ke&&S;if(R&&!ke)return;let Ie=Le.value?.color;c=Ie||c,o=B&&Ie||o,Ie=ke?c:o,N.fillStyle=oe?Ie:"transparent",N.strokeStyle=Ie;const{velocity:Gt=1,gain:re=1}=Le.value||{};N.globalAlpha=Gt*re;const Q=(Le.whole.begin-(s?Ce:te))/Ye,Ke=Rs(Q,...se);let me=Rs(Le.duration/Ye,0,ue);const _e=A9(Le),At=A?ct.indexOf(_e)/ct.length:(Number(_e)-f)/pt,Fn=Rs(At,...ot);let ii=0;const wn=Rs(e/Ye,...se);let Lt;if(x?Lt=[Fn+1-(r?J:0),ue-wn+Ke+ii+1-(s?0:me),J-2,me-2]:Lt=[Ke-wn+ii+1-(s?me:0),Fn+1-(r?0:J),me-2,J-2],gt&&N.strokeRect(...Lt),oe&&N.fillRect(...Lt),E){const zn=Le.value.note??Le.value.s+(Le.value.n?`:${Le.value.n}`:""),{label:Se,activeLabel:$e}=Le.value,tt=(ke&&$e||Se)??zn;let Ue=x?me:J*.75;N.font=`${Ue}px ${j||"monospace"}`,N.fillStyle=oe?"black":Ie,N.textBaseline="top",N.fillText(tt,...Lt)}}),N.globalAlpha=1;const we=Rs(-te/Ye,...se);return N.strokeStyle=m,N.beginPath(),x?(N.moveTo(0,we),N.lineTo(he,we)):(N.moveTo(we,0),N.lineTo(we,he)),N.stroke(),this}function $X(e,t={}){let[n,i]=e;n=Math.abs(n);const s=i+n,r=s!==0?n/s:0;return{fold:1,...t,cycles:s,playhead:r}}const eS=(e={})=>(t,n,i,s)=>F9({ctx:t,time:n,haps:i,...$X(s,e)});_.prototype.punchcard=function(e){return this.onPaint(eS(e))},_.prototype.wordfall=function(e){return this.punchcard({vertical:1,labels:1,stroke:0,fillActive:1,active:"white",...e})};function tS(e,t,n,i){const s=(e-90)*Math.PI/180;return[n+Math.cos(s)*t,i+Math.sin(s)*t]}const w9=(e,t,n,i,s=0)=>tS((e+s)*360,t*e,n,i);function D9(e){let{ctx:t,from:n=0,to:i=3,margin:s=50,cx:r=100,cy:a=100,rotate:o=0,thickness:c=s/2,color:l=xn().foreground,cap:d="round",stretch:m=1,fromOpacity:f=1,toOpacity:b=1}=e;n*=m,i*=m,o*=m,t.lineWidth=c,t.lineCap=d,t.strokeStyle=l,t.globalAlpha=f,t.beginPath();let[g,P]=w9(n,s,r,a,o);t.moveTo(g,P);const A=1/60;let x=n;for(;x<=i;){const[E,V]=w9(x,s,r,a,o);t.globalAlpha=(x-n)/(i-n)*b,t.lineTo(E,V),x+=A}t.stroke()}function nS(e){let{stretch:t=1,size:n=80,thickness:i=n/2,cap:s="butt",inset:r=3,playheadColor:a="#ffffff",playheadLength:o=.02,playheadThickness:c=i,padding:l=0,steady:d=1,activeColor:m=xn().foreground,inactiveColor:f=xn().gutterForeground,colorizeInactive:b=0,fade:g=!0,ctx:P,time:A,haps:x,drawTime:E,id:V}=e;V&&(x=x.filter(Y=>Y.hasTag(V)));const[S,X]=[P.canvas.width,P.canvas.height];P.clearRect(0,0,S*2,X*2);const[L,R]=[S/2,X/2],B={margin:n/t,cx:L,cy:R,stretch:t,cap:s,thickness:i},j={...B,thickness:c,from:r-o,to:r,color:a},[N]=E,ee=d*A;x.forEach(Y=>{const K=Y.whole.begin<=A&&Y.endClipped>A,te=Y.whole.begin-A+r,Ce=Y.endClipped-A+r-l,ue=Y.value?.color||m,he=b||K?ue:f,se=g?1-Math.abs((Y.whole.begin-A)/N):1;D9({ctx:P,...B,from:te,to:Ce,rotate:ee,color:he,fromOpacity:se,toOpacity:se})}),D9({ctx:P,...j,rotate:ee})}_.prototype.spiral=function(e={}){return this.onPaint((t,n,i,s)=>nS({ctx:t,time:n,haps:i,drawTime:s,...e}))};const iS=Yn(36),X9=(e,t,n,i)=>{i=i*Math.PI*2;const s=Math.sin(i)*n+e,r=Math.cos(i)*n+t;return[s,r]},S9=(e,t)=>.5-Math.log2(e/t)%1;function sS({haps:e,ctx:t,id:n,hapcircles:i=1,circle:s=0,edo:r=12,root:a=iS,thickness:o=3,hapRadius:c=6,mode:l="flake",margin:d=10}={}){const m=l==="polygon",f=l==="flake",b=t.canvas.width,g=t.canvas.height;t.clearRect(0,0,b,g);const P=xn().foreground,x=Math.min(b,g)/2-o/2-c-d,E=b/2,V=g/2;n&&(e=e.filter(X=>X.hasTag(n))),t.strokeStyle=P,t.fillStyle=P,t.globalAlpha=1,t.lineWidth=o,s&&(t.beginPath(),t.arc(E,V,x,0,2*Math.PI),t.stroke()),r&&(Array.from({length:r},(X,L)=>{const R=S9(a*Math.pow(2,L/r),a),[B,j]=X9(E,V,x,R);t.beginPath(),t.arc(B,j,c,0,2*Math.PI),t.fill()}),t.stroke());let S=[];t.lineWidth=c,e.forEach(X=>{let L;try{L=Ha(X)}catch{return}const R=S9(L,a),[B,j]=X9(E,V,x,R),N=X.value.color||P;t.strokeStyle=N,t.fillStyle=N;const{velocity:ee=1,gain:Y=1}=X.value||{},K=ee*Y;t.globalAlpha=K,S.push([B,j,R,N,K]),t.beginPath(),i&&(t.moveTo(B+c,j),t.arc(B,j,c,0,2*Math.PI),t.fill()),f&&(t.moveTo(E,V),t.lineTo(B,j)),t.stroke()}),t.strokeStyle=P,t.globalAlpha=1,m&&S.length&&(S=S.sort((X,L)=>X[2]-L[2]),t.beginPath(),t.moveTo(S[0][0],S[0][1]),S.forEach(([X,L,R,B,j])=>{t.strokeStyle=B,t.globalAlpha=j,t.lineTo(X,L)}),t.lineTo(S[0][0],S[0][1]),t.stroke())}_.prototype.pitchwheel=function(e={}){let{ctx:t=fi(),id:n=1}=e;return this.tag(n).onPaint((i,s,r)=>sS({...e,time:s,ctx:t,haps:r.filter(a=>a.isActive(s)),id:n}))};function Cy(e,{align:t=!0,color:n="white",thickness:i=3,scale:s=.25,pos:r=.75,trigger:a=0,ctx:o=fi(),id:c=1}={}){o.lineWidth=i,o.strokeStyle=n;let l=o.canvas;if(!e){o.beginPath();let P=r*l.height;o.moveTo(0,P),o.lineTo(l.width,P),o.stroke();return}const d=Ss("time",c);o.beginPath();const m=e.frequencyBinCount;let f=t?Array.from(d).findIndex((P,A,x)=>A&&x[A-1]>-a&&P<=-a):0;f=Math.max(f,0);const b=l.width*1/m;let g=0;for(let P=f;P<m;P++){const A=d[P]+1,x=(r-s*(A-1))*l.height;P===0?o.moveTo(g,x):o.lineTo(g,x),g+=b}o.stroke()}function vy(e,{color:t="white",scale:n=.25,pos:i=.75,lean:s=.5,min:r=-150,max:a=0,ctx:o=fi(),id:c=1}={}){if(!e){o.beginPath();let g=i*d.height;o.moveTo(0,g),o.lineTo(d.width,g),o.stroke();return}const l=Ss("frequency",c),d=o.canvas;o.fillStyle=t;const m=e.frequencyBinCount,f=d.width*1/m;let b=0;for(let g=0;g<m;g++){const A=cs((l[g]-r)/(a-r),0,1)*n,x=A*d.height,E=(i-A*s)*d.height;o.fillRect(b,E,Math.max(f,1),x),b+=f}}function Z9(e=0,t="0,0,0",n=fi()){e?(n.fillStyle=`rgba(${t},${1-e})`,n.fillRect(0,0,n.canvas.width,n.canvas.height)):n.clearRect(0,0,n.canvas.width,n.canvas.height)}_.prototype.fscope=function(e={}){let t=e.id??1;return this.analyze(t).draw(()=>{Z9(e.smear,"0,0,0",e.ctx),u.analysers[t]&&vy(u.analysers[t],e)},{id:t})},_.prototype.tscope=function(e={}){let t=e.id??1;return this.analyze(t).draw(n=>{e.color=n[0]?.value?.color||xn().foreground,e.color,Z9(e.smear,"0,0,0",e.ctx),Cy(u.analysers[t],e)},{id:t})},_.prototype.scope=_.prototype.tscope;let E9={};_.prototype.spectrum=function(e={}){let t=e.id??1;return this.analyze(t).draw(n=>{e.color=n[0]?.value?.color||E9[t]||xn().foreground,E9[t]=e.color,rS(u.analysers[t],e)},{id:t})},_.prototype.scope=_.prototype.tscope;const Py=new Map;function rS(e,{thickness:t=3,speed:n=1,min:i=-80,max:s=0,ctx:r=fi(),id:a=1,color:o}={}){if(r.lineWidth=t,r.strokeStyle=o,!e)return;const c=n,l=Ss("frequency",a),d=r.canvas;r.fillStyle=o;const m=e.frequencyBinCount;let f=Py.get(a)||r.getImageData(0,0,d.width,d.height);Py.set(a,f),r.clearRect(0,0,r.canvas.width,r.canvas.height),r.putImageData(f,-c,0);let b=d.width-n;for(let g=0;g<m;g++){const P=cs((l[g]-i)/(s-i),0,1);r.globalAlpha=P;const A=Math.log(g+1)/Math.log(m)*d.height;r.fillRect(b,d.height-A,c,2)}Py.set(a,r.getImageData(0,0,d.width,d.height))}const aS=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_MAX_POLYPHONY:Nr,Warpmode:Vr,aliasBank:r9,get analysers(){return u.analysers},get analysersData(){return u.analysersData},applyFM:ki,applyGainCurve:cn,applyParameterModulators:Rr,cleanupOnEnd:X1,connectBusModulator:R1,connectEnvelope:x1,connectLFO:L1,connectToDestination:uy,createFilter:F1,distortionAlgorithms:Br,dough:b9,doughTrigger:fy,doughsamples:yy,drawFrequencyScope:vy,drawTimeScope:Cy,drywet:w1,dspWorklet:my,effectSend:Bi,errorLogger:Gs,gainNode:Oe,getADSRValues:Vt,getAnalyserById:oy,getAnalyzerData:Ss,getAudioContext:Ge,getAudioContextCurrentTime:D5,getAudioDevices:ey,getCachedBuffer:K5,getCompressor:A1,getDefaultValue:st,getDistortion:D1,getDistortionAlgorithm:_5,getEnvelope:G1,getFrequencyFromValue:En,getLfo:di,getLoadedBuffer:j5,getOscillator:hy,getParamADSR:kt,getParamLfo:xr,getPitchEnvelope:hi,getSampleBuffer:z1,getSampleBufferSource:N1,getSampleInfo:V1,getSound:Un,getSuperdoughAudioController:Xs,getVibratoOscillator:pi,getWorklet:Xt,getZZFX:py,initAudio:Ir,initAudioOnFirstClick:ay,loadBuffer:ws,loadWorklets:sy,logger:dt,get maxPolyphony(){return u.maxPolyphony},get multiChannelOrbits(){return u.multiChannelOrbits},noises:Lr,onTriggerSample:_1,onTriggerSynth:U1,onceEnded:un,processSampleMap:T1,registerSampleSource:Y1,registerSamplesPrefix:Q5,registerSound:jt,registerSynthSounds:ly,registerWaveTable:zr,registerWorklet:iy,registerZZFXSounds:y9,releaseAudioNode:Ee,renderPatternAudio:v9,resetDefaultValues:ny,resetDefaults:o9,resetGlobalEffects:cy,resetLoadedSounds:d9,resetSeenKeys:j1,reverseBuffer:W1,samples:I1,scheduleAtTime:N5,setAudioContext:Ps,setDefault:u9,setDefaultAudioContext:f1,setDefaultValue:Wr,setDefaultValues:c9,setGainCurve:s9,setLogger:y1,setMaxPolyphony:Q1,setMultiChannelOrbits:q1,setSuperdoughAudioController:_r,setVersionDefaults:l9,soundAlias:a9,soundMap:Kt,superdough:Es,superdoughTrigger:m9,tables:n9,waveformN:dy,webAudioTimeout:an,webaudioOutput:by,webaudioRepl:My},Symbol.toStringTag,{value:"Module"}));function uS(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function Jn(e,t,n,i){var s=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(s,Jn.prototype),s.expected=t,s.found=n,s.location=i,s.name="SyntaxError",s}uS(Jn,Error);function Gy(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,n+=n.repeat(t),e+n.slice(0,t))}Jn.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n=null,i;for(i=0;i<e.length;i++)if(e[i].source===this.location.source){n=e[i].text.split(/\r\n|\n|\r/g);break}var s=this.location.start,r=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(s):s,a=this.location.source+":"+r.line+":"+r.column;if(n){var o=this.location.end,c=Gy("",r.line.toString().length," "),l=n[s.line-1],d=s.line===o.line?o.column:l.length+1,m=d-s.column||1;t+=`
 --> `+a+`
`+c+` |
`+r.line+" | "+l+`
`+c+" | "+Gy("",s.column-1," ")+Gy("",m,"^")}else t+=`
 at `+a}return t},Jn.buildMessage=function(e,t){var n={literal:function(l){return'"'+s(l.text)+'"'},class:function(l){var d=l.parts.map(function(m){return Array.isArray(m)?r(m[0])+"-"+r(m[1]):r(m)});return"["+(l.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(l){return l.description}};function i(l){return l.charCodeAt(0).toString(16).toUpperCase()}function s(l){return l.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+i(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+i(d)})}function r(l){return l.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+i(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+i(d)})}function a(l){return n[l.type](l)}function o(l){var d=l.map(a),m,f;if(d.sort(),d.length>0){for(m=1,f=1;m<d.length;m++)d[m-1]!==d[m]&&(d[f]=d[m],f++);d.length=f}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function c(l){return l?'"'+s(l)+'"':"end of input"}return"Expected "+o(e)+" but "+c(t)+" found."};function Ay(e,t){t=t!==void 0?t:{};var n={},i=t.grammarSource,s={start:rA},r=rA,a=".",o="-",c="0",l=",",d="|",m="[",f="]",b="{",g="}",P="%",A="<",x=">",E="!",V="(",S=")",X="/",L="*",R="?",B=":",j="..",N="^",ee="struct",Y="target",K="euclid",te="slow",Ce="rotL",ue="rotR",he="fast",se="scale",Ye="//",ot="cat",pt="$",J="setcps",ct="setbpm",pe="hush",Ae=/^[1-9]/,Pe=/^[eE]/,we=/^[+\-]/,Le=/^[0-9]/,ke=/^[ \n\r\t\xA0]/,gt=/^["']/,oe=/^[#\--.0-9A-Z\^-_a-z~\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376-\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06E5-\u06E6\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4-\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u09FC\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60-\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E46\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7B9\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD-\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,Ie=/^[@_]/,Gt=/^[^\n]/,re=Kg("number"),Q=ze(".",!1),Ke=Wn([["1","9"]],!1,!1),me=Wn(["e","E"],!1,!1),_e=Wn(["+","-"],!1,!1),At=ze("-",!1),Fn=ze("0",!1),ii=Wn([["0","9"]],!1,!1),wn=Kg("whitespace"),Lt=Wn([" ",`
`,"\r","	"," "],!1,!1),zn=ze(",",!1),Se=ze("|",!1),$e=Wn(['"',"'"],!1,!1),ge=Kg('a letter, a number, "-", "#", ".", "^", "_"'),tt=Wn(["#",["-","."],["0","9"],["A","Z"],["^","_"],["a","z"],"~","ª","µ","º",["À","Ö"],["Ø","ö"],["ø","ˁ"],["ˆ","ˑ"],["ˠ","ˤ"],"ˬ","ˮ",["Ͱ","ʹ"],["Ͷ","ͷ"],["ͺ","ͽ"],"Ϳ","Ά",["Έ","Ί"],"Ό",["Ύ","Ρ"],["Σ","ϵ"],["Ϸ","ҁ"],["Ҋ","ԯ"],["Ա","Ֆ"],"ՙ",["ՠ","ֈ"],["א","ת"],["ׯ","ײ"],["ؠ","ي"],["ٮ","ٯ"],["ٱ","ۓ"],"ە",["ۥ","ۦ"],["ۮ","ۯ"],["ۺ","ۼ"],"ۿ","ܐ",["ܒ","ܯ"],["ݍ","ޥ"],"ޱ",["ߊ","ߪ"],["ߴ","ߵ"],"ߺ",["ࠀ","ࠕ"],"ࠚ","ࠤ","ࠨ",["ࡀ","ࡘ"],["ࡠ","ࡪ"],["ࢠ","ࢴ"],["ࢶ","ࢽ"],["ऄ","ह"],"ऽ","ॐ",["क़","ॡ"],["ॱ","ঀ"],["অ","ঌ"],["এ","ঐ"],["ও","ন"],["প","র"],"ল",["শ","হ"],"ঽ","ৎ",["ড়","ঢ়"],["য়","ৡ"],["ৰ","ৱ"],"ৼ",["ਅ","ਊ"],["ਏ","ਐ"],["ਓ","ਨ"],["ਪ","ਰ"],["ਲ","ਲ਼"],["ਵ","ਸ਼"],["ਸ","ਹ"],["ਖ਼","ੜ"],"ਫ਼",["ੲ","ੴ"],["અ","ઍ"],["એ","ઑ"],["ઓ","ન"],["પ","ર"],["લ","ળ"],["વ","હ"],"ઽ","ૐ",["ૠ","ૡ"],"ૹ",["ଅ","ଌ"],["ଏ","ଐ"],["ଓ","ନ"],["ପ","ର"],["ଲ","ଳ"],["ଵ","ହ"],"ଽ",["ଡ଼","ଢ଼"],["ୟ","ୡ"],"ୱ","ஃ",["அ","ஊ"],["எ","ஐ"],["ஒ","க"],["ங","ச"],"ஜ",["ஞ","ட"],["ண","த"],["ந","ப"],["ம","ஹ"],"ௐ",["అ","ఌ"],["ఎ","ఐ"],["ఒ","న"],["ప","హ"],"ఽ",["ౘ","ౚ"],["ౠ","ౡ"],"ಀ",["ಅ","ಌ"],["ಎ","ಐ"],["ಒ","ನ"],["ಪ","ಳ"],["ವ","ಹ"],"ಽ","ೞ",["ೠ","ೡ"],["ೱ","ೲ"],["അ","ഌ"],["എ","ഐ"],["ഒ","ഺ"],"ഽ","ൎ",["ൔ","ൖ"],["ൟ","ൡ"],["ൺ","ൿ"],["අ","ඖ"],["ක","න"],["ඳ","ර"],"ල",["ව","ෆ"],["ก","ะ"],["า","ำ"],["เ","ๆ"],["ກ","ຂ"],"ຄ",["ງ","ຈ"],"ຊ","ຍ",["ດ","ທ"],["ນ","ຟ"],["ມ","ຣ"],"ລ","ວ",["ສ","ຫ"],["ອ","ະ"],["າ","ຳ"],"ຽ",["ເ","ໄ"],"ໆ",["ໜ","ໟ"],"ༀ",["ཀ","ཇ"],["ཉ","ཬ"],["ྈ","ྌ"],["က","ဪ"],"ဿ",["ၐ","ၕ"],["ၚ","ၝ"],"ၡ",["ၥ","ၦ"],["ၮ","ၰ"],["ၵ","ႁ"],"ႎ",["Ⴀ","Ⴥ"],"Ⴧ","Ⴭ",["ა","ჺ"],["ჼ","ቈ"],["ቊ","ቍ"],["ቐ","ቖ"],"ቘ",["ቚ","ቝ"],["በ","ኈ"],["ኊ","ኍ"],["ነ","ኰ"],["ኲ","ኵ"],["ኸ","ኾ"],"ዀ",["ዂ","ዅ"],["ወ","ዖ"],["ዘ","ጐ"],["ጒ","ጕ"],["ጘ","ፚ"],["ᎀ","ᎏ"],["Ꭰ","Ᏽ"],["ᏸ","ᏽ"],["ᐁ","ᙬ"],["ᙯ","ᙿ"],["ᚁ","ᚚ"],["ᚠ","ᛪ"],["ᛮ","ᛸ"],["ᜀ","ᜌ"],["ᜎ","ᜑ"],["ᜠ","ᜱ"],["ᝀ","ᝑ"],["ᝠ","ᝬ"],["ᝮ","ᝰ"],["ក","ឳ"],"ៗ","ៜ",["ᠠ","ᡸ"],["ᢀ","ᢄ"],["ᢇ","ᢨ"],"ᢪ",["ᢰ","ᣵ"],["ᤀ","ᤞ"],["ᥐ","ᥭ"],["ᥰ","ᥴ"],["ᦀ","ᦫ"],["ᦰ","ᧉ"],["ᨀ","ᨖ"],["ᨠ","ᩔ"],"ᪧ",["ᬅ","ᬳ"],["ᭅ","ᭋ"],["ᮃ","ᮠ"],["ᮮ","ᮯ"],["ᮺ","ᯥ"],["ᰀ","ᰣ"],["ᱍ","ᱏ"],["ᱚ","ᱽ"],["ᲀ","ᲈ"],["Ა","Ჺ"],["Ჽ","Ჿ"],["ᳩ","ᳬ"],["ᳮ","ᳱ"],["ᳵ","ᳶ"],["ᴀ","ᶿ"],["Ḁ","ἕ"],["Ἐ","Ἕ"],["ἠ","ὅ"],["Ὀ","Ὅ"],["ὐ","ὗ"],"Ὑ","Ὓ","Ὕ",["Ὗ","ώ"],["ᾀ","ᾴ"],["ᾶ","ᾼ"],"ι",["ῂ","ῄ"],["ῆ","ῌ"],["ῐ","ΐ"],["ῖ","Ί"],["ῠ","Ῥ"],["ῲ","ῴ"],["ῶ","ῼ"],"ⁱ","ⁿ",["ₐ","ₜ"],"ℂ","ℇ",["ℊ","ℓ"],"ℕ",["ℙ","ℝ"],"ℤ","Ω","ℨ",["K","ℭ"],["ℯ","ℹ"],["ℼ","ℿ"],["ⅅ","ⅉ"],"ⅎ",["Ⅰ","ↈ"],["Ⰰ","Ⱞ"],["ⰰ","ⱞ"],["Ⱡ","ⳤ"],["Ⳬ","ⳮ"],["Ⳳ","ⳳ"],["ⴀ","ⴥ"],"ⴧ","ⴭ",["ⴰ","ⵧ"],"ⵯ",["ⶀ","ⶖ"],["ⶠ","ⶦ"],["ⶨ","ⶮ"],["ⶰ","ⶶ"],["ⶸ","ⶾ"],["ⷀ","ⷆ"],["ⷈ","ⷎ"],["ⷐ","ⷖ"],["ⷘ","ⷞ"],"ⸯ",["々","〇"],["〡","〩"],["〱","〵"],["〸","〼"],["ぁ","ゖ"],["ゝ","ゟ"],["ァ","ヺ"],["ー","ヿ"],["ㄅ","ㄯ"],["ㄱ","ㆎ"],["ㆠ","ㆺ"],["ㇰ","ㇿ"],["㐀","䶵"],["一","鿯"],["ꀀ","ꒌ"],["ꓐ","ꓽ"],["ꔀ","ꘌ"],["ꘐ","ꘟ"],["ꘪ","ꘫ"],["Ꙁ","ꙮ"],["ꙿ","ꚝ"],["ꚠ","ꛯ"],["ꜗ","ꜟ"],["Ꜣ","ꞈ"],["Ꞌ","ꞹ"],["ꟷ","ꠁ"],["ꠃ","ꠅ"],["ꠇ","ꠊ"],["ꠌ","ꠢ"],["ꡀ","ꡳ"],["ꢂ","ꢳ"],["ꣲ","ꣷ"],"ꣻ",["ꣽ","ꣾ"],["ꤊ","ꤥ"],["ꤰ","ꥆ"],["ꥠ","ꥼ"],["ꦄ","ꦲ"],"ꧏ",["ꧠ","ꧤ"],["ꧦ","ꧯ"],["ꧺ","ꧾ"],["ꨀ","ꨨ"],["ꩀ","ꩂ"],["ꩄ","ꩋ"],["ꩠ","ꩶ"],"ꩺ",["ꩾ","ꪯ"],"ꪱ",["ꪵ","ꪶ"],["ꪹ","ꪽ"],"ꫀ","ꫂ",["ꫛ","ꫝ"],["ꫠ","ꫪ"],["ꫲ","ꫴ"],["ꬁ","ꬆ"],["ꬉ","ꬎ"],["ꬑ","ꬖ"],["ꬠ","ꬦ"],["ꬨ","ꬮ"],["ꬰ","ꭚ"],["ꭜ","ꭥ"],["ꭰ","ꯢ"],["가","힣"],["ힰ","ퟆ"],["ퟋ","ퟻ"],["豈","舘"],["並","龎"],["ﬀ","ﬆ"],["ﬓ","ﬗ"],"יִ",["ײַ","ﬨ"],["שׁ","זּ"],["טּ","לּ"],"מּ",["נּ","סּ"],["ףּ","פּ"],["צּ","ﮱ"],["ﯓ","ﴽ"],["ﵐ","ﶏ"],["ﶒ","ﷇ"],["ﷰ","ﷻ"],["ﹰ","ﹴ"],["ﹶ","ﻼ"],["Ａ","Ｚ"],["ａ","ｚ"],["ｦ","ﾾ"],["ￂ","ￇ"],["ￊ","ￏ"],["ￒ","ￗ"],["ￚ","ￜ"]],!1,!1),Ue=ze("[",!1),Fi=ze("]",!1),wi=ze("{",!1),bt=ze("}",!1),si=ze("%",!1),fe=ze("<",!1),Me=ze(">",!1),nt=Wn(["@","_"],!1,!1),et=ze("!",!1),xe=ze("(",!1),He=ze(")",!1),It=ze("/",!1),_t=ze("*",!1),Ea=ze("?",!1),Yg=ze(":",!1),Hg=ze("..",!1),h=ze("^",!1),M=ze("struct",!1),y=ze("target",!1),C=ze("euclid",!1),F=ze("slow",!1),z=ze("rotL",!1),T=ze("rotR",!1),O=ze("fast",!1),ne=ze("scale",!1),Re=ze("//",!1),lt=Wn([`
`],!0,!1),Nn=ze("cat",!1),ri=ze("$",!1),La=ze("setcps",!1),xa=ze("setbpm",!1),en=ze("hush",!1),oR=function(){return parseFloat(jR())},cR=function(p){const G=p.join("");return G==="."||G==="_"},lR=function(p){return new kB(p.join(""))},dR=function(p){return p},hR=function(p,G){return p.arguments_.stepsPerCycle=G,p},pR=function(p){return p},mR=function(p){return p.arguments_.alignment="polymeter_slowcat",p},fR=function(p){return G=>G.options_.weight=(G.options_.weight??1)+(p??2)-1},yR=function(p){return G=>{const Z=(G.options_.reps??1)+(p??2)-1;G.options_.reps=Z,G.options_.ops=G.options_.ops.filter(W=>W.type_!=="replicate"),G.options_.ops.push({type_:"replicate",arguments_:{amount:Z}}),G.options_.weight=Z}},gR=function(p,G,Z){return W=>W.options_.ops.push({type_:"bjorklund",arguments_:{pulse:p,step:G,rotation:Z}})},bR=function(p){return G=>G.options_.ops.push({type_:"stretch",arguments_:{amount:p,type:"slow"}})},MR=function(p){return G=>G.options_.ops.push({type_:"stretch",arguments_:{amount:p,type:"fast"}})},CR=function(p){return G=>G.options_.ops.push({type_:"degradeBy",arguments_:{amount:p,seed:Jg++}})},vR=function(p){return G=>G.options_.ops.push({type_:"tail",arguments_:{element:p}})},PR=function(p){return G=>G.options_.ops.push({type_:"range",arguments_:{element:p}})},GR=function(p,G){const Z=new zB(p,{ops:[],weight:1,reps:1});for(const W of G)W(Z);return Z},AR=function(p,G){return new Va(G,"fastcat",void 0,!!p)},FR=function(p){return{alignment:"stack",list:p}},wR=function(p){return{alignment:"rand",list:p,seed:Jg++}},DR=function(p){return{alignment:"feet",list:p,seed:Jg++}},XR=function(p,G){return G&&G.list.length>0?new Va([p,...G.list],G.alignment,G.seed):p},SR=function(p,G){return new Va(G?[p,...G.list]:[p],"polymeter")},ZR=function(p){return p},ER=function(p){return{name:"struct",args:{mini:p}}},LR=function(p){return{name:"target",args:{name:p}}},xR=function(p,G,Z){return{name:"bjorklund",args:{pulse:p,step:parseInt(G)}}},RR=function(p){return{name:"stretch",args:{amount:p}}},BR=function(p){return{name:"shift",args:{amount:"-"+p}}},kR=function(p){return{name:"shift",args:{amount:p}}},VR=function(p){return{name:"stretch",args:{amount:"1/"+p}}},zR=function(p){return{name:"scale",args:{scale:p.join("")}}},nA=function(p,G){return G},NR=function(p,G){return G.unshift(p),new Va(G,"slowcat")},WR=function(p){return p},TR=function(p,G){return new VB(p.name,p.args,G)},IR=function(p){return p},_R=function(p){return p},YR=function(p){return new Ug("setcps",{value:p})},HR=function(p){return new Ug("setcps",{value:p/120/2})},KR=function(){return new Ug("hush")},D=t.peg$currPos|0,De=D,$i=[{line:1,column:1}],mn=D,Ra=t.peg$maxFailExpected||[],ce=t.peg$silentFails|0,Qs;if(t.startRule){if(!(t.startRule in s))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');r=s[t.startRule]}function jR(){return e.substring(De,D)}function iA(){return jg(De,D)}function ze(p,G){return{type:"literal",text:p,ignoreCase:G}}function Wn(p,G,Z){return{type:"class",parts:p,inverted:G,ignoreCase:Z}}function OR(){return{type:"end"}}function Kg(p){return{type:"other",description:p}}function sA(p){var G=$i[p],Z;if(G)return G;if(p>=$i.length)Z=$i.length-1;else for(Z=p;!$i[--Z];);for(G=$i[Z],G={line:G.line,column:G.column};Z<p;)e.charCodeAt(Z)===10?(G.line++,G.column=1):G.column++,Z++;return $i[p]=G,G}function jg(p,G,Z){var W=sA(p),le=sA(G),at={source:i,start:{offset:p,line:W.line,column:W.column},end:{offset:G,line:le.line,column:le.column}};return at}function ye(p){D<mn||(D>mn&&(mn=D,Ra=[]),Ra.push(p))}function UR(p,G,Z){return new Jn(Jn.buildMessage(p,G),p,G,Z)}function rA(){var p;return p=BB(),p}function Tn(){var p,G;return ce++,p=D,tB(),G=Ba(),G!==n?(eB(),$R(),De=p,p=oR()):(D=p,p=n),ce--,p===n&&ce===0&&ye(re),p}function JR(){var p;return e.charCodeAt(D)===46?(p=a,D++):(p=n,ce===0&&ye(Q)),p}function QR(){var p;return p=e.charAt(D),Ae.test(p)?D++:(p=n,ce===0&&ye(Ke)),p}function qR(){var p;return p=e.charAt(D),Pe.test(p)?D++:(p=n,ce===0&&ye(me)),p}function $R(){var p,G,Z,W,le;if(p=D,G=qR(),G!==n){if(Z=e.charAt(D),we.test(Z)?D++:(Z=n,ce===0&&ye(_e)),Z===n&&(Z=null),W=[],le=es(),le!==n)for(;le!==n;)W.push(le),le=es();else W=n;W!==n?(G=[G,Z,W],p=G):(D=p,p=n)}else D=p,p=n;return p}function eB(){var p,G,Z,W;if(p=D,G=JR(),G!==n){if(Z=[],W=es(),W!==n)for(;W!==n;)Z.push(W),W=es();else Z=n;Z!==n?(G=[G,Z],p=G):(D=p,p=n)}else D=p,p=n;return p}function Ba(){var p,G,Z,W;if(p=nB(),p===n)if(p=D,G=QR(),G!==n){for(Z=[],W=es();W!==n;)Z.push(W),W=es();G=[G,Z],p=G}else D=p,p=n;return p}function tB(){var p;return e.charCodeAt(D)===45?(p=o,D++):(p=n,ce===0&&ye(At)),p}function nB(){var p;return e.charCodeAt(D)===48?(p=c,D++):(p=n,ce===0&&ye(Fn)),p}function es(){var p;return p=e.charAt(D),Le.test(p)?D++:(p=n,ce===0&&ye(ii)),p}function be(){var p,G;for(ce++,p=[],G=e.charAt(D),ke.test(G)?D++:(G=n,ce===0&&ye(Lt));G!==n;)p.push(G),G=e.charAt(D),ke.test(G)?D++:(G=n,ce===0&&ye(Lt));return ce--,G=n,ce===0&&ye(wn),p}function ts(){var p,G,Z,W;return p=D,G=be(),e.charCodeAt(D)===44?(Z=l,D++):(Z=n,ce===0&&ye(zn)),Z!==n?(W=be(),G=[G,Z,W],p=G):(D=p,p=n),p}function aA(){var p,G,Z,W;return p=D,G=be(),e.charCodeAt(D)===124?(Z=d,D++):(Z=n,ce===0&&ye(Se)),Z!==n?(W=be(),G=[G,Z,W],p=G):(D=p,p=n),p}function uA(){var p,G,Z,W;return p=D,G=be(),e.charCodeAt(D)===46?(Z=a,D++):(Z=n,ce===0&&ye(Q)),Z!==n?(W=be(),G=[G,Z,W],p=G):(D=p,p=n),p}function ns(){var p;return p=e.charAt(D),gt.test(p)?D++:(p=n,ce===0&&ye($e)),p}function ka(){var p;return ce++,p=e.charAt(D),oe.test(p)?D++:(p=n,ce===0&&ye(tt)),ce--,p===n&&ce===0&&ye(ge),p}function oA(){var p,G,Z,W;if(p=D,be(),G=[],Z=ka(),Z!==n)for(;Z!==n;)G.push(Z),Z=ka();else G=n;return G!==n?(Z=be(),De=D,W=cR(G),W?W=n:W=void 0,W!==n?(De=p,p=lR(G)):(D=p,p=n)):(D=p,p=n),p}function iB(){var p,G,Z,W;return p=D,be(),e.charCodeAt(D)===91?(G=m,D++):(G=n,ce===0&&ye(Ue)),G!==n?(be(),Z=dA(),Z!==n?(be(),e.charCodeAt(D)===93?(W=f,D++):(W=n,ce===0&&ye(Fi)),W!==n?(be(),De=p,p=dR(Z)):(D=p,p=n)):(D=p,p=n)):(D=p,p=n),p}function sB(){var p,G,Z,W,le;return p=D,be(),e.charCodeAt(D)===123?(G=b,D++):(G=n,ce===0&&ye(wi)),G!==n?(be(),Z=hA(),Z!==n?(be(),e.charCodeAt(D)===125?(W=g,D++):(W=n,ce===0&&ye(bt)),W!==n?(le=rB(),le===n&&(le=null),be(),De=p,p=hR(Z,le)):(D=p,p=n)):(D=p,p=n)):(D=p,p=n),p}function rB(){var p,G,Z;return p=D,e.charCodeAt(D)===37?(G=P,D++):(G=n,ce===0&&ye(si)),G!==n?(Z=is(),Z!==n?(De=p,p=pR(Z)):(D=p,p=n)):(D=p,p=n),p}function aB(){var p,G,Z,W;return p=D,be(),e.charCodeAt(D)===60?(G=A,D++):(G=n,ce===0&&ye(fe)),G!==n?(be(),Z=hA(),Z!==n?(be(),e.charCodeAt(D)===62?(W=x,D++):(W=n,ce===0&&ye(Me)),W!==n?(be(),De=p,p=mR(Z)):(D=p,p=n)):(D=p,p=n)):(D=p,p=n),p}function is(){var p;return p=oA(),p===n&&(p=iB(),p===n&&(p=sB(),p===n&&(p=aB()))),p}function cA(){var p;return p=uB(),p===n&&(p=cB(),p===n&&(p=lB(),p===n&&(p=dB(),p===n&&(p=oB(),p===n&&(p=hB(),p===n&&(p=pB(),p===n&&(p=mB()))))))),p}function uB(){var p,G,Z;return p=D,be(),G=e.charAt(D),Ie.test(G)?D++:(G=n,ce===0&&ye(nt)),G!==n?(Z=Tn(),Z===n&&(Z=null),De=p,p=fR(Z)):(D=p,p=n),p}function oB(){var p,G,Z;return p=D,be(),e.charCodeAt(D)===33?(G=E,D++):(G=n,ce===0&&ye(et)),G!==n?(Z=Tn(),Z===n&&(Z=null),De=p,p=yR(Z)):(D=p,p=n),p}function cB(){var p,G,Z,W,le,at,fn;return p=D,e.charCodeAt(D)===40?(G=V,D++):(G=n,ce===0&&ye(xe)),G!==n?(be(),Z=qs(),Z!==n?(be(),W=ts(),W!==n?(be(),le=qs(),le!==n?(be(),ts(),be(),at=qs(),at===n&&(at=null),be(),e.charCodeAt(D)===41?(fn=S,D++):(fn=n,ce===0&&ye(He)),fn!==n?(De=p,p=gR(Z,le,at)):(D=p,p=n)):(D=p,p=n)):(D=p,p=n)):(D=p,p=n)):(D=p,p=n),p}function lB(){var p,G,Z;return p=D,e.charCodeAt(D)===47?(G=X,D++):(G=n,ce===0&&ye(It)),G!==n?(Z=is(),Z!==n?(De=p,p=bR(Z)):(D=p,p=n)):(D=p,p=n),p}function dB(){var p,G,Z;return p=D,e.charCodeAt(D)===42?(G=L,D++):(G=n,ce===0&&ye(_t)),G!==n?(Z=is(),Z!==n?(De=p,p=MR(Z)):(D=p,p=n)):(D=p,p=n),p}function hB(){var p,G,Z;return p=D,e.charCodeAt(D)===63?(G=R,D++):(G=n,ce===0&&ye(Ea)),G!==n?(Z=Tn(),Z===n&&(Z=null),De=p,p=CR(Z)):(D=p,p=n),p}function pB(){var p,G,Z;return p=D,e.charCodeAt(D)===58?(G=B,D++):(G=n,ce===0&&ye(Yg)),G!==n?(Z=is(),Z!==n?(De=p,p=vR(Z)):(D=p,p=n)):(D=p,p=n),p}function mB(){var p,G,Z;return p=D,e.substr(D,2)===j?(G=j,D+=2):(G=n,ce===0&&ye(Hg)),G!==n?(Z=is(),Z!==n?(De=p,p=PR(Z)):(D=p,p=n)):(D=p,p=n),p}function qs(){var p,G,Z,W;if(p=D,G=is(),G!==n){for(Z=[],W=cA();W!==n;)Z.push(W),W=cA();De=p,p=GR(G,Z)}else D=p,p=n;return p}function ai(){var p,G,Z,W;if(p=D,e.charCodeAt(D)===94?(G=N,D++):(G=n,ce===0&&ye(h)),G===n&&(G=null),Z=[],W=qs(),W!==n)for(;W!==n;)Z.push(W),W=qs();else Z=n;return Z!==n?(De=p,p=AR(G,Z)):(D=p,p=n),p}function lA(){var p,G,Z,W,le;if(p=D,G=[],Z=D,W=ts(),W!==n?(le=ai(),le!==n?Z=le:(D=Z,Z=n)):(D=Z,Z=n),Z!==n)for(;Z!==n;)G.push(Z),Z=D,W=ts(),W!==n?(le=ai(),le!==n?Z=le:(D=Z,Z=n)):(D=Z,Z=n);else G=n;return G!==n&&(De=p,G=FR(G)),p=G,p}function fB(){var p,G,Z,W,le;if(p=D,G=[],Z=D,W=aA(),W!==n?(le=ai(),le!==n?Z=le:(D=Z,Z=n)):(D=Z,Z=n),Z!==n)for(;Z!==n;)G.push(Z),Z=D,W=aA(),W!==n?(le=ai(),le!==n?Z=le:(D=Z,Z=n)):(D=Z,Z=n);else G=n;return G!==n&&(De=p,G=wR(G)),p=G,p}function yB(){var p,G,Z,W,le;if(p=D,G=[],Z=D,W=uA(),W!==n?(le=ai(),le!==n?Z=le:(D=Z,Z=n)):(D=Z,Z=n),Z!==n)for(;Z!==n;)G.push(Z),Z=D,W=uA(),W!==n?(le=ai(),le!==n?Z=le:(D=Z,Z=n)):(D=Z,Z=n);else G=n;return G!==n&&(De=p,G=DR(G)),p=G,p}function dA(){var p,G,Z;return p=D,G=ai(),G!==n?(Z=lA(),Z===n&&(Z=fB(),Z===n&&(Z=yB())),Z===n&&(Z=null),De=p,p=XR(G,Z)):(D=p,p=n),p}function hA(){var p,G,Z;return p=D,G=ai(),G!==n?(Z=lA(),Z===n&&(Z=null),De=p,p=SR(G,Z)):(D=p,p=n),p}function gB(){var p,G,Z,W;return p=D,be(),G=ns(),G!==n?(be(),Z=dA(),Z!==n?(be(),W=ns(),W!==n?(De=p,p=ZR(Z)):(D=p,p=n)):(D=p,p=n)):(D=p,p=n),p}function bB(){var p;return p=wB(),p===n&&(p=PB(),p===n&&(p=FB(),p===n&&(p=CB(),p===n&&(p=vB(),p===n&&(p=MB(),p===n&&(p=AB(),p===n&&(p=GB()))))))),p}function MB(){var p,G,Z;return p=D,e.substr(D,6)===ee?(G=ee,D+=6):(G=n,ce===0&&ye(M)),G!==n?(be(),Z=ss(),Z!==n?(De=p,p=ER(Z)):(D=p,p=n)):(D=p,p=n),p}function CB(){var p,G,Z,W,le;return p=D,e.substr(D,6)===Y?(G=Y,D+=6):(G=n,ce===0&&ye(y)),G!==n?(be(),Z=ns(),Z!==n?(W=oA(),W!==n?(le=ns(),le!==n?(De=p,p=LR(W)):(D=p,p=n)):(D=p,p=n)):(D=p,p=n)):(D=p,p=n),p}function vB(){var p,G,Z,W;return p=D,e.substr(D,6)===K?(G=K,D+=6):(G=n,ce===0&&ye(C)),G!==n?(be(),Z=Ba(),Z!==n?(be(),W=Ba(),W!==n?(be(),Ba(),De=p,p=xR(Z,W)):(D=p,p=n)):(D=p,p=n)):(D=p,p=n),p}function PB(){var p,G,Z;return p=D,e.substr(D,4)===te?(G=te,D+=4):(G=n,ce===0&&ye(F)),G!==n?(be(),Z=Tn(),Z!==n?(De=p,p=RR(Z)):(D=p,p=n)):(D=p,p=n),p}function GB(){var p,G,Z;return p=D,e.substr(D,4)===Ce?(G=Ce,D+=4):(G=n,ce===0&&ye(z)),G!==n?(be(),Z=Tn(),Z!==n?(De=p,p=BR(Z)):(D=p,p=n)):(D=p,p=n),p}function AB(){var p,G,Z;return p=D,e.substr(D,4)===ue?(G=ue,D+=4):(G=n,ce===0&&ye(T)),G!==n?(be(),Z=Tn(),Z!==n?(De=p,p=kR(Z)):(D=p,p=n)):(D=p,p=n),p}function FB(){var p,G,Z;return p=D,e.substr(D,4)===he?(G=he,D+=4):(G=n,ce===0&&ye(O)),G!==n?(be(),Z=Tn(),Z!==n?(De=p,p=VR(Z)):(D=p,p=n)):(D=p,p=n),p}function wB(){var p,G,Z,W,le;if(p=D,e.substr(D,5)===se?(G=se,D+=5):(G=n,ce===0&&ye(ne)),G!==n)if(be(),Z=ns(),Z!==n){if(W=[],le=ka(),le!==n)for(;le!==n;)W.push(le),le=ka();else W=n;W!==n?(le=ns(),le!==n?(De=p,p=zR(W)):(D=p,p=n)):(D=p,p=n)}else D=p,p=n;else D=p,p=n;return p}function Og(){var p,G,Z,W;if(p=D,e.substr(D,2)===Ye?(G=Ye,D+=2):(G=n,ce===0&&ye(Re)),G!==n){for(Z=[],W=e.charAt(D),Gt.test(W)?D++:(W=n,ce===0&&ye(lt));W!==n;)Z.push(W),W=e.charAt(D),Gt.test(W)?D++:(W=n,ce===0&&ye(lt));G=[G,Z],p=G}else D=p,p=n;return p}function DB(){var p,G,Z,W,le,at,fn,rs;if(p=D,e.substr(D,3)===ot?(G=ot,D+=3):(G=n,ce===0&&ye(Nn)),G!==n)if(be(),e.charCodeAt(D)===91?(Z=m,D++):(Z=n,ce===0&&ye(Ue)),Z!==n)if(be(),W=ss(),W!==n){for(le=[],at=D,fn=ts(),fn!==n?(rs=ss(),rs!==n?(De=at,at=nA(W,rs)):(D=at,at=n)):(D=at,at=n);at!==n;)le.push(at),at=D,fn=ts(),fn!==n?(rs=ss(),rs!==n?(De=at,at=nA(W,rs)):(D=at,at=n)):(D=at,at=n);at=be(),e.charCodeAt(D)===93?(fn=f,D++):(fn=n,ce===0&&ye(Fi)),fn!==n?(De=p,p=NR(W,le)):(D=p,p=n)}else D=p,p=n;else D=p,p=n;else D=p,p=n;return p}function XB(){var p;return p=DB(),p===n&&(p=gB()),p}function ss(){var p,G,Z,W,le;if(p=D,G=XB(),G!==n){for(be(),Z=[],W=Og();W!==n;)Z.push(W),W=Og();De=p,p=WR(G)}else D=p,p=n;return p===n&&(p=D,G=bB(),G!==n?(be(),e.charCodeAt(D)===36?(Z=pt,D++):(Z=n,ce===0&&ye(ri)),Z!==n?(W=be(),le=ss(),le!==n?(De=p,p=TR(G,le)):(D=p,p=n)):(D=p,p=n)):(D=p,p=n)),p}function SB(){var p,G;return p=D,G=ss(),G!==n&&(De=p,G=IR(G)),p=G,p===n&&(p=Og()),p}function ZB(){var p;return p=SB(),p}function EB(){var p,G;return p=D,be(),G=LB(),G===n&&(G=xB(),G===n&&(G=RB())),G!==n?(be(),De=p,p=_R(G)):(D=p,p=n),p}function LB(){var p,G,Z;return p=D,e.substr(D,6)===J?(G=J,D+=6):(G=n,ce===0&&ye(La)),G!==n?(be(),Z=Tn(),Z!==n?(De=p,p=YR(Z)):(D=p,p=n)):(D=p,p=n),p}function xB(){var p,G,Z;return p=D,e.substr(D,6)===ct?(G=ct,D+=6):(G=n,ce===0&&ye(xa)),G!==n?(be(),Z=Tn(),Z!==n?(De=p,p=HR(Z)):(D=p,p=n)):(D=p,p=n),p}function RB(){var p,G;return p=D,e.substr(D,4)===pe?(G=pe,D+=4):(G=n,ce===0&&ye(en)),G!==n&&(De=p,G=KR()),p=G,p}function BB(){var p;return p=ZB(),p===n&&(p=EB()),p}var kB=function(p){this.type_="atom",this.source_=p,this.location_=iA()},Va=function(p,G,Z,W){this.type_="pattern",this.arguments_={alignment:G,_steps:W},Z!==void 0&&(this.arguments_.seed=Z),this.source_=p},VB=function(p,G,Z){this.type_=p,this.arguments_=G,this.source_=Z},zB=function(p,G){this.type_="element",this.source_=p,this.options_=G,this.location_=iA()},Ug=function(p,G){this.type_="command",this.name_=p,this.options_=G},Jg=0;if(Qs=r(),t.peg$library)return{peg$result:Qs,peg$currPos:D,peg$FAILED:n,peg$maxFailExpected:Ra,peg$maxFailPos:mn};if(Qs!==n&&D===e.length)return Qs;throw Qs!==n&&D<e.length&&ye(OR()),UR(Ra,mn<e.length?e.charAt(mn):null,mn<e.length?jg(mn,mn+1):jg(mn,mn))}const L9=["start"],x9=3e-4,oS=(e,t)=>(n,i)=>{const a=e.source_[i].options_?.ops,o=n.__steps_source;if(a)for(const c of a)switch(c.type_){case"stretch":{const l=["fast","slow"],{type:d,amount:m}=c.arguments_;if(!l.includes(d))throw new Error(`mini: stretch: type must be one of ${l.join("|")} but got ${d}`);n=H(n)[d](t(m));break}case"replicate":{const{amount:l}=c.arguments_;n=H(n),n=n._repeatCycles(l)._fast(l);break}case"bjorklund":{c.arguments_.rotation?n=n.euclidRot(t(c.arguments_.pulse),t(c.arguments_.step),t(c.arguments_.rotation)):n=n.euclid(t(c.arguments_.pulse),t(c.arguments_.step));break}case"degradeBy":{n=H(n)._degradeByWith(Dt.early(x9*c.arguments_.seed),c.arguments_.amount??.5);break}case"tail":{const l=t(c.arguments_.element);n=n.fmap(d=>m=>Array.isArray(d)?[...d,m]:[d,m]).appLeft(l);break}case"range":{const l=t(c.arguments_.element);n=H(n);const d=(f,b,g=1)=>Array.from({length:Math.abs(b-f)/g+1},(P,A)=>f<b?f+A*g:f-A*g);n=((f,b)=>f.squeezeBind(g=>b.bind(P=>Ct(...d(g,P)))))(n,l);break}default:console.warn(`operator "${c.type_}" not implemented`)}return n.__steps_source=n.__steps_source||o,n};function yi(e,t,n,i=0){n?.(e);const s=r=>yi(r,t,n,i);switch(e.type_){case"pattern":{const r=e.source_.map(l=>s(l)).map(oS(e,s)),a=e.arguments_.alignment,o=r.filter(l=>l.__steps_source);let c;switch(a){case"stack":{c=qe(...r),o.length&&(c._steps=sn(...o.map(l=>U(l._steps))));break}case"polymeter_slowcat":{c=qe(...r.map(l=>l._slow(l.__weight))),o.length&&(c._steps=sn(...o.map(l=>U(l._steps))));break}case"polymeter":{const l=e.arguments_.stepsPerCycle?s(e.arguments_.stepsPerCycle).fmap(m=>U(m)):je(U(r.length>0?r[0].__weight:1)),d=r.map(m=>m.fast(l.fmap(f=>f.div(m.__weight))));c=qe(...d);break}case"rand":{c=vs(Dt.early(x9*e.arguments_.seed).segment(1),r),o.length&&(c._steps=sn(...o.map(l=>U(l._steps))));break}case"feet":{c=Ct(...r);break}default:{if(e.source_.some(d=>!!d.options_?.weight)){const d=e.source_.reduce((m,f)=>m.add(f.options_?.weight||U(1)),U(0));c=pr(...e.source_.map((m,f)=>[m.options_?.weight||U(1),r[f]])),c.__weight=d,c._steps=d,o.length&&(c._steps=c._steps.mul(sn(...o.map(m=>U(m._steps)))))}else c=Yt(...r),c._steps=r.length;e.arguments_._steps&&(c.__steps_source=!0)}}return o.length&&(c.__steps_source=!0),c}case"element":return s(e.source_);case"atom":{if(e.source_==="~"||e.source_==="-")return Te;if(!e.location_)return console.warn("no location for",e),e.source_;const r=isNaN(Number(e.source_))?e.source_:Number(e.source_);if(i===-1)return je(r);const[a,o]=Kr(t,e,i);return je(r).withLoc(a,o)}case"stretch":return s(e.source_).slow(s(e.arguments_.amount));default:return console.warn(`node type "${e.type_}" not implemented -> returning silence`),Te}}const Kr=(e,t,n=0)=>{const{start:i,end:s}=t.location_,r=e?.split("").slice(i.offset,s.offset).join(""),[a=0,o=0]=r?r.split(t.source_).map(c=>c.split("").filter(l=>l===" ").length):[];return[i.offset+a+n,s.offset-o+n]},Wi=(e,t=0,n=e)=>{try{return Ay(e)}catch(i){const s=[i.location.start.offset+t,i.location.end.offset+t],r=n.slice(0,s[0]).split(`
`).length;throw new Error(`[mini] parse error at line ${r}: ${i.message}`)}},Fy=(e,t,n)=>{const i=Wi(e,t,n);let s=[];return yi(i,e,r=>{r.type_==="atom"&&s.push(r)},-1),s},jr=(e,t=0,n)=>Fy(e,t,n).map(i=>Kr(e,i,t)),Or=(...e)=>{const t=e.map(n=>{const i=`"${n}"`,s=Wi(i);return yi(s,i)});return Yt(...t)},R9=(e,t)=>{const n=`"${e}"`,i=Wi(n);return yi(i,n,null,t)},B9=e=>{const t=Wi(e);return yi(t,e)};function k9(e){return typeof e=="string"?Or(e):H(e)}function wy(){ru(Or)}const cS=Object.freeze(Object.defineProperty({__proto__:null,StartRules:L9,SyntaxError:Jn,getLeafLocation:Kr,getLeafLocations:jr,getLeaves:Fy,h:B9,m:R9,mini:Or,mini2ast:Wi,miniAllStrings:wy,minify:k9,parse:Ay,patternifyAST:yi},Symbol.toStringTag,{value:"Module"}));var lS=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],V9=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],dS="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࢗ-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･",z9="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲊᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟍꟐꟑꟓꟕ-Ƛꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",Dy={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Xy="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",hS={5:Xy,"5module":Xy+" export import",6:Xy+" const class extends export import super"},pS=/^in(stanceof)?$/,mS=new RegExp("["+z9+"]"),fS=new RegExp("["+z9+dS+"]");function Sy(e,t){for(var n=65536,i=0;i<t.length;i+=2){if(n+=t[i],n>e)return!1;if(n+=t[i+1],n>=e)return!0}return!1}function Rn(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&mS.test(String.fromCharCode(e)):t===!1?!1:Sy(e,V9)}function Ti(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&fS.test(String.fromCharCode(e)):t===!1?!1:Sy(e,V9)||Sy(e,lS)}var Ne=function(t,n){n===void 0&&(n={}),this.label=t,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null};function Ot(e,t){return new Ne(e,{beforeExpr:!0,binop:t})}var Ut={beforeExpr:!0},zt={startsExpr:!0},Zy={};function Ve(e,t){return t===void 0&&(t={}),t.keyword=e,Zy[e]=new Ne(e,t)}var v={num:new Ne("num",zt),regexp:new Ne("regexp",zt),string:new Ne("string",zt),name:new Ne("name",zt),privateId:new Ne("privateId",zt),eof:new Ne("eof"),bracketL:new Ne("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Ne("]"),braceL:new Ne("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Ne("}"),parenL:new Ne("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Ne(")"),comma:new Ne(",",Ut),semi:new Ne(";",Ut),colon:new Ne(":",Ut),dot:new Ne("."),question:new Ne("?",Ut),questionDot:new Ne("?."),arrow:new Ne("=>",Ut),template:new Ne("template"),invalidTemplate:new Ne("invalidTemplate"),ellipsis:new Ne("...",Ut),backQuote:new Ne("`",zt),dollarBraceL:new Ne("${",{beforeExpr:!0,startsExpr:!0}),eq:new Ne("=",{beforeExpr:!0,isAssign:!0}),assign:new Ne("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Ne("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Ne("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Ot("||",1),logicalAND:Ot("&&",2),bitwiseOR:Ot("|",3),bitwiseXOR:Ot("^",4),bitwiseAND:Ot("&",5),equality:Ot("==/!=/===/!==",6),relational:Ot("</>/<=/>=",7),bitShift:Ot("<</>>/>>>",8),plusMin:new Ne("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Ot("%",10),star:Ot("*",10),slash:Ot("/",10),starstar:new Ne("**",{beforeExpr:!0}),coalesce:Ot("??",1),_break:Ve("break"),_case:Ve("case",Ut),_catch:Ve("catch"),_continue:Ve("continue"),_debugger:Ve("debugger"),_default:Ve("default",Ut),_do:Ve("do",{isLoop:!0,beforeExpr:!0}),_else:Ve("else",Ut),_finally:Ve("finally"),_for:Ve("for",{isLoop:!0}),_function:Ve("function",zt),_if:Ve("if"),_return:Ve("return",Ut),_switch:Ve("switch"),_throw:Ve("throw",Ut),_try:Ve("try"),_var:Ve("var"),_const:Ve("const"),_while:Ve("while",{isLoop:!0}),_with:Ve("with"),_new:Ve("new",{beforeExpr:!0,startsExpr:!0}),_this:Ve("this",zt),_super:Ve("super",zt),_class:Ve("class",zt),_extends:Ve("extends",Ut),_export:Ve("export"),_import:Ve("import",zt),_null:Ve("null",zt),_true:Ve("true",zt),_false:Ve("false",zt),_in:Ve("in",{beforeExpr:!0,binop:7}),_instanceof:Ve("instanceof",{beforeExpr:!0,binop:7}),_typeof:Ve("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Ve("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Ve("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Jt=/\r\n?|\n|\u2028|\u2029/,yS=new RegExp(Jt.source,"g");function Ii(e){return e===10||e===13||e===8232||e===8233}function N9(e,t,n){n===void 0&&(n=e.length);for(var i=t;i<n;i++){var s=e.charCodeAt(i);if(Ii(s))return i<n-1&&s===13&&e.charCodeAt(i+1)===10?i+2:i+1}return-1}var W9=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Qt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,T9=Object.prototype,gS=T9.hasOwnProperty,bS=T9.toString,_i=Object.hasOwn||function(e,t){return gS.call(e,t)},I9=Array.isArray||function(e){return bS.call(e)==="[object Array]"},_9=Object.create(null);function Qn(e){return _9[e]||(_9[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function Bn(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var MS=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Bs=function(t,n){this.line=t,this.column=n};Bs.prototype.offset=function(t){return new Bs(this.line,this.column+t)};var Ur=function(t,n,i){this.start=n,this.end=i,t.sourceFile!==null&&(this.source=t.sourceFile)};function Y9(e,t){for(var n=1,i=0;;){var s=N9(e,i,t);if(s<0)return new Bs(n,t-i);++n,i=s}}var Ey={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},H9=!1;function CS(e){var t={};for(var n in Ey)t[n]=e&&_i(e,n)?e[n]:Ey[n];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!H9&&typeof console=="object"&&console.warn&&(H9=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),I9(t.onToken)){var i=t.onToken;t.onToken=function(s){return i.push(s)}}return I9(t.onComment)&&(t.onComment=vS(t,t.onComment)),t}function vS(e,t){return function(n,i,s,r,a,o){var c={type:n?"Block":"Line",value:i,start:s,end:r};e.locations&&(c.loc=new Ur(this,a,o)),e.ranges&&(c.range=[s,r]),t.push(c)}}var ks=1,Yi=2,Ly=4,K9=8,j9=16,O9=32,xy=64,U9=128,Vs=256,Ry=ks|Yi|Vs;function By(e,t){return Yi|(e?Ly:0)|(t?K9:0)}var Jr=0,ky=1,kn=2,J9=3,Q9=4,q9=5,ht=function(t,n,i){this.options=t=CS(t),this.sourceFile=t.sourceFile,this.keywords=Qn(hS[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var s="";t.allowReserved!==!0&&(s=Dy[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(s+=" await")),this.reservedWords=Qn(s);var r=(s?s+" ":"")+Dy.strict;this.reservedWordsStrict=Qn(r),this.reservedWordsStrictBind=Qn(r+" "+Dy.strictBind),this.input=String(n),this.containsEsc=!1,i?(this.pos=i,this.lineStart=this.input.lastIndexOf(`
`,i-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Jt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=v.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(ks),this.regexpState=null,this.privateNameStack=[]},Mn={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};ht.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)},Mn.inFunction.get=function(){return(this.currentVarScope().flags&Yi)>0},Mn.inGenerator.get=function(){return(this.currentVarScope().flags&K9)>0&&!this.currentVarScope().inClassFieldInit},Mn.inAsync.get=function(){return(this.currentVarScope().flags&Ly)>0&&!this.currentVarScope().inClassFieldInit},Mn.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&Vs)return!1;if(t.flags&Yi)return(t.flags&Ly)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},Mn.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&xy)>0||n||this.options.allowSuperOutsideMethod},Mn.allowDirectSuper.get=function(){return(this.currentThisScope().flags&U9)>0},Mn.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},Mn.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&(Yi|Vs))>0||n},Mn.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Vs)>0},ht.extend=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var i=this,s=0;s<t.length;s++)i=t[s](i);return i},ht.parse=function(t,n){return new this(n,t).parse()},ht.parseExpressionAt=function(t,n,i){var s=new this(i,t,n);return s.nextToken(),s.parseExpression()},ht.tokenizer=function(t,n){return new this(n,t)},Object.defineProperties(ht.prototype,Mn);var Et=ht.prototype,PS=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;Et.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){Qt.lastIndex=e,e+=Qt.exec(this.input)[0].length;var t=PS.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){Qt.lastIndex=e+t[0].length;var n=Qt.exec(this.input),i=n.index+n[0].length,s=this.input.charAt(i);return s===";"||s==="}"||Jt.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(s)||s==="!"&&this.input.charAt(i+1)==="=")}e+=t[0].length,Qt.lastIndex=e,e+=Qt.exec(this.input)[0].length,this.input[e]===";"&&e++}},Et.eat=function(e){return this.type===e?(this.next(),!0):!1},Et.isContextual=function(e){return this.type===v.name&&this.value===e&&!this.containsEsc},Et.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1},Et.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},Et.canInsertSemicolon=function(){return this.type===v.eof||this.type===v.braceR||Jt.test(this.input.slice(this.lastTokEnd,this.start))},Et.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},Et.semicolon=function(){!this.eat(v.semi)&&!this.insertSemicolon()&&this.unexpected()},Et.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},Et.expect=function(e){this.eat(e)||this.unexpected()},Et.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var Qr=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Et.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}},Et.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,i=e.doubleProto;if(!t)return n>=0||i>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),i>=0&&this.raiseRecoverable(i,"Redefinition of __proto__ property")},Et.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},Et.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var ae=ht.prototype;ae.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==v.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var i=0,s=Object.keys(this.undefinedExports);i<s.length;i+=1){var r=s[i];this.raiseRecoverable(this.undefinedExports[r].start,"Export '"+r+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var Vy={kind:"loop"},GS={kind:"switch"};ae.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Qt.lastIndex=this.pos;var t=Qt.exec(this.input),n=this.pos+t[0].length,i=this.input.charCodeAt(n);if(i===91||i===92)return!0;if(e)return!1;if(i===123||i>55295&&i<56320)return!0;if(Rn(i,!0)){for(var s=n+1;Ti(i=this.input.charCodeAt(s),!0);)++s;if(i===92||i>55295&&i<56320)return!0;var r=this.input.slice(n,s);if(!pS.test(r))return!0}return!1},ae.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Qt.lastIndex=this.pos;var e=Qt.exec(this.input),t=this.pos+e[0].length,n;return!Jt.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(Ti(n=this.input.charCodeAt(t+8))||n>55295&&n<56320))},ae.parseStatement=function(e,t,n){var i=this.type,s=this.startNode(),r;switch(this.isLet(e)&&(i=v._var,r="let"),i){case v._break:case v._continue:return this.parseBreakContinueStatement(s,i.keyword);case v._debugger:return this.parseDebuggerStatement(s);case v._do:return this.parseDoStatement(s);case v._for:return this.parseForStatement(s);case v._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!e);case v._class:return e&&this.unexpected(),this.parseClass(s,!0);case v._if:return this.parseIfStatement(s);case v._return:return this.parseReturnStatement(s);case v._switch:return this.parseSwitchStatement(s);case v._throw:return this.parseThrowStatement(s);case v._try:return this.parseTryStatement(s);case v._const:case v._var:return r=r||this.value,e&&r!=="var"&&this.unexpected(),this.parseVarStatement(s,r);case v._while:return this.parseWhileStatement(s);case v._with:return this.parseWithStatement(s);case v.braceL:return this.parseBlock(!0,s);case v.semi:return this.parseEmptyStatement(s);case v._export:case v._import:if(this.options.ecmaVersion>10&&i===v._import){Qt.lastIndex=this.pos;var a=Qt.exec(this.input),o=this.pos+a[0].length,c=this.input.charCodeAt(o);if(c===40||c===46)return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===v._import?this.parseImport(s):this.parseExport(s,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!e);var l=this.value,d=this.parseExpression();return i===v.name&&d.type==="Identifier"&&this.eat(v.colon)?this.parseLabeledStatement(s,l,d,e):this.parseExpressionStatement(s,d)}},ae.parseBreakContinueStatement=function(e,t){var n=t==="break";this.next(),this.eat(v.semi)||this.insertSemicolon()?e.label=null:this.type!==v.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var i=0;i<this.labels.length;++i){var s=this.labels[i];if((e.label==null||s.name===e.label.name)&&(s.kind!=null&&(n||s.kind==="loop")||e.label&&n))break}return i===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},ae.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},ae.parseDoStatement=function(e){return this.next(),this.labels.push(Vy),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(v._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(v.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},ae.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Vy),this.enterScope(0),this.expect(v.parenL),this.type===v.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===v._var||this.type===v._const||n){var i=this.startNode(),s=n?"let":this.value;return this.next(),this.parseVar(i,!0,s),this.finishNode(i,"VariableDeclaration"),(this.type===v._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&i.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===v._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,i)):(t>-1&&this.unexpected(t),this.parseFor(e,i))}var r=this.isContextual("let"),a=!1,o=this.containsEsc,c=new Qr,l=this.start,d=t>-1?this.parseExprSubscripts(c,"await"):this.parseExpression(!0,c);return this.type===v._in||(a=this.options.ecmaVersion>=6&&this.isContextual("of"))?(t>-1?(this.type===v._in&&this.unexpected(t),e.await=!0):a&&this.options.ecmaVersion>=8&&(d.start===l&&!o&&d.type==="Identifier"&&d.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(e.await=!1)),r&&a&&this.raise(d.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(d,!1,c),this.checkLValPattern(d),this.parseForIn(e,d)):(this.checkExpressionErrors(c,!0),t>-1&&this.unexpected(t),this.parseFor(e,d))},ae.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,zs|(n?0:zy),!1,t)},ae.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(v._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},ae.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(v.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},ae.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(v.braceL),this.labels.push(GS),this.enterScope(0);for(var t,n=!1;this.type!==v.braceR;)if(this.type===v._case||this.type===v._default){var i=this.type===v._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),i?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(v.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},ae.parseThrowStatement=function(e){return this.next(),Jt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var AS=[];ae.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?O9:0),this.checkLValPattern(e,t?Q9:kn),this.expect(v.parenR),e},ae.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===v._catch){var t=this.startNode();this.next(),this.eat(v.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(v._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},ae.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")},ae.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(Vy),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},ae.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},ae.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},ae.parseLabeledStatement=function(e,t,n,i){for(var s=0,r=this.labels;s<r.length;s+=1){var a=r[s];a.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var o=this.type.isLoop?"loop":this.type===v._switch?"switch":null,c=this.labels.length-1;c>=0;c--){var l=this.labels[c];if(l.statementStart===e.start)l.statementStart=this.start,l.kind=o;else break}return this.labels.push({name:t,kind:o,statementStart:this.start}),e.body=this.parseStatement(i?i.indexOf("label")===-1?i+"label":i:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")},ae.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},ae.parseBlock=function(e,t,n){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(v.braceL),e&&this.enterScope(0);this.type!==v.braceR;){var i=this.parseStatement(null);t.body.push(i)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")},ae.parseFor=function(e,t){return e.init=t,this.expect(v.semi),e.test=this.type===v.semi?null:this.parseExpression(),this.expect(v.semi),e.update=this.type===v.parenR?null:this.parseExpression(),this.expect(v.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},ae.parseForIn=function(e,t){var n=this.type===v._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(v.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")},ae.parseVar=function(e,t,n,i){for(e.declarations=[],e.kind=n;;){var s=this.startNode();if(this.parseVarId(s,n),this.eat(v.eq)?s.init=this.parseMaybeAssign(t):!i&&n==="const"&&!(this.type===v._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!i&&s.id.type!=="Identifier"&&!(t&&(this.type===v._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):s.init=null,e.declarations.push(this.finishNode(s,"VariableDeclarator")),!this.eat(v.comma))break}return e},ae.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?ky:kn,!1)};var zs=1,zy=2,$9=4;ae.parseFunction=function(e,t,n,i,s){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!i)&&(this.type===v.star&&t&zy&&this.unexpected(),e.generator=this.eat(v.star)),this.options.ecmaVersion>=8&&(e.async=!!i),t&zs&&(e.id=t&$9&&this.type!==v.name?null:this.parseIdent(),e.id&&!(t&zy)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?ky:kn:J9));var r=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(By(e.async,e.generator)),t&zs||(e.id=this.type===v.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,s),this.yieldPos=r,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(e,t&zs?"FunctionDeclaration":"FunctionExpression")},ae.parseFunctionParams=function(e){this.expect(v.parenL),e.params=this.parseBindingList(v.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},ae.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var i=this.enterClassBody(),s=this.startNode(),r=!1;for(s.body=[],this.expect(v.braceL);this.type!==v.braceR;){var a=this.parseClassElement(e.superClass!==null);a&&(s.body.push(a),a.type==="MethodDefinition"&&a.kind==="constructor"?(r&&this.raiseRecoverable(a.start,"Duplicate constructor in the same class"),r=!0):a.key&&a.key.type==="PrivateIdentifier"&&FS(i,a)&&this.raiseRecoverable(a.key.start,"Identifier '#"+a.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(s,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},ae.parseClassElement=function(e){if(this.eat(v.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),i="",s=!1,r=!1,a="method",o=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(v.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===v.star?o=!0:i="static"}if(n.static=o,!i&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===v.star)&&!this.canInsertSemicolon()?r=!0:i="async"),!i&&(t>=9||!r)&&this.eat(v.star)&&(s=!0),!i&&!r&&!s){var c=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?a=c:i=c)}if(i?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=i,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===v.parenL||a!=="method"||s||r){var l=!n.static&&qr(n,"constructor"),d=l&&e;l&&a!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=l?"constructor":a,this.parseClassMethod(n,s,r,d)}else this.parseClassField(n);return n},ae.isClassElementNameStart=function(){return this.type===v.name||this.type===v.privateId||this.type===v.num||this.type===v.string||this.type===v.bracketL||this.type.keyword},ae.parseClassElementName=function(e){this.type===v.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)},ae.parseClassMethod=function(e,t,n,i){var s=e.key;e.kind==="constructor"?(t&&this.raise(s.start,"Constructor can't be a generator"),n&&this.raise(s.start,"Constructor can't be an async method")):e.static&&qr(e,"prototype")&&this.raise(s.start,"Classes may not have a static property named prototype");var r=e.value=this.parseMethod(t,n,i);return e.kind==="get"&&r.params.length!==0&&this.raiseRecoverable(r.start,"getter should have no params"),e.kind==="set"&&r.params.length!==1&&this.raiseRecoverable(r.start,"setter should have exactly one param"),e.kind==="set"&&r.params[0].type==="RestElement"&&this.raiseRecoverable(r.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")},ae.parseClassField=function(e){if(qr(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&qr(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(v.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")},ae.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(Vs|xy);this.type!==v.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")},ae.parseClassId=function(e,t){this.type===v.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,kn,!1)):(t===!0&&this.unexpected(),e.id=null)},ae.parseClassSuper=function(e){e.superClass=this.eat(v._extends)?this.parseExprSubscripts(null,!1):null},ae.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared},ae.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var i=this.privateNameStack.length,s=i===0?null:this.privateNameStack[i-1],r=0;r<n.length;++r){var a=n[r];_i(t,a.name)||(s?s.used.push(a):this.raiseRecoverable(a.start,"Private field '#"+a.name+"' must be declared in an enclosing class"))}};function FS(e,t){var n=t.key.name,i=e[n],s="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(s=(t.static?"s":"i")+t.kind),i==="iget"&&s==="iset"||i==="iset"&&s==="iget"||i==="sget"&&s==="sset"||i==="sset"&&s==="sget"?(e[n]="true",!1):i?!0:(e[n]=s,!1)}function qr(e,t){var n=e.computed,i=e.key;return!n&&(i.type==="Identifier"&&i.name===t||i.type==="Literal"&&i.value===t)}ae.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==v.string&&this.unexpected(),e.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")},ae.parseExport=function(e,t){if(this.next(),this.eat(v.star))return this.parseExportAllDeclaration(e,t);if(this.eat(v._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==v.string&&this.unexpected(),e.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause());else{for(var n=0,i=e.specifiers;n<i.length;n+=1){var s=i[n];this.checkUnreserved(s.local),this.checkLocalExport(s.local),s.local.type==="Literal"&&this.raise(s.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},ae.parseExportDeclaration=function(e){return this.parseStatement(null)},ae.parseExportDefaultDeclaration=function(){var e;if(this.type===v._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,zs|$9,!1,e)}else if(this.type===v._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var i=this.parseMaybeAssign();return this.semicolon(),i}},ae.checkExport=function(e,t,n){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),_i(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)},ae.checkPatternExport=function(e,t){var n=t.type;if(n==="Identifier")this.checkExport(e,t,t.start);else if(n==="ObjectPattern")for(var i=0,s=t.properties;i<s.length;i+=1){var r=s[i];this.checkPatternExport(e,r)}else if(n==="ArrayPattern")for(var a=0,o=t.elements;a<o.length;a+=1){var c=o[a];c&&this.checkPatternExport(e,c)}else n==="Property"?this.checkPatternExport(e,t.value):n==="AssignmentPattern"?this.checkPatternExport(e,t.left):n==="RestElement"&&this.checkPatternExport(e,t.argument)},ae.checkVariableExport=function(e,t){if(e)for(var n=0,i=t;n<i.length;n+=1){var s=i[n];this.checkPatternExport(e,s.id)}},ae.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},ae.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")},ae.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(v.braceL);!this.eat(v.braceR);){if(n)n=!1;else if(this.expect(v.comma),this.afterTrailingComma(v.braceR))break;t.push(this.parseExportSpecifier(e))}return t},ae.parseImport=function(e){return this.next(),this.type===v.string?(e.specifiers=AS,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===v.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},ae.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,kn),this.finishNode(e,"ImportSpecifier")},ae.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,kn),this.finishNode(e,"ImportDefaultSpecifier")},ae.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,kn),this.finishNode(e,"ImportNamespaceSpecifier")},ae.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===v.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(v.comma)))return e;if(this.type===v.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(v.braceL);!this.eat(v.braceR);){if(t)t=!1;else if(this.expect(v.comma),this.afterTrailingComma(v.braceR))break;e.push(this.parseImportSpecifier())}return e},ae.parseWithClause=function(){var e=[];if(!this.eat(v._with))return e;this.expect(v.braceL);for(var t={},n=!0;!this.eat(v.braceR);){if(n)n=!1;else if(this.expect(v.comma),this.afterTrailingComma(v.braceR))break;var i=this.parseImportAttribute(),s=i.key.type==="Identifier"?i.key.name:i.key.value;_i(t,s)&&this.raiseRecoverable(i.key.start,"Duplicate attribute key '"+s+"'"),t[s]=!0,e.push(i)}return e},ae.parseImportAttribute=function(){var e=this.startNode();return e.key=this.type===v.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(v.colon),this.type!==v.string&&this.unexpected(),e.value=this.parseExprAtom(),this.finishNode(e,"ImportAttribute")},ae.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===v.string){var e=this.parseLiteral(this.value);return MS.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)},ae.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},ae.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var qt=ht.prototype;qt.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var i=0,s=e.properties;i<s.length;i+=1){var r=s[i];this.toAssignable(r,t),r.type==="RestElement"&&(r.argument.type==="ArrayPattern"||r.argument.type==="ObjectPattern")&&this.raise(r.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e},qt.toAssignableList=function(e,t){for(var n=e.length,i=0;i<n;i++){var s=e[i];s&&this.toAssignable(s,t)}if(n){var r=e[n-1];this.options.ecmaVersion===6&&t&&r&&r.type==="RestElement"&&r.argument.type!=="Identifier"&&this.unexpected(r.argument.start)}return e},qt.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},qt.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==v.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},qt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case v.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(v.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case v.braceL:return this.parseObj(!0)}return this.parseIdent()},qt.parseBindingList=function(e,t,n,i){for(var s=[],r=!0;!this.eat(e);)if(r?r=!1:this.expect(v.comma),t&&this.type===v.comma)s.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===v.ellipsis){var a=this.parseRestBinding();this.parseBindingListItem(a),s.push(a),this.type===v.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else s.push(this.parseAssignableListItem(i))}return s},qt.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t},qt.parseBindingListItem=function(e){return e},qt.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(v.eq))return n;var i=this.startNodeAt(e,t);return i.left=n,i.right=this.parseMaybeAssign(),this.finishNode(i,"AssignmentPattern")},qt.checkLValSimple=function(e,t,n){t===void 0&&(t=Jr);var i=t!==Jr;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(i?"Binding ":"Assigning to ")+e.name+" in strict mode"),i&&(t===kn&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(_i(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==q9&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":i&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return i&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(i?"Binding":"Assigning to")+" rvalue")}},qt.checkLValPattern=function(e,t,n){switch(t===void 0&&(t=Jr),e.type){case"ObjectPattern":for(var i=0,s=e.properties;i<s.length;i+=1){var r=s[i];this.checkLValInnerPattern(r,t,n)}break;case"ArrayPattern":for(var a=0,o=e.elements;a<o.length;a+=1){var c=o[a];c&&this.checkLValInnerPattern(c,t,n)}break;default:this.checkLValSimple(e,t,n)}},qt.checkLValInnerPattern=function(e,t,n){switch(t===void 0&&(t=Jr),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var ln=function(t,n,i,s,r){this.token=t,this.isExpr=!!n,this.preserveSpace=!!i,this.override=s,this.generator=!!r},rt={b_stat:new ln("{",!1),b_expr:new ln("{",!0),b_tmpl:new ln("${",!1),p_stat:new ln("(",!1),p_expr:new ln("(",!0),q_tmpl:new ln("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new ln("function",!1),f_expr:new ln("function",!0),f_expr_gen:new ln("function",!0,!1,null,!0),f_gen:new ln("function",!1,!1,null,!0)},Hi=ht.prototype;Hi.initialContext=function(){return[rt.b_stat]},Hi.curContext=function(){return this.context[this.context.length-1]},Hi.braceIsBlock=function(e){var t=this.curContext();return t===rt.f_expr||t===rt.f_stat?!0:e===v.colon&&(t===rt.b_stat||t===rt.b_expr)?!t.isExpr:e===v._return||e===v.name&&this.exprAllowed?Jt.test(this.input.slice(this.lastTokEnd,this.start)):e===v._else||e===v.semi||e===v.eof||e===v.parenR||e===v.arrow?!0:e===v.braceL?t===rt.b_stat:e===v._var||e===v._const||e===v.name?!1:!this.exprAllowed},Hi.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1},Hi.updateContext=function(e){var t,n=this.type;n.keyword&&e===v.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr},Hi.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)},v.parenR.updateContext=v.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===rt.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr},v.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?rt.b_stat:rt.b_expr),this.exprAllowed=!0},v.dollarBraceL.updateContext=function(){this.context.push(rt.b_tmpl),this.exprAllowed=!0},v.parenL.updateContext=function(e){var t=e===v._if||e===v._for||e===v._with||e===v._while;this.context.push(t?rt.p_stat:rt.p_expr),this.exprAllowed=!0},v.incDec.updateContext=function(){},v._function.updateContext=v._class.updateContext=function(e){e.beforeExpr&&e!==v._else&&!(e===v.semi&&this.curContext()!==rt.p_stat)&&!(e===v._return&&Jt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===v.colon||e===v.braceL)&&this.curContext()===rt.b_stat)?this.context.push(rt.f_expr):this.context.push(rt.f_stat),this.exprAllowed=!1},v.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},v.backQuote.updateContext=function(){this.curContext()===rt.q_tmpl?this.context.pop():this.context.push(rt.q_tmpl),this.exprAllowed=!1},v.star.updateContext=function(e){if(e===v._function){var t=this.context.length-1;this.context[t]===rt.f_expr?this.context[t]=rt.f_expr_gen:this.context[t]=rt.f_gen}this.exprAllowed=!0},v.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==v.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var ve=ht.prototype;ve.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var i=e.key,s;switch(i.type){case"Identifier":s=i.name;break;case"Literal":s=String(i.value);break;default:return}var r=e.kind;if(this.options.ecmaVersion>=6){s==="__proto__"&&r==="init"&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=i.start):this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),t.proto=!0);return}s="$"+s;var a=t[s];if(a){var o;r==="init"?o=this.strict&&a.init||a.get||a.set:o=a.init||a[r],o&&this.raiseRecoverable(i.start,"Redefinition of property")}else a=t[s]={init:!1,get:!1,set:!1};a[r]=!0}},ve.parseExpression=function(e,t){var n=this.start,i=this.startLoc,s=this.parseMaybeAssign(e,t);if(this.type===v.comma){var r=this.startNodeAt(n,i);for(r.expressions=[s];this.eat(v.comma);)r.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(r,"SequenceExpression")}return s},ve.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var i=!1,s=-1,r=-1,a=-1;t?(s=t.parenthesizedAssign,r=t.trailingComma,a=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new Qr,i=!0);var o=this.start,c=this.startLoc;(this.type===v.parenL||this.type===v.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var l=this.parseMaybeConditional(e,t);if(n&&(l=n.call(this,l,o,c)),this.type.isAssign){var d=this.startNodeAt(o,c);return d.operator=this.value,this.type===v.eq&&(l=this.toAssignable(l,!1,t)),i||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=l.start&&(t.shorthandAssign=-1),this.type===v.eq?this.checkLValPattern(l):this.checkLValSimple(l),d.left=l,this.next(),d.right=this.parseMaybeAssign(e),a>-1&&(t.doubleProto=a),this.finishNode(d,"AssignmentExpression")}else i&&this.checkExpressionErrors(t,!0);return s>-1&&(t.parenthesizedAssign=s),r>-1&&(t.trailingComma=r),l},ve.parseMaybeConditional=function(e,t){var n=this.start,i=this.startLoc,s=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return s;if(this.eat(v.question)){var r=this.startNodeAt(n,i);return r.test=s,r.consequent=this.parseMaybeAssign(),this.expect(v.colon),r.alternate=this.parseMaybeAssign(e),this.finishNode(r,"ConditionalExpression")}return s},ve.parseExprOps=function(e,t){var n=this.start,i=this.startLoc,s=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||s.start===n&&s.type==="ArrowFunctionExpression"?s:this.parseExprOp(s,n,i,-1,e)},ve.parseExprOp=function(e,t,n,i,s){var r=this.type.binop;if(r!=null&&(!s||this.type!==v._in)&&r>i){var a=this.type===v.logicalOR||this.type===v.logicalAND,o=this.type===v.coalesce;o&&(r=v.logicalAND.binop);var c=this.value;this.next();var l=this.start,d=this.startLoc,m=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,s),l,d,r,s),f=this.buildBinary(t,n,e,m,c,a||o);return(a&&this.type===v.coalesce||o&&(this.type===v.logicalOR||this.type===v.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(f,t,n,i,s)}return e},ve.buildBinary=function(e,t,n,i,s,r){i.type==="PrivateIdentifier"&&this.raise(i.start,"Private identifier can only be left side of binary expression");var a=this.startNodeAt(e,t);return a.left=n,a.operator=s,a.right=i,this.finishNode(a,r?"LogicalExpression":"BinaryExpression")},ve.parseMaybeUnary=function(e,t,n,i){var s=this.start,r=this.startLoc,a;if(this.isContextual("await")&&this.canAwait)a=this.parseAwait(i),t=!0;else if(this.type.prefix){var o=this.startNode(),c=this.type===v.incDec;o.operator=this.value,o.prefix=!0,this.next(),o.argument=this.parseMaybeUnary(null,!0,c,i),this.checkExpressionErrors(e,!0),c?this.checkLValSimple(o.argument):this.strict&&o.operator==="delete"&&ev(o.argument)?this.raiseRecoverable(o.start,"Deleting local variable in strict mode"):o.operator==="delete"&&Ny(o.argument)?this.raiseRecoverable(o.start,"Private fields can not be deleted"):t=!0,a=this.finishNode(o,c?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===v.privateId)(i||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),a=this.parsePrivateIdent(),this.type!==v._in&&this.unexpected();else{if(a=this.parseExprSubscripts(e,i),this.checkExpressionErrors(e))return a;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=this.startNodeAt(s,r);l.operator=this.value,l.prefix=!1,l.argument=a,this.checkLValSimple(a),this.next(),a=this.finishNode(l,"UpdateExpression")}}if(!n&&this.eat(v.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(s,r,a,this.parseMaybeUnary(null,!1,!1,i),"**",!1);else return a};function ev(e){return e.type==="Identifier"||e.type==="ParenthesizedExpression"&&ev(e.expression)}function Ny(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&Ny(e.expression)||e.type==="ParenthesizedExpression"&&Ny(e.expression)}ve.parseExprSubscripts=function(e,t){var n=this.start,i=this.startLoc,s=this.parseExprAtom(e,t);if(s.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return s;var r=this.parseSubscripts(s,n,i,!1,t);return e&&r.type==="MemberExpression"&&(e.parenthesizedAssign>=r.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=r.start&&(e.parenthesizedBind=-1),e.trailingComma>=r.start&&(e.trailingComma=-1)),r},ve.parseSubscripts=function(e,t,n,i,s){for(var r=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,a=!1;;){var o=this.parseSubscript(e,t,n,i,r,a,s);if(o.optional&&(a=!0),o===e||o.type==="ArrowFunctionExpression"){if(a){var c=this.startNodeAt(t,n);c.expression=o,o=this.finishNode(c,"ChainExpression")}return o}e=o}},ve.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(v.arrow)},ve.parseSubscriptAsyncArrow=function(e,t,n,i){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,i)},ve.parseSubscript=function(e,t,n,i,s,r,a){var o=this.options.ecmaVersion>=11,c=o&&this.eat(v.questionDot);i&&c&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var l=this.eat(v.bracketL);if(l||c&&this.type!==v.parenL&&this.type!==v.backQuote||this.eat(v.dot)){var d=this.startNodeAt(t,n);d.object=e,l?(d.property=this.parseExpression(),this.expect(v.bracketR)):this.type===v.privateId&&e.type!=="Super"?d.property=this.parsePrivateIdent():d.property=this.parseIdent(this.options.allowReserved!=="never"),d.computed=!!l,o&&(d.optional=c),e=this.finishNode(d,"MemberExpression")}else if(!i&&this.eat(v.parenL)){var m=new Qr,f=this.yieldPos,b=this.awaitPos,g=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var P=this.parseExprList(v.parenR,this.options.ecmaVersion>=8,!1,m);if(s&&!c&&this.shouldParseAsyncArrow())return this.checkPatternErrors(m,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=f,this.awaitPos=b,this.awaitIdentPos=g,this.parseSubscriptAsyncArrow(t,n,P,a);this.checkExpressionErrors(m,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=b||this.awaitPos,this.awaitIdentPos=g||this.awaitIdentPos;var A=this.startNodeAt(t,n);A.callee=e,A.arguments=P,o&&(A.optional=c),e=this.finishNode(A,"CallExpression")}else if(this.type===v.backQuote){(c||r)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var x=this.startNodeAt(t,n);x.tag=e,x.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(x,"TaggedTemplateExpression")}return e},ve.parseExprAtom=function(e,t,n){this.type===v.slash&&this.readRegexp();var i,s=this.potentialArrowAt===this.start;switch(this.type){case v._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),i=this.startNode(),this.next(),this.type===v.parenL&&!this.allowDirectSuper&&this.raise(i.start,"super() call outside constructor of a subclass"),this.type!==v.dot&&this.type!==v.bracketL&&this.type!==v.parenL&&this.unexpected(),this.finishNode(i,"Super");case v._this:return i=this.startNode(),this.next(),this.finishNode(i,"ThisExpression");case v.name:var r=this.start,a=this.startLoc,o=this.containsEsc,c=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!o&&c.name==="async"&&!this.canInsertSemicolon()&&this.eat(v._function))return this.overrideContext(rt.f_expr),this.parseFunction(this.startNodeAt(r,a),0,!1,!0,t);if(s&&!this.canInsertSemicolon()){if(this.eat(v.arrow))return this.parseArrowExpression(this.startNodeAt(r,a),[c],!1,t);if(this.options.ecmaVersion>=8&&c.name==="async"&&this.type===v.name&&!o&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return c=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(v.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(r,a),[c],!0,t)}return c;case v.regexp:var l=this.value;return i=this.parseLiteral(l.value),i.regex={pattern:l.pattern,flags:l.flags},i;case v.num:case v.string:return this.parseLiteral(this.value);case v._null:case v._true:case v._false:return i=this.startNode(),i.value=this.type===v._null?null:this.type===v._true,i.raw=this.type.keyword,this.next(),this.finishNode(i,"Literal");case v.parenL:var d=this.start,m=this.parseParenAndDistinguishExpression(s,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(m)&&(e.parenthesizedAssign=d),e.parenthesizedBind<0&&(e.parenthesizedBind=d)),m;case v.bracketL:return i=this.startNode(),this.next(),i.elements=this.parseExprList(v.bracketR,!0,!0,e),this.finishNode(i,"ArrayExpression");case v.braceL:return this.overrideContext(rt.b_expr),this.parseObj(!1,e);case v._function:return i=this.startNode(),this.next(),this.parseFunction(i,0);case v._class:return this.parseClass(this.startNode(),!1);case v._new:return this.parseNew();case v.backQuote:return this.parseTemplate();case v._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}},ve.parseExprAtomDefault=function(){this.unexpected()},ve.parseExprImport=function(e){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===v.parenL&&!e)return this.parseDynamicImport(t);if(this.type===v.dot){var n=this.startNodeAt(t.start,t.loc&&t.loc.start);return n.name="import",t.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(t)}else this.unexpected()},ve.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(v.parenR)?e.options=null:(this.expect(v.comma),this.afterTrailingComma(v.parenR)?e.options=null:(e.options=this.parseMaybeAssign(),this.eat(v.parenR)||(this.expect(v.comma),this.afterTrailingComma(v.parenR)||this.unexpected())));else if(!this.eat(v.parenR)){var t=this.start;this.eat(v.comma)&&this.eat(v.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},ve.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")},ve.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")},ve.parseParenExpression=function(){this.expect(v.parenL);var e=this.parseExpression();return this.expect(v.parenR),e},ve.shouldParseArrow=function(e){return!this.canInsertSemicolon()},ve.parseParenAndDistinguishExpression=function(e,t){var n=this.start,i=this.startLoc,s,r=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var a=this.start,o=this.startLoc,c=[],l=!0,d=!1,m=new Qr,f=this.yieldPos,b=this.awaitPos,g;for(this.yieldPos=0,this.awaitPos=0;this.type!==v.parenR;)if(l?l=!1:this.expect(v.comma),r&&this.afterTrailingComma(v.parenR,!0)){d=!0;break}else if(this.type===v.ellipsis){g=this.start,c.push(this.parseParenItem(this.parseRestBinding())),this.type===v.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else c.push(this.parseMaybeAssign(!1,m,this.parseParenItem));var P=this.lastTokEnd,A=this.lastTokEndLoc;if(this.expect(v.parenR),e&&this.shouldParseArrow(c)&&this.eat(v.arrow))return this.checkPatternErrors(m,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=f,this.awaitPos=b,this.parseParenArrowList(n,i,c,t);(!c.length||d)&&this.unexpected(this.lastTokStart),g&&this.unexpected(g),this.checkExpressionErrors(m,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=b||this.awaitPos,c.length>1?(s=this.startNodeAt(a,o),s.expressions=c,this.finishNodeAt(s,"SequenceExpression",P,A)):s=c[0]}else s=this.parseParenExpression();if(this.options.preserveParens){var x=this.startNodeAt(n,i);return x.expression=s,this.finishNode(x,"ParenthesizedExpression")}else return s},ve.parseParenItem=function(e){return e},ve.parseParenArrowList=function(e,t,n,i){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,i)};var wS=[];ve.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===v.dot){var t=this.startNodeAt(e.start,e.loc&&e.loc.start);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var i=this.start,s=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),i,s,!0,!1),this.eat(v.parenL)?e.arguments=this.parseExprList(v.parenR,this.options.ecmaVersion>=8,!1):e.arguments=wS,this.finishNode(e,"NewExpression")},ve.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===v.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===v.backQuote,this.finishNode(n,"TemplateElement")},ve.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var i=this.parseTemplateElement({isTagged:t});for(n.quasis=[i];!i.tail;)this.type===v.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(v.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(v.braceR),n.quasis.push(i=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")},ve.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===v.name||this.type===v.num||this.type===v.string||this.type===v.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===v.star)&&!Jt.test(this.input.slice(this.lastTokEnd,this.start))},ve.parseObj=function(e,t){var n=this.startNode(),i=!0,s={};for(n.properties=[],this.next();!this.eat(v.braceR);){if(i)i=!1;else if(this.expect(v.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(v.braceR))break;var r=this.parseProperty(e,t);e||this.checkPropClash(r,s,t),n.properties.push(r)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")},ve.parseProperty=function(e,t){var n=this.startNode(),i,s,r,a;if(this.options.ecmaVersion>=9&&this.eat(v.ellipsis))return e?(n.argument=this.parseIdent(!1),this.type===v.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,t),this.type===v.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(e||t)&&(r=this.start,a=this.startLoc),e||(i=this.eat(v.star)));var o=this.containsEsc;return this.parsePropertyName(n),!e&&!o&&this.options.ecmaVersion>=8&&!i&&this.isAsyncProp(n)?(s=!0,i=this.options.ecmaVersion>=9&&this.eat(v.star),this.parsePropertyName(n)):s=!1,this.parsePropertyValue(n,e,i,s,r,a,t,o),this.finishNode(n,"Property")},ve.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var t=e.kind==="get"?0:1;if(e.value.params.length!==t){var n=e.value.start;e.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")},ve.parsePropertyValue=function(e,t,n,i,s,r,a,o){(n||i)&&this.type===v.colon&&this.unexpected(),this.eat(v.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),e.kind="init"):this.options.ecmaVersion>=6&&this.type===v.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,i)):!t&&!o&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==v.comma&&this.type!==v.braceR&&this.type!==v.eq?((n||i)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((n||i)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=s),e.kind="init",t?e.value=this.parseMaybeDefault(s,r,this.copyNode(e.key)):this.type===v.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),e.value=this.parseMaybeDefault(s,r,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()},ve.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(v.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(v.bracketR),e.key;e.computed=!1}return e.key=this.type===v.num||this.type===v.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},ve.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},ve.parseMethod=function(e,t,n){var i=this.startNode(),s=this.yieldPos,r=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(i),this.options.ecmaVersion>=6&&(i.generator=e),this.options.ecmaVersion>=8&&(i.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(By(t,i.generator)|xy|(n?U9:0)),this.expect(v.parenL),i.params=this.parseBindingList(v.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(i,!1,!0,!1),this.yieldPos=s,this.awaitPos=r,this.awaitIdentPos=a,this.finishNode(i,"FunctionExpression")},ve.parseArrowExpression=function(e,t,n,i){var s=this.yieldPos,r=this.awaitPos,a=this.awaitIdentPos;return this.enterScope(By(n,!1)|j9),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,i),this.yieldPos=s,this.awaitPos=r,this.awaitIdentPos=a,this.finishNode(e,"ArrowFunctionExpression")},ve.parseFunctionBody=function(e,t,n,i){var s=t&&this.type!==v.braceL,r=this.strict,a=!1;if(s)e.body=this.parseMaybeAssign(i),e.expression=!0,this.checkParams(e,!1);else{var o=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!r||o)&&(a=this.strictDirective(this.end),a&&o&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var c=this.labels;this.labels=[],a&&(this.strict=!0),this.checkParams(e,!r&&!a&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,q9),e.body=this.parseBlock(!1,void 0,a&&!r),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=c}this.exitScope()},ve.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var i=n[t];if(i.type!=="Identifier")return!1}return!0},ve.checkParams=function(e,t){for(var n=Object.create(null),i=0,s=e.params;i<s.length;i+=1){var r=s[i];this.checkLValInnerPattern(r,ky,t?null:n)}},ve.parseExprList=function(e,t,n,i){for(var s=[],r=!0;!this.eat(e);){if(r)r=!1;else if(this.expect(v.comma),t&&this.afterTrailingComma(e))break;var a=void 0;n&&this.type===v.comma?a=null:this.type===v.ellipsis?(a=this.parseSpread(i),i&&this.type===v.comma&&i.trailingComma<0&&(i.trailingComma=this.start)):a=this.parseMaybeAssign(!1,i),s.push(a)}return s},ve.checkUnreserved=function(e){var t=e.start,n=e.end,i=e.name;if(this.inGenerator&&i==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&i==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&i==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(i==="arguments"||i==="await")&&this.raise(t,"Cannot use "+i+" in class static initialization block"),this.keywords.test(i)&&this.raise(t,"Unexpected keyword '"+i+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,n).indexOf("\\")!==-1)){var s=this.strict?this.reservedWordsStrict:this.reservedWords;s.test(i)&&(!this.inAsync&&i==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+i+"' is reserved"))}},ve.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t},ve.parseIdentNode=function(){var e=this.startNode();return this.type===v.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=v.name):this.unexpected(),e},ve.parsePrivateIdent=function(){var e=this.startNode();return this.type===v.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e},ve.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===v.semi||this.canInsertSemicolon()||this.type!==v.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(v.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},ve.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var $r=ht.prototype;$r.raise=function(e,t){var n=Y9(this.input,e);t+=" ("+n.line+":"+n.column+")";var i=new SyntaxError(t);throw i.pos=e,i.loc=n,i.raisedAt=this.pos,i},$r.raiseRecoverable=$r.raise,$r.curPosition=function(){if(this.options.locations)return new Bs(this.curLine,this.pos-this.lineStart)};var qn=ht.prototype,DS=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};qn.enterScope=function(e){this.scopeStack.push(new DS(e))},qn.exitScope=function(){this.scopeStack.pop()},qn.treatFunctionsAsVarInScope=function(e){return e.flags&Yi||!this.inModule&&e.flags&ks},qn.declareName=function(e,t,n){var i=!1;if(t===kn){var s=this.currentScope();i=s.lexical.indexOf(e)>-1||s.functions.indexOf(e)>-1||s.var.indexOf(e)>-1,s.lexical.push(e),this.inModule&&s.flags&ks&&delete this.undefinedExports[e]}else if(t===Q9){var r=this.currentScope();r.lexical.push(e)}else if(t===J9){var a=this.currentScope();this.treatFunctionsAsVar?i=a.lexical.indexOf(e)>-1:i=a.lexical.indexOf(e)>-1||a.var.indexOf(e)>-1,a.functions.push(e)}else for(var o=this.scopeStack.length-1;o>=0;--o){var c=this.scopeStack[o];if(c.lexical.indexOf(e)>-1&&!(c.flags&O9&&c.lexical[0]===e)||!this.treatFunctionsAsVarInScope(c)&&c.functions.indexOf(e)>-1){i=!0;break}if(c.var.push(e),this.inModule&&c.flags&ks&&delete this.undefinedExports[e],c.flags&Ry)break}i&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")},qn.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)},qn.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},qn.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&Ry)return t}},qn.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&Ry&&!(t.flags&j9))return t}};var ea=function(t,n,i){this.type="",this.start=n,this.end=0,t.options.locations&&(this.loc=new Ur(t,i)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[n,0])},Ns=ht.prototype;Ns.startNode=function(){return new ea(this,this.start,this.startLoc)},Ns.startNodeAt=function(e,t){return new ea(this,e,t)};function tv(e,t,n,i){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=i),this.options.ranges&&(e.range[1]=n),e}Ns.finishNode=function(e,t){return tv.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},Ns.finishNodeAt=function(e,t,n,i){return tv.call(this,e,t,n,i)},Ns.copyNode=function(e){var t=new ea(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var XS="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",nv="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",iv=nv+" Extended_Pictographic",sv=iv,rv=sv+" EBase EComp EMod EPres ExtPict",av=rv,SS=av,ZS={9:nv,10:iv,11:sv,12:rv,13:av,14:SS},ES="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",LS={9:"",10:"",11:"",12:"",13:"",14:ES},uv="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",ov="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",cv=ov+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",lv=cv+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",dv=lv+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",hv=dv+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",xS=hv+" "+XS,RS={9:ov,10:cv,11:lv,12:dv,13:hv,14:xS},pv={};function BS(e){var t=pv[e]={binary:Qn(ZS[e]+" "+uv),binaryOfStrings:Qn(LS[e]),nonBinary:{General_Category:Qn(uv),Script:Qn(RS[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var Wy=0,mv=[9,10,11,12,13,14];Wy<mv.length;Wy+=1){var kS=mv[Wy];BS(kS)}var ie=ht.prototype,ta=function(t,n){this.parent=t,this.base=n||this};ta.prototype.separatedFrom=function(t){for(var n=this;n;n=n.parent)for(var i=t;i;i=i.parent)if(n.base===i.base&&n!==i)return!0;return!1},ta.prototype.sibling=function(){return new ta(this.parent,this.base)};var Cn=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=pv[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};Cn.prototype.reset=function(t,n,i){var s=i.indexOf("v")!==-1,r=i.indexOf("u")!==-1;this.start=t|0,this.source=n+"",this.flags=i,s&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=r&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=r&&this.parser.options.ecmaVersion>=9)},Cn.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)},Cn.prototype.at=function(t,n){n===void 0&&(n=!1);var i=this.source,s=i.length;if(t>=s)return-1;var r=i.charCodeAt(t);if(!(n||this.switchU)||r<=55295||r>=57344||t+1>=s)return r;var a=i.charCodeAt(t+1);return a>=56320&&a<=57343?(r<<10)+a-56613888:r},Cn.prototype.nextIndex=function(t,n){n===void 0&&(n=!1);var i=this.source,s=i.length;if(t>=s)return s;var r=i.charCodeAt(t),a;return!(n||this.switchU)||r<=55295||r>=57344||t+1>=s||(a=i.charCodeAt(t+1))<56320||a>57343?t+1:t+2},Cn.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)},Cn.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)},Cn.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)},Cn.prototype.eat=function(t,n){return n===void 0&&(n=!1),this.current(n)===t?(this.advance(n),!0):!1},Cn.prototype.eatChars=function(t,n){n===void 0&&(n=!1);for(var i=this.pos,s=0,r=t;s<r.length;s+=1){var a=r[s],o=this.at(i,n);if(o===-1||o!==a)return!1;i=this.nextIndex(i,n)}return this.pos=i,!0},ie.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,i=!1,s=!1,r=0;r<n.length;r++){var a=n.charAt(r);t.indexOf(a)===-1&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(a,r+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),a==="u"&&(i=!0),a==="v"&&(s=!0)}this.options.ecmaVersion>=15&&i&&s&&this.raise(e.start,"Invalid regular expression flag")};function VS(e){for(var t in e)return!0;return!1}ie.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&VS(e.groupNames)&&(e.switchN=!0,this.regexp_pattern(e))},ie.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames=Object.create(null),e.backReferenceNames.length=0,e.branchID=null,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var i=n[t];e.groupNames[i]||e.raise("Invalid named capture referenced")}},ie.regexp_disjunction=function(e){var t=this.options.ecmaVersion>=16;for(t&&(e.branchID=new ta(e.branchID,null)),this.regexp_alternative(e);e.eat(124);)t&&(e.branchID=e.branchID.sibling()),this.regexp_alternative(e);t&&(e.branchID=e.branchID.parent),this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},ie.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},ie.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1},ie.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1},ie.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1},ie.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},ie.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var i=0,s=-1;if(this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(s=e.lastIntValue),e.eat(125)))return s!==-1&&s<i&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1},ie.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},ie.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},ie.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)){if(this.options.ecmaVersion>=16){var n=this.regexp_eatModifiers(e),i=e.eat(45);if(n||i){for(var s=0;s<n.length;s++){var r=n.charAt(s);n.indexOf(r,s+1)>-1&&e.raise("Duplicate regular expression modifiers")}if(i){var a=this.regexp_eatModifiers(e);!n&&!a&&e.current()===58&&e.raise("Invalid regular expression modifiers");for(var o=0;o<a.length;o++){var c=a.charAt(o);(a.indexOf(c,o+1)>-1||n.indexOf(c)>-1)&&e.raise("Duplicate regular expression modifiers")}}}}if(e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}}e.pos=t}return!1},ie.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},ie.regexp_eatModifiers=function(e){for(var t="",n=0;(n=e.current())!==-1&&zS(n);)t+=Bn(n),e.advance();return t};function zS(e){return e===105||e===109||e===115}ie.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},ie.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},ie.regexp_eatSyntaxCharacter=function(e){var t=e.current();return fv(t)?(e.lastIntValue=t,e.advance(),!0):!1};function fv(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}ie.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;(n=e.current())!==-1&&!fv(n);)e.advance();return e.pos!==t},ie.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1},ie.regexp_groupSpecifier=function(e){if(e.eat(63)){this.regexp_eatGroupName(e)||e.raise("Invalid group");var t=this.options.ecmaVersion>=16,n=e.groupNames[e.lastStringValue];if(n)if(t)for(var i=0,s=n;i<s.length;i+=1){var r=s[i];r.separatedFrom(e.branchID)||e.raise("Duplicate capture group name")}else e.raise("Duplicate capture group name");t?(n||(e.groupNames[e.lastStringValue]=[])).push(e.branchID):e.groupNames[e.lastStringValue]=!0}},ie.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},ie.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=Bn(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=Bn(e.lastIntValue);return!0}return!1},ie.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,i=e.current(n);return e.advance(n),i===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(i=e.lastIntValue),NS(i)?(e.lastIntValue=i,!0):(e.pos=t,!1)};function NS(e){return Rn(e,!0)||e===36||e===95}ie.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,i=e.current(n);return e.advance(n),i===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(i=e.lastIntValue),WS(i)?(e.lastIntValue=i,!0):(e.pos=t,!1)};function WS(e){return Ti(e,!0)||e===36||e===95||e===8204||e===8205}ie.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},ie.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1},ie.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},ie.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},ie.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},ie.regexp_eatZero=function(e){return e.current()===48&&!na(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1},ie.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1},ie.regexp_eatControlLetter=function(e){var t=e.current();return yv(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function yv(e){return e>=65&&e<=90||e>=97&&e<=122}ie.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var n=e.pos,i=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var s=e.lastIntValue;if(i&&s>=55296&&s<=56319){var r=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var a=e.lastIntValue;if(a>=56320&&a<=57343)return e.lastIntValue=(s-55296)*1024+(a-56320)+65536,!0}e.pos=r,e.lastIntValue=s}return!0}if(i&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&TS(e.lastIntValue))return!0;i&&e.raise("Invalid unicode escape"),e.pos=n}return!1};function TS(e){return e>=0&&e<=1114111}ie.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1},ie.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};var gv=0,Vn=1,$t=2;ie.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(IS(t))return e.lastIntValue=-1,e.advance(),Vn;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=t===80)||t===112)){e.lastIntValue=-1,e.advance();var i;if(e.eat(123)&&(i=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&i===$t&&e.raise("Invalid property name"),i;e.raise("Invalid property name")}return gv};function IS(e){return e===100||e===68||e===115||e===83||e===119||e===87}ie.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,i),Vn}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var s=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,s)}return gv},ie.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){_i(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")},ie.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return Vn;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return $t;e.raise("Invalid property name")},ie.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";bv(t=e.current());)e.lastStringValue+=Bn(t),e.advance();return e.lastStringValue!==""};function bv(e){return yv(e)||e===95}ie.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";_S(t=e.current());)e.lastStringValue+=Bn(t),e.advance();return e.lastStringValue!==""};function _S(e){return bv(e)||na(e)}ie.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},ie.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&n===$t&&e.raise("Negated character class may contain strings"),!0}return!1},ie.regexp_classContents=function(e){return e.current()===93?Vn:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),Vn)},ie.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;e.switchU&&(t===-1||n===-1)&&e.raise("Invalid character class"),t!==-1&&n!==-1&&t>n&&e.raise("Range out of order in character class")}}},ie.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(n===99||vv(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var i=e.current();return i!==93?(e.lastIntValue=i,e.advance(),!0):!1},ie.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},ie.regexp_classSetExpression=function(e){var t=Vn,n;if(!this.regexp_eatClassSetRange(e))if(n=this.regexp_eatClassSetOperand(e)){n===$t&&(t=$t);for(var i=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(n=this.regexp_eatClassSetOperand(e))){n!==$t&&(t=Vn);continue}e.raise("Invalid character in character class")}if(i!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(i!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(n=this.regexp_eatClassSetOperand(e),!n)return t;n===$t&&(t=$t)}},ie.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var i=e.lastIntValue;return n!==-1&&i!==-1&&n>i&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1},ie.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?Vn:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)},ie.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),i=this.regexp_classContents(e);if(e.eat(93))return n&&i===$t&&e.raise("Negated character class may contain strings"),i;e.pos=t}if(e.eat(92)){var s=this.regexp_eatCharacterClassEscape(e);if(s)return s;e.pos=t}return null},ie.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null},ie.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===$t&&(t=$t);return t},ie.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?Vn:$t},ie.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var n=e.current();return n<0||n===e.lookahead()&&YS(n)||HS(n)?!1:(e.advance(),e.lastIntValue=n,!0)};function YS(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function HS(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}ie.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return KS(t)?(e.lastIntValue=t,e.advance(),!0):!1};function KS(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}ie.regexp_eatClassControlLetter=function(e){var t=e.current();return na(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1},ie.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},ie.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;na(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t};function na(e){return e>=48&&e<=57}ie.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;Mv(n=e.current());)e.lastIntValue=16*e.lastIntValue+Cv(n),e.advance();return e.pos!==t};function Mv(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function Cv(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}ie.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+n*8+e.lastIntValue:e.lastIntValue=t*8+n}else e.lastIntValue=t;return!0}return!1},ie.regexp_eatOctalDigit=function(e){var t=e.current();return vv(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function vv(e){return e>=48&&e<=55}ie.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var i=0;i<t;++i){var s=e.current();if(!Mv(s))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+Cv(s),e.advance()}return!0};var Ty=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new Ur(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},Be=ht.prototype;Be.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ty(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Be.getToken=function(){return this.next(),new Ty(this)},typeof Symbol<"u"&&(Be[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===v.eof,value:t}}}}),Be.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(v.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())},Be.readToken=function(e){return Rn(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)},Be.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888},Be.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var i=void 0,s=t;(i=N9(this.input,s,this.pos))>-1;)++this.curLine,s=this.lineStart=i;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())},Be.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),i=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!Ii(i);)i=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())},Be.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&W9.test(String.fromCharCode(e)))++this.pos;else break e}}},Be.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)},Be.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(v.ellipsis)):(++this.pos,this.finishToken(v.dot))},Be.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(v.assign,2):this.finishOp(v.slash,1)},Be.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,i=e===42?v.star:v.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++n,i=v.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(v.assign,n+1):this.finishOp(i,n)},Be.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(v.assign,3)}return this.finishOp(e===124?v.logicalOR:v.logicalAND,2)}return t===61?this.finishOp(v.assign,2):this.finishOp(e===124?v.bitwiseOR:v.bitwiseAND,1)},Be.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(v.assign,2):this.finishOp(v.bitwiseXOR,1)},Be.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Jt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(v.incDec,2):t===61?this.finishOp(v.assign,2):this.finishOp(v.plusMin,1)},Be.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(v.assign,n+1):this.finishOp(v.bitShift,n)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(n=2),this.finishOp(v.relational,n))},Be.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(v.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(v.arrow)):this.finishOp(e===61?v.eq:v.prefix,1)},Be.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(v.questionDot,2)}if(t===63){if(e>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(v.assign,3)}return this.finishOp(v.coalesce,2)}}return this.finishOp(v.question,1)},Be.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),Rn(t,!0)||t===92))return this.finishToken(v.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Bn(t)+"'")},Be.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(v.parenL);case 41:return++this.pos,this.finishToken(v.parenR);case 59:return++this.pos,this.finishToken(v.semi);case 44:return++this.pos,this.finishToken(v.comma);case 91:return++this.pos,this.finishToken(v.bracketL);case 93:return++this.pos,this.finishToken(v.bracketR);case 123:return++this.pos,this.finishToken(v.braceL);case 125:return++this.pos,this.finishToken(v.braceR);case 58:return++this.pos,this.finishToken(v.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(v.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(v.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Bn(e)+"'")},Be.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)},Be.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var i=this.input.charAt(this.pos);if(Jt.test(i)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if(i==="[")t=!0;else if(i==="]"&&t)t=!1;else if(i==="/"&&!t)break;e=i==="\\"}++this.pos}var s=this.input.slice(n,this.pos);++this.pos;var r=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(r);var o=this.regexpState||(this.regexpState=new Cn(this));o.reset(n,s,a),this.validateRegExpFlags(o),this.validateRegExpPattern(o);var c=null;try{c=new RegExp(s,a)}catch{}return this.finishToken(v.regexp,{pattern:s,flags:a,value:c})},Be.readInt=function(e,t,n){for(var i=this.options.ecmaVersion>=12&&t===void 0,s=n&&this.input.charCodeAt(this.pos)===48,r=this.pos,a=0,o=0,c=0,l=t??1/0;c<l;++c,++this.pos){var d=this.input.charCodeAt(this.pos),m=void 0;if(i&&d===95){s&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),o===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),c===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),o=d;continue}if(d>=97?m=d-97+10:d>=65?m=d-65+10:d>=48&&d<=57?m=d-48:m=1/0,m>=e)break;o=d,a=a*e+m}return i&&o===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===r||t!=null&&this.pos-r!==t?null:a};function jS(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function Pv(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}Be.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return n==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=Pv(this.input.slice(t,this.pos)),++this.pos):Rn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(v.num,n)},Be.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var n=this.pos-t>=2&&this.input.charCodeAt(t)===48;n&&this.strict&&this.raise(t,"Invalid number");var i=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&i===110){var s=Pv(this.input.slice(t,this.pos));return++this.pos,Rn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(v.num,s)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),i===46&&!n&&(++this.pos,this.readInt(10),i=this.input.charCodeAt(this.pos)),(i===69||i===101)&&!n&&(i=this.input.charCodeAt(++this.pos),(i===43||i===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),Rn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var r=jS(this.input.slice(t,this.pos),n);return this.finishToken(v.num,r)},Be.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else t=this.readHexChar(4);return t},Be.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var i=this.input.charCodeAt(this.pos);if(i===e)break;i===92?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):i===8232||i===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Ii(i)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(v.string,t)};var Gv={};Be.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===Gv)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1},Be.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Gv;this.raise(e,t)},Be.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===v.template||this.type===v.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(v.dollarBraceL)):(++this.pos,this.finishToken(v.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(v.template,e));if(n===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(Ii(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},Be.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(v.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")},Be.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Bn(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var i=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],s=parseInt(i,8);return s>255&&(i=i.slice(0,-1),s=parseInt(i,8)),this.pos+=i.length-1,t=this.input.charCodeAt(this.pos),(i!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-i.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(s)}return Ii(t)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(t)}},Be.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return n===null&&this.invalidStringToken(t,"Bad character escape sequence"),n},Be.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,i=this.options.ecmaVersion>=6;this.pos<this.input.length;){var s=this.fullCharCodeAtPos();if(Ti(s,i))this.pos+=s<=65535?1:2;else if(s===92){this.containsEsc=!0,e+=this.input.slice(n,this.pos);var r=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(t?Rn:Ti)(a,i)||this.invalidStringToken(r,"Invalid Unicode escape"),e+=Bn(a),n=this.pos}else break;t=!1}return e+this.input.slice(n,this.pos)},Be.readWord=function(){var e=this.readWord1(),t=v.name;return this.keywords.test(e)&&(t=Zy[e]),this.finishToken(t,e)};var OS="8.14.0";ht.acorn={Parser:ht,version:OS,defaultOptions:Ey,Position:Bs,SourceLocation:Ur,getLineInfo:Y9,Node:ea,TokenType:Ne,tokTypes:v,keywordTypes:Zy,TokContext:ln,tokContexts:rt,isIdentifierChar:Ti,isIdentifierStart:Rn,Token:Ty,isNewLine:Ii,lineBreak:Jt,lineBreakG:yS,nonASCIIwhitespace:W9};function US(e,t){return ht.parse(e,t)}var JS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Av(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function QS(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}),n}var Iy={},_y={},Fv;function qS(){return Fv||(Fv=1,function(e){(function t(n){var i,s,r,a,o,c;function l(X){var L={},R,B;for(R in X)X.hasOwnProperty(R)&&(B=X[R],typeof B=="object"&&B!==null?L[R]=l(B):L[R]=B);return L}function d(X,L){var R,B,j,N;for(B=X.length,j=0;B;)R=B>>>1,N=j+R,L(X[N])?B=R:(j=N+1,B-=R+1);return j}i={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ChainExpression:"ChainExpression",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",PrivateIdentifier:"PrivateIdentifier",Program:"Program",Property:"Property",PropertyDefinition:"PropertyDefinition",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},r={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},a={},o={},c={},s={Break:a,Skip:o,Remove:c};function m(X,L){this.parent=X,this.key=L}m.prototype.replace=function(L){this.parent[this.key]=L},m.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function f(X,L,R,B){this.node=X,this.path=L,this.wrap=R,this.ref=B}function b(){}b.prototype.path=function(){var L,R,B,j,N,ee;function Y(K,te){if(Array.isArray(te))for(B=0,j=te.length;B<j;++B)K.push(te[B]);else K.push(te)}if(!this.__current.path)return null;for(N=[],L=2,R=this.__leavelist.length;L<R;++L)ee=this.__leavelist[L],Y(N,ee.path);return Y(N,this.__current.path),N},b.prototype.type=function(){var X=this.current();return X.type||this.__current.wrap},b.prototype.parents=function(){var L,R,B;for(B=[],L=1,R=this.__leavelist.length;L<R;++L)B.push(this.__leavelist[L].node);return B},b.prototype.current=function(){return this.__current.node},b.prototype.__execute=function(L,R){var B,j;return j=void 0,B=this.__current,this.__current=R,this.__state=null,L&&(j=L.call(this,R.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=B,j},b.prototype.notify=function(L){this.__state=L},b.prototype.skip=function(){this.notify(o)},b.prototype.break=function(){this.notify(a)},b.prototype.remove=function(){this.notify(c)},b.prototype.__initialize=function(X,L){this.visitor=L,this.root=X,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,L.fallback==="iteration"?this.__fallback=Object.keys:typeof L.fallback=="function"&&(this.__fallback=L.fallback),this.__keys=r,L.keys&&(this.__keys=Object.assign(Object.create(this.__keys),L.keys))};function g(X){return X==null?!1:typeof X=="object"&&typeof X.type=="string"}function P(X,L){return(X===i.ObjectExpression||X===i.ObjectPattern)&&L==="properties"}function A(X,L){for(var R=X.length-1;R>=0;--R)if(X[R].node===L)return!0;return!1}b.prototype.traverse=function(L,R){var B,j,N,ee,Y,K,te,Ce,ue,he,se,Ye;for(this.__initialize(L,R),Ye={},B=this.__worklist,j=this.__leavelist,B.push(new f(L,null,null,null)),j.push(new f(null,null,null,null));B.length;){if(N=B.pop(),N===Ye){if(N=j.pop(),K=this.__execute(R.leave,N),this.__state===a||K===a)return;continue}if(N.node){if(K=this.__execute(R.enter,N),this.__state===a||K===a)return;if(B.push(Ye),j.push(N),this.__state===o||K===o)continue;if(ee=N.node,Y=ee.type||N.wrap,he=this.__keys[Y],!he)if(this.__fallback)he=this.__fallback(ee);else throw new Error("Unknown node type "+Y+".");for(Ce=he.length;(Ce-=1)>=0;)if(te=he[Ce],se=ee[te],!!se){if(Array.isArray(se)){for(ue=se.length;(ue-=1)>=0;)if(se[ue]&&!A(j,se[ue])){if(P(Y,he[Ce]))N=new f(se[ue],[te,ue],"Property",null);else if(g(se[ue]))N=new f(se[ue],[te,ue],null,null);else continue;B.push(N)}}else if(g(se)){if(A(j,se))continue;B.push(new f(se,te,null,null))}}}}},b.prototype.replace=function(L,R){var B,j,N,ee,Y,K,te,Ce,ue,he,se,Ye,ot;function pt(J){var ct,pe,Ae,Pe;if(J.ref.remove()){for(pe=J.ref.key,Pe=J.ref.parent,ct=B.length;ct--;)if(Ae=B[ct],Ae.ref&&Ae.ref.parent===Pe){if(Ae.ref.key<pe)break;--Ae.ref.key}}}for(this.__initialize(L,R),se={},B=this.__worklist,j=this.__leavelist,Ye={root:L},K=new f(L,null,null,new m(Ye,"root")),B.push(K),j.push(K);B.length;){if(K=B.pop(),K===se){if(K=j.pop(),Y=this.__execute(R.leave,K),Y!==void 0&&Y!==a&&Y!==o&&Y!==c&&K.ref.replace(Y),(this.__state===c||Y===c)&&pt(K),this.__state===a||Y===a)return Ye.root;continue}if(Y=this.__execute(R.enter,K),Y!==void 0&&Y!==a&&Y!==o&&Y!==c&&(K.ref.replace(Y),K.node=Y),(this.__state===c||Y===c)&&(pt(K),K.node=null),this.__state===a||Y===a)return Ye.root;if(N=K.node,!!N&&(B.push(se),j.push(K),!(this.__state===o||Y===o))){if(ee=N.type||K.wrap,ue=this.__keys[ee],!ue)if(this.__fallback)ue=this.__fallback(N);else throw new Error("Unknown node type "+ee+".");for(te=ue.length;(te-=1)>=0;)if(ot=ue[te],he=N[ot],!!he)if(Array.isArray(he)){for(Ce=he.length;(Ce-=1)>=0;)if(he[Ce]){if(P(ee,ue[te]))K=new f(he[Ce],[ot,Ce],"Property",new m(he,Ce));else if(g(he[Ce]))K=new f(he[Ce],[ot,Ce],null,new m(he,Ce));else continue;B.push(K)}}else g(he)&&B.push(new f(he,ot,null,new m(N,ot)))}}return Ye.root};function x(X,L){var R=new b;return R.traverse(X,L)}function E(X,L){var R=new b;return R.replace(X,L)}function V(X,L){var R;return R=d(L,function(j){return j.range[0]>X.range[0]}),X.extendedRange=[X.range[0],X.range[1]],R!==L.length&&(X.extendedRange[1]=L[R].range[0]),R-=1,R>=0&&(X.extendedRange[0]=L[R].range[1]),X}function S(X,L,R){var B=[],j,N,ee,Y;if(!X.range)throw new Error("attachComments needs range information");if(!R.length){if(L.length){for(ee=0,N=L.length;ee<N;ee+=1)j=l(L[ee]),j.extendedRange=[0,X.range[0]],B.push(j);X.leadingComments=B}return X}for(ee=0,N=L.length;ee<N;ee+=1)B.push(V(l(L[ee]),R));return Y=0,x(X,{enter:function(K){for(var te;Y<B.length&&(te=B[Y],!(te.extendedRange[1]>K.range[0]));)te.extendedRange[1]===K.range[0]?(K.leadingComments||(K.leadingComments=[]),K.leadingComments.push(te),B.splice(Y,1)):Y+=1;if(Y===B.length)return s.Break;if(B[Y].extendedRange[0]>K.range[1])return s.Skip}}),Y=0,x(X,{leave:function(K){for(var te;Y<B.length&&(te=B[Y],!(K.range[1]<te.extendedRange[0]));)K.range[1]===te.extendedRange[0]?(K.trailingComments||(K.trailingComments=[]),K.trailingComments.push(te),B.splice(Y,1)):Y+=1;if(Y===B.length)return s.Break;if(B[Y].extendedRange[0]>K.range[1])return s.Skip}}),X}return n.Syntax=i,n.traverse=x,n.replace=E,n.attachComments=S,n.VisitorKeys=r,n.VisitorOption=s,n.Controller=b,n.cloneEnvironment=function(){return t({})},n})(e)}(_y)),_y}var Ws={},Yy={exports:{}},wv;function $S(){return wv||(wv=1,function(){function e(a){if(a==null)return!1;switch(a.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function t(a){if(a==null)return!1;switch(a.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function n(a){if(a==null)return!1;switch(a.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function i(a){return n(a)||a!=null&&a.type==="FunctionDeclaration"}function s(a){switch(a.type){case"IfStatement":return a.alternate!=null?a.alternate:a.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return a.body}return null}function r(a){var o;if(a.type!=="IfStatement"||a.alternate==null)return!1;o=a.consequent;do{if(o.type==="IfStatement"&&o.alternate==null)return!0;o=s(o)}while(o);return!1}Yy.exports={isExpression:e,isStatement:n,isIterationStatement:t,isSourceElement:i,isProblematicIfStatement:r,trailingStatement:s}}()),Yy.exports}var Hy={exports:{}},Dv;function Xv(){return Dv||(Dv=1,function(){var e,t,n,i,s,r;t={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},e={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function a(A){return 48<=A&&A<=57}function o(A){return 48<=A&&A<=57||97<=A&&A<=102||65<=A&&A<=70}function c(A){return A>=48&&A<=55}n=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function l(A){return A===32||A===9||A===11||A===12||A===160||A>=5760&&n.indexOf(A)>=0}function d(A){return A===10||A===13||A===8232||A===8233}function m(A){if(A<=65535)return String.fromCharCode(A);var x=String.fromCharCode(Math.floor((A-65536)/1024)+55296),E=String.fromCharCode((A-65536)%1024+56320);return x+E}for(i=new Array(128),r=0;r<128;++r)i[r]=r>=97&&r<=122||r>=65&&r<=90||r===36||r===95;for(s=new Array(128),r=0;r<128;++r)s[r]=r>=97&&r<=122||r>=65&&r<=90||r>=48&&r<=57||r===36||r===95;function f(A){return A<128?i[A]:t.NonAsciiIdentifierStart.test(m(A))}function b(A){return A<128?s[A]:t.NonAsciiIdentifierPart.test(m(A))}function g(A){return A<128?i[A]:e.NonAsciiIdentifierStart.test(m(A))}function P(A){return A<128?s[A]:e.NonAsciiIdentifierPart.test(m(A))}Hy.exports={isDecimalDigit:a,isHexDigit:o,isOctalDigit:c,isWhiteSpace:l,isLineTerminator:d,isIdentifierStartES5:f,isIdentifierPartES5:b,isIdentifierStartES6:g,isIdentifierPartES6:P}}()),Hy.exports}var Ky={exports:{}},Sv;function eZ(){return Sv||(Sv=1,function(){var e=Xv();function t(f){switch(f){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function n(f,b){return!b&&f==="yield"?!1:i(f,b)}function i(f,b){if(b&&t(f))return!0;switch(f.length){case 2:return f==="if"||f==="in"||f==="do";case 3:return f==="var"||f==="for"||f==="new"||f==="try";case 4:return f==="this"||f==="else"||f==="case"||f==="void"||f==="with"||f==="enum";case 5:return f==="while"||f==="break"||f==="catch"||f==="throw"||f==="const"||f==="yield"||f==="class"||f==="super";case 6:return f==="return"||f==="typeof"||f==="delete"||f==="switch"||f==="export"||f==="import";case 7:return f==="default"||f==="finally"||f==="extends";case 8:return f==="function"||f==="continue"||f==="debugger";case 10:return f==="instanceof";default:return!1}}function s(f,b){return f==="null"||f==="true"||f==="false"||n(f,b)}function r(f,b){return f==="null"||f==="true"||f==="false"||i(f,b)}function a(f){return f==="eval"||f==="arguments"}function o(f){var b,g,P;if(f.length===0||(P=f.charCodeAt(0),!e.isIdentifierStartES5(P)))return!1;for(b=1,g=f.length;b<g;++b)if(P=f.charCodeAt(b),!e.isIdentifierPartES5(P))return!1;return!0}function c(f,b){return(f-55296)*1024+(b-56320)+65536}function l(f){var b,g,P,A,x;if(f.length===0)return!1;for(x=e.isIdentifierStartES6,b=0,g=f.length;b<g;++b){if(P=f.charCodeAt(b),55296<=P&&P<=56319){if(++b,b>=g||(A=f.charCodeAt(b),!(56320<=A&&A<=57343)))return!1;P=c(P,A)}if(!x(P))return!1;x=e.isIdentifierPartES6}return!0}function d(f,b){return o(f)&&!s(f,b)}function m(f,b){return l(f)&&!r(f,b)}Ky.exports={isKeywordES5:n,isKeywordES6:i,isReservedWordES5:s,isReservedWordES6:r,isRestrictedWord:a,isIdentifierNameES5:o,isIdentifierNameES6:l,isIdentifierES5:d,isIdentifierES6:m}}()),Ky.exports}var Zv;function tZ(){return Zv||(Zv=1,function(){Ws.ast=$S(),Ws.code=Xv(),Ws.keyword=eZ()}()),Ws}var Ts={},jy={},ia={},sa={},Ev;function nZ(){if(Ev)return sa;Ev=1;var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return sa.encode=function(t){if(0<=t&&t<e.length)return e[t];throw new TypeError("Must be between 0 and 63: "+t)},sa.decode=function(t){var n=65,i=90,s=97,r=122,a=48,o=57,c=43,l=47,d=26,m=52;return n<=t&&t<=i?t-n:s<=t&&t<=r?t-s+d:a<=t&&t<=o?t-a+m:t==c?62:t==l?63:-1},sa}var Lv;function xv(){if(Lv)return ia;Lv=1;var e=nZ(),t=5,n=1<<t,i=n-1,s=n;function r(o){return o<0?(-o<<1)+1:(o<<1)+0}function a(o){var c=(o&1)===1,l=o>>1;return c?-l:l}return ia.encode=function(c){var l="",d,m=r(c);do d=m&i,m>>>=t,m>0&&(d|=s),l+=e.encode(d);while(m>0);return l},ia.decode=function(c,l,d){var m=c.length,f=0,b=0,g,P;do{if(l>=m)throw new Error("Expected more digits in base 64 VLQ value.");if(P=e.decode(c.charCodeAt(l++)),P===-1)throw new Error("Invalid base64 digit: "+c.charAt(l-1));g=!!(P&s),P&=i,f=f+(P<<b),b+=t}while(g);d.value=a(f),d.rest=l},ia}var Oy={},Rv;function Is(){return Rv||(Rv=1,function(e){function t(S,X,L){if(X in S)return S[X];if(arguments.length===3)return L;throw new Error('"'+X+'" is a required argument.')}e.getArg=t;var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,i=/^data:.+\,.+$/;function s(S){var X=S.match(n);return X?{scheme:X[1],auth:X[2],host:X[3],port:X[4],path:X[5]}:null}e.urlParse=s;function r(S){var X="";return S.scheme&&(X+=S.scheme+":"),X+="//",S.auth&&(X+=S.auth+"@"),S.host&&(X+=S.host),S.port&&(X+=":"+S.port),S.path&&(X+=S.path),X}e.urlGenerate=r;function a(S){var X=S,L=s(S);if(L){if(!L.path)return S;X=L.path}for(var R=e.isAbsolute(X),B=X.split(/\/+/),j,N=0,ee=B.length-1;ee>=0;ee--)j=B[ee],j==="."?B.splice(ee,1):j===".."?N++:N>0&&(j===""?(B.splice(ee+1,N),N=0):(B.splice(ee,2),N--));return X=B.join("/"),X===""&&(X=R?"/":"."),L?(L.path=X,r(L)):X}e.normalize=a;function o(S,X){S===""&&(S="."),X===""&&(X=".");var L=s(X),R=s(S);if(R&&(S=R.path||"/"),L&&!L.scheme)return R&&(L.scheme=R.scheme),r(L);if(L||X.match(i))return X;if(R&&!R.host&&!R.path)return R.host=X,r(R);var B=X.charAt(0)==="/"?X:a(S.replace(/\/+$/,"")+"/"+X);return R?(R.path=B,r(R)):B}e.join=o,e.isAbsolute=function(S){return S.charAt(0)==="/"||n.test(S)};function c(S,X){S===""&&(S="."),S=S.replace(/\/$/,"");for(var L=0;X.indexOf(S+"/")!==0;){var R=S.lastIndexOf("/");if(R<0||(S=S.slice(0,R),S.match(/^([^\/]+:\/)?\/*$/)))return X;++L}return Array(L+1).join("../")+X.substr(S.length+1)}e.relative=c;var l=function(){var S=Object.create(null);return!("__proto__"in S)}();function d(S){return S}function m(S){return b(S)?"$"+S:S}e.toSetString=l?d:m;function f(S){return b(S)?S.slice(1):S}e.fromSetString=l?d:f;function b(S){if(!S)return!1;var X=S.length;if(X<9||S.charCodeAt(X-1)!==95||S.charCodeAt(X-2)!==95||S.charCodeAt(X-3)!==111||S.charCodeAt(X-4)!==116||S.charCodeAt(X-5)!==111||S.charCodeAt(X-6)!==114||S.charCodeAt(X-7)!==112||S.charCodeAt(X-8)!==95||S.charCodeAt(X-9)!==95)return!1;for(var L=X-10;L>=0;L--)if(S.charCodeAt(L)!==36)return!1;return!0}function g(S,X,L){var R=A(S.source,X.source);return R!==0||(R=S.originalLine-X.originalLine,R!==0)||(R=S.originalColumn-X.originalColumn,R!==0||L)||(R=S.generatedColumn-X.generatedColumn,R!==0)||(R=S.generatedLine-X.generatedLine,R!==0)?R:A(S.name,X.name)}e.compareByOriginalPositions=g;function P(S,X,L){var R=S.generatedLine-X.generatedLine;return R!==0||(R=S.generatedColumn-X.generatedColumn,R!==0||L)||(R=A(S.source,X.source),R!==0)||(R=S.originalLine-X.originalLine,R!==0)||(R=S.originalColumn-X.originalColumn,R!==0)?R:A(S.name,X.name)}e.compareByGeneratedPositionsDeflated=P;function A(S,X){return S===X?0:S===null?1:X===null?-1:S>X?1:-1}function x(S,X){var L=S.generatedLine-X.generatedLine;return L!==0||(L=S.generatedColumn-X.generatedColumn,L!==0)||(L=A(S.source,X.source),L!==0)||(L=S.originalLine-X.originalLine,L!==0)||(L=S.originalColumn-X.originalColumn,L!==0)?L:A(S.name,X.name)}e.compareByGeneratedPositionsInflated=x;function E(S){return JSON.parse(S.replace(/^\)]}'[^\n]*\n/,""))}e.parseSourceMapInput=E;function V(S,X,L){if(X=X||"",S&&(S[S.length-1]!=="/"&&X[0]!=="/"&&(S+="/"),X=S+X),L){var R=s(L);if(!R)throw new Error("sourceMapURL could not be parsed");if(R.path){var B=R.path.lastIndexOf("/");B>=0&&(R.path=R.path.substring(0,B+1))}X=o(r(R),X)}return a(X)}e.computeSourceURL=V}(Oy)),Oy}var Uy={},Bv;function kv(){if(Bv)return Uy;Bv=1;var e=Is(),t=Object.prototype.hasOwnProperty,n=typeof Map<"u";function i(){this._array=[],this._set=n?new Map:Object.create(null)}return i.fromArray=function(r,a){for(var o=new i,c=0,l=r.length;c<l;c++)o.add(r[c],a);return o},i.prototype.size=function(){return n?this._set.size:Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(r,a){var o=n?r:e.toSetString(r),c=n?this.has(r):t.call(this._set,o),l=this._array.length;(!c||a)&&this._array.push(r),c||(n?this._set.set(r,l):this._set[o]=l)},i.prototype.has=function(r){if(n)return this._set.has(r);var a=e.toSetString(r);return t.call(this._set,a)},i.prototype.indexOf=function(r){if(n){var a=this._set.get(r);if(a>=0)return a}else{var o=e.toSetString(r);if(t.call(this._set,o))return this._set[o]}throw new Error('"'+r+'" is not in the set.')},i.prototype.at=function(r){if(r>=0&&r<this._array.length)return this._array[r];throw new Error("No element indexed by "+r)},i.prototype.toArray=function(){return this._array.slice()},Uy.ArraySet=i,Uy}var Jy={},Vv;function iZ(){if(Vv)return Jy;Vv=1;var e=Is();function t(i,s){var r=i.generatedLine,a=s.generatedLine,o=i.generatedColumn,c=s.generatedColumn;return a>r||a==r&&c>=o||e.compareByGeneratedPositionsInflated(i,s)<=0}function n(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return n.prototype.unsortedForEach=function(s,r){this._array.forEach(s,r)},n.prototype.add=function(s){t(this._last,s)?(this._last=s,this._array.push(s)):(this._sorted=!1,this._array.push(s))},n.prototype.toArray=function(){return this._sorted||(this._array.sort(e.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},Jy.MappingList=n,Jy}var zv;function Nv(){if(zv)return jy;zv=1;var e=xv(),t=Is(),n=kv().ArraySet,i=iZ().MappingList;function s(r){r||(r={}),this._file=t.getArg(r,"file",null),this._sourceRoot=t.getArg(r,"sourceRoot",null),this._skipValidation=t.getArg(r,"skipValidation",!1),this._sources=new n,this._names=new n,this._mappings=new i,this._sourcesContents=null}return s.prototype._version=3,s.fromSourceMap=function(a){var o=a.sourceRoot,c=new s({file:a.file,sourceRoot:o});return a.eachMapping(function(l){var d={generated:{line:l.generatedLine,column:l.generatedColumn}};l.source!=null&&(d.source=l.source,o!=null&&(d.source=t.relative(o,d.source)),d.original={line:l.originalLine,column:l.originalColumn},l.name!=null&&(d.name=l.name)),c.addMapping(d)}),a.sources.forEach(function(l){var d=l;o!==null&&(d=t.relative(o,l)),c._sources.has(d)||c._sources.add(d);var m=a.sourceContentFor(l);m!=null&&c.setSourceContent(l,m)}),c},s.prototype.addMapping=function(a){var o=t.getArg(a,"generated"),c=t.getArg(a,"original",null),l=t.getArg(a,"source",null),d=t.getArg(a,"name",null);this._skipValidation||this._validateMapping(o,c,l,d),l!=null&&(l=String(l),this._sources.has(l)||this._sources.add(l)),d!=null&&(d=String(d),this._names.has(d)||this._names.add(d)),this._mappings.add({generatedLine:o.line,generatedColumn:o.column,originalLine:c!=null&&c.line,originalColumn:c!=null&&c.column,source:l,name:d})},s.prototype.setSourceContent=function(a,o){var c=a;this._sourceRoot!=null&&(c=t.relative(this._sourceRoot,c)),o!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[t.toSetString(c)]=o):this._sourcesContents&&(delete this._sourcesContents[t.toSetString(c)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},s.prototype.applySourceMap=function(a,o,c){var l=o;if(o==null){if(a.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);l=a.file}var d=this._sourceRoot;d!=null&&(l=t.relative(d,l));var m=new n,f=new n;this._mappings.unsortedForEach(function(b){if(b.source===l&&b.originalLine!=null){var g=a.originalPositionFor({line:b.originalLine,column:b.originalColumn});g.source!=null&&(b.source=g.source,c!=null&&(b.source=t.join(c,b.source)),d!=null&&(b.source=t.relative(d,b.source)),b.originalLine=g.line,b.originalColumn=g.column,g.name!=null&&(b.name=g.name))}var P=b.source;P!=null&&!m.has(P)&&m.add(P);var A=b.name;A!=null&&!f.has(A)&&f.add(A)},this),this._sources=m,this._names=f,a.sources.forEach(function(b){var g=a.sourceContentFor(b);g!=null&&(c!=null&&(b=t.join(c,b)),d!=null&&(b=t.relative(d,b)),this.setSourceContent(b,g))},this)},s.prototype._validateMapping=function(a,o,c,l){if(o&&typeof o.line!="number"&&typeof o.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(a&&"line"in a&&"column"in a&&a.line>0&&a.column>=0&&!o&&!c&&!l)){if(a&&"line"in a&&"column"in a&&o&&"line"in o&&"column"in o&&a.line>0&&a.column>=0&&o.line>0&&o.column>=0&&c)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:a,source:c,original:o,name:l}))}},s.prototype._serializeMappings=function(){for(var a=0,o=1,c=0,l=0,d=0,m=0,f="",b,g,P,A,x=this._mappings.toArray(),E=0,V=x.length;E<V;E++){if(g=x[E],b="",g.generatedLine!==o)for(a=0;g.generatedLine!==o;)b+=";",o++;else if(E>0){if(!t.compareByGeneratedPositionsInflated(g,x[E-1]))continue;b+=","}b+=e.encode(g.generatedColumn-a),a=g.generatedColumn,g.source!=null&&(A=this._sources.indexOf(g.source),b+=e.encode(A-m),m=A,b+=e.encode(g.originalLine-1-l),l=g.originalLine-1,b+=e.encode(g.originalColumn-c),c=g.originalColumn,g.name!=null&&(P=this._names.indexOf(g.name),b+=e.encode(P-d),d=P)),f+=b}return f},s.prototype._generateSourcesContent=function(a,o){return a.map(function(c){if(!this._sourcesContents)return null;o!=null&&(c=t.relative(o,c));var l=t.toSetString(c);return Object.prototype.hasOwnProperty.call(this._sourcesContents,l)?this._sourcesContents[l]:null},this)},s.prototype.toJSON=function(){var a={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(a.file=this._file),this._sourceRoot!=null&&(a.sourceRoot=this._sourceRoot),this._sourcesContents&&(a.sourcesContent=this._generateSourcesContent(a.sources,a.sourceRoot)),a},s.prototype.toString=function(){return JSON.stringify(this.toJSON())},jy.SourceMapGenerator=s,jy}var _s={},Qy={},Wv;function sZ(){return Wv||(Wv=1,function(e){e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2;function t(n,i,s,r,a,o){var c=Math.floor((i-n)/2)+n,l=a(s,r[c],!0);return l===0?c:l>0?i-c>1?t(c,i,s,r,a,o):o==e.LEAST_UPPER_BOUND?i<r.length?i:-1:c:c-n>1?t(n,c,s,r,a,o):o==e.LEAST_UPPER_BOUND?c:n<0?-1:n}e.search=function(i,s,r,a){if(s.length===0)return-1;var o=t(-1,s.length,i,s,r,a||e.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&r(s[o],s[o-1],!0)===0;)--o;return o}}(Qy)),Qy}var qy={},Tv;function rZ(){if(Tv)return qy;Tv=1;function e(i,s,r){var a=i[s];i[s]=i[r],i[r]=a}function t(i,s){return Math.round(i+Math.random()*(s-i))}function n(i,s,r,a){if(r<a){var o=t(r,a),c=r-1;e(i,o,a);for(var l=i[a],d=r;d<a;d++)s(i[d],l)<=0&&(c+=1,e(i,c,d));e(i,c+1,d);var m=c+1;n(i,s,r,m-1),n(i,s,m+1,a)}}return qy.quickSort=function(i,s){n(i,s,0,i.length-1)},qy}var Iv;function aZ(){if(Iv)return _s;Iv=1;var e=Is(),t=sZ(),n=kv().ArraySet,i=xv(),s=rZ().quickSort;function r(l,d){var m=l;return typeof l=="string"&&(m=e.parseSourceMapInput(l)),m.sections!=null?new c(m,d):new a(m,d)}r.fromSourceMap=function(l,d){return a.fromSourceMap(l,d)},r.prototype._version=3,r.prototype.__generatedMappings=null,Object.defineProperty(r.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),r.prototype.__originalMappings=null,Object.defineProperty(r.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),r.prototype._charIsMappingSeparator=function(d,m){var f=d.charAt(m);return f===";"||f===","},r.prototype._parseMappings=function(d,m){throw new Error("Subclasses must implement _parseMappings")},r.GENERATED_ORDER=1,r.ORIGINAL_ORDER=2,r.GREATEST_LOWER_BOUND=1,r.LEAST_UPPER_BOUND=2,r.prototype.eachMapping=function(d,m,f){var b=m||null,g=f||r.GENERATED_ORDER,P;switch(g){case r.GENERATED_ORDER:P=this._generatedMappings;break;case r.ORIGINAL_ORDER:P=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var A=this.sourceRoot;P.map(function(x){var E=x.source===null?null:this._sources.at(x.source);return E=e.computeSourceURL(A,E,this._sourceMapURL),{source:E,generatedLine:x.generatedLine,generatedColumn:x.generatedColumn,originalLine:x.originalLine,originalColumn:x.originalColumn,name:x.name===null?null:this._names.at(x.name)}},this).forEach(d,b)},r.prototype.allGeneratedPositionsFor=function(d){var m=e.getArg(d,"line"),f={source:e.getArg(d,"source"),originalLine:m,originalColumn:e.getArg(d,"column",0)};if(f.source=this._findSourceIndex(f.source),f.source<0)return[];var b=[],g=this._findMapping(f,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,t.LEAST_UPPER_BOUND);if(g>=0){var P=this._originalMappings[g];if(d.column===void 0)for(var A=P.originalLine;P&&P.originalLine===A;)b.push({line:e.getArg(P,"generatedLine",null),column:e.getArg(P,"generatedColumn",null),lastColumn:e.getArg(P,"lastGeneratedColumn",null)}),P=this._originalMappings[++g];else for(var x=P.originalColumn;P&&P.originalLine===m&&P.originalColumn==x;)b.push({line:e.getArg(P,"generatedLine",null),column:e.getArg(P,"generatedColumn",null),lastColumn:e.getArg(P,"lastGeneratedColumn",null)}),P=this._originalMappings[++g]}return b},_s.SourceMapConsumer=r;function a(l,d){var m=l;typeof l=="string"&&(m=e.parseSourceMapInput(l));var f=e.getArg(m,"version"),b=e.getArg(m,"sources"),g=e.getArg(m,"names",[]),P=e.getArg(m,"sourceRoot",null),A=e.getArg(m,"sourcesContent",null),x=e.getArg(m,"mappings"),E=e.getArg(m,"file",null);if(f!=this._version)throw new Error("Unsupported version: "+f);P&&(P=e.normalize(P)),b=b.map(String).map(e.normalize).map(function(V){return P&&e.isAbsolute(P)&&e.isAbsolute(V)?e.relative(P,V):V}),this._names=n.fromArray(g.map(String),!0),this._sources=n.fromArray(b,!0),this._absoluteSources=this._sources.toArray().map(function(V){return e.computeSourceURL(P,V,d)}),this.sourceRoot=P,this.sourcesContent=A,this._mappings=x,this._sourceMapURL=d,this.file=E}a.prototype=Object.create(r.prototype),a.prototype.consumer=r,a.prototype._findSourceIndex=function(l){var d=l;if(this.sourceRoot!=null&&(d=e.relative(this.sourceRoot,d)),this._sources.has(d))return this._sources.indexOf(d);var m;for(m=0;m<this._absoluteSources.length;++m)if(this._absoluteSources[m]==l)return m;return-1},a.fromSourceMap=function(d,m){var f=Object.create(a.prototype),b=f._names=n.fromArray(d._names.toArray(),!0),g=f._sources=n.fromArray(d._sources.toArray(),!0);f.sourceRoot=d._sourceRoot,f.sourcesContent=d._generateSourcesContent(f._sources.toArray(),f.sourceRoot),f.file=d._file,f._sourceMapURL=m,f._absoluteSources=f._sources.toArray().map(function(L){return e.computeSourceURL(f.sourceRoot,L,m)});for(var P=d._mappings.toArray().slice(),A=f.__generatedMappings=[],x=f.__originalMappings=[],E=0,V=P.length;E<V;E++){var S=P[E],X=new o;X.generatedLine=S.generatedLine,X.generatedColumn=S.generatedColumn,S.source&&(X.source=g.indexOf(S.source),X.originalLine=S.originalLine,X.originalColumn=S.originalColumn,S.name&&(X.name=b.indexOf(S.name)),x.push(X)),A.push(X)}return s(f.__originalMappings,e.compareByOriginalPositions),f},a.prototype._version=3,Object.defineProperty(a.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function o(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}a.prototype._parseMappings=function(d,m){for(var f=1,b=0,g=0,P=0,A=0,x=0,E=d.length,V=0,S={},X={},L=[],R=[],B,j,N,ee,Y;V<E;)if(d.charAt(V)===";")f++,V++,b=0;else if(d.charAt(V)===",")V++;else{for(B=new o,B.generatedLine=f,ee=V;ee<E&&!this._charIsMappingSeparator(d,ee);ee++);if(j=d.slice(V,ee),N=S[j],N)V+=j.length;else{for(N=[];V<ee;)i.decode(d,V,X),Y=X.value,V=X.rest,N.push(Y);if(N.length===2)throw new Error("Found a source, but no line and column");if(N.length===3)throw new Error("Found a source and line, but no column");S[j]=N}B.generatedColumn=b+N[0],b=B.generatedColumn,N.length>1&&(B.source=A+N[1],A+=N[1],B.originalLine=g+N[2],g=B.originalLine,B.originalLine+=1,B.originalColumn=P+N[3],P=B.originalColumn,N.length>4&&(B.name=x+N[4],x+=N[4])),R.push(B),typeof B.originalLine=="number"&&L.push(B)}s(R,e.compareByGeneratedPositionsDeflated),this.__generatedMappings=R,s(L,e.compareByOriginalPositions),this.__originalMappings=L},a.prototype._findMapping=function(d,m,f,b,g,P){if(d[f]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+d[f]);if(d[b]<0)throw new TypeError("Column must be greater than or equal to 0, got "+d[b]);return t.search(d,m,g,P)},a.prototype.computeColumnSpans=function(){for(var d=0;d<this._generatedMappings.length;++d){var m=this._generatedMappings[d];if(d+1<this._generatedMappings.length){var f=this._generatedMappings[d+1];if(m.generatedLine===f.generatedLine){m.lastGeneratedColumn=f.generatedColumn-1;continue}}m.lastGeneratedColumn=1/0}},a.prototype.originalPositionFor=function(d){var m={generatedLine:e.getArg(d,"line"),generatedColumn:e.getArg(d,"column")},f=this._findMapping(m,this._generatedMappings,"generatedLine","generatedColumn",e.compareByGeneratedPositionsDeflated,e.getArg(d,"bias",r.GREATEST_LOWER_BOUND));if(f>=0){var b=this._generatedMappings[f];if(b.generatedLine===m.generatedLine){var g=e.getArg(b,"source",null);g!==null&&(g=this._sources.at(g),g=e.computeSourceURL(this.sourceRoot,g,this._sourceMapURL));var P=e.getArg(b,"name",null);return P!==null&&(P=this._names.at(P)),{source:g,line:e.getArg(b,"originalLine",null),column:e.getArg(b,"originalColumn",null),name:P}}}return{source:null,line:null,column:null,name:null}},a.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(d){return d==null}):!1},a.prototype.sourceContentFor=function(d,m){if(!this.sourcesContent)return null;var f=this._findSourceIndex(d);if(f>=0)return this.sourcesContent[f];var b=d;this.sourceRoot!=null&&(b=e.relative(this.sourceRoot,b));var g;if(this.sourceRoot!=null&&(g=e.urlParse(this.sourceRoot))){var P=b.replace(/^file:\/\//,"");if(g.scheme=="file"&&this._sources.has(P))return this.sourcesContent[this._sources.indexOf(P)];if((!g.path||g.path=="/")&&this._sources.has("/"+b))return this.sourcesContent[this._sources.indexOf("/"+b)]}if(m)return null;throw new Error('"'+b+'" is not in the SourceMap.')},a.prototype.generatedPositionFor=function(d){var m=e.getArg(d,"source");if(m=this._findSourceIndex(m),m<0)return{line:null,column:null,lastColumn:null};var f={source:m,originalLine:e.getArg(d,"line"),originalColumn:e.getArg(d,"column")},b=this._findMapping(f,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,e.getArg(d,"bias",r.GREATEST_LOWER_BOUND));if(b>=0){var g=this._originalMappings[b];if(g.source===f.source)return{line:e.getArg(g,"generatedLine",null),column:e.getArg(g,"generatedColumn",null),lastColumn:e.getArg(g,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},_s.BasicSourceMapConsumer=a;function c(l,d){var m=l;typeof l=="string"&&(m=e.parseSourceMapInput(l));var f=e.getArg(m,"version"),b=e.getArg(m,"sections");if(f!=this._version)throw new Error("Unsupported version: "+f);this._sources=new n,this._names=new n;var g={line:-1,column:0};this._sections=b.map(function(P){if(P.url)throw new Error("Support for url field in sections not implemented.");var A=e.getArg(P,"offset"),x=e.getArg(A,"line"),E=e.getArg(A,"column");if(x<g.line||x===g.line&&E<g.column)throw new Error("Section offsets must be ordered and non-overlapping.");return g=A,{generatedOffset:{generatedLine:x+1,generatedColumn:E+1},consumer:new r(e.getArg(P,"map"),d)}})}return c.prototype=Object.create(r.prototype),c.prototype.constructor=r,c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:function(){for(var l=[],d=0;d<this._sections.length;d++)for(var m=0;m<this._sections[d].consumer.sources.length;m++)l.push(this._sections[d].consumer.sources[m]);return l}}),c.prototype.originalPositionFor=function(d){var m={generatedLine:e.getArg(d,"line"),generatedColumn:e.getArg(d,"column")},f=t.search(m,this._sections,function(g,P){var A=g.generatedLine-P.generatedOffset.generatedLine;return A||g.generatedColumn-P.generatedOffset.generatedColumn}),b=this._sections[f];return b?b.consumer.originalPositionFor({line:m.generatedLine-(b.generatedOffset.generatedLine-1),column:m.generatedColumn-(b.generatedOffset.generatedLine===m.generatedLine?b.generatedOffset.generatedColumn-1:0),bias:d.bias}):{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(d){return d.consumer.hasContentsOfAllSources()})},c.prototype.sourceContentFor=function(d,m){for(var f=0;f<this._sections.length;f++){var b=this._sections[f],g=b.consumer.sourceContentFor(d,!0);if(g)return g}if(m)return null;throw new Error('"'+d+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(d){for(var m=0;m<this._sections.length;m++){var f=this._sections[m];if(f.consumer._findSourceIndex(e.getArg(d,"source"))!==-1){var b=f.consumer.generatedPositionFor(d);if(b){var g={line:b.line+(f.generatedOffset.generatedLine-1),column:b.column+(f.generatedOffset.generatedLine===b.line?f.generatedOffset.generatedColumn-1:0)};return g}}}return{line:null,column:null}},c.prototype._parseMappings=function(d,m){this.__generatedMappings=[],this.__originalMappings=[];for(var f=0;f<this._sections.length;f++)for(var b=this._sections[f],g=b.consumer._generatedMappings,P=0;P<g.length;P++){var A=g[P],x=b.consumer._sources.at(A.source);x=e.computeSourceURL(b.consumer.sourceRoot,x,this._sourceMapURL),this._sources.add(x),x=this._sources.indexOf(x);var E=null;A.name&&(E=b.consumer._names.at(A.name),this._names.add(E),E=this._names.indexOf(E));var V={source:x,generatedLine:A.generatedLine+(b.generatedOffset.generatedLine-1),generatedColumn:A.generatedColumn+(b.generatedOffset.generatedLine===A.generatedLine?b.generatedOffset.generatedColumn-1:0),originalLine:A.originalLine,originalColumn:A.originalColumn,name:E};this.__generatedMappings.push(V),typeof V.originalLine=="number"&&this.__originalMappings.push(V)}s(this.__generatedMappings,e.compareByGeneratedPositionsDeflated),s(this.__originalMappings,e.compareByOriginalPositions)},_s.IndexedSourceMapConsumer=c,_s}var $y={},_v;function uZ(){if(_v)return $y;_v=1;var e=Nv().SourceMapGenerator,t=Is(),n=/(\r?\n)/,i=10,s="$$$isSourceNode$$$";function r(a,o,c,l,d){this.children=[],this.sourceContents={},this.line=a??null,this.column=o??null,this.source=c??null,this.name=d??null,this[s]=!0,l!=null&&this.add(l)}return r.fromStringWithSourceMap=function(o,c,l){var d=new r,m=o.split(n),f=0,b=function(){var E=S(),V=S()||"";return E+V;function S(){return f<m.length?m[f++]:void 0}},g=1,P=0,A=null;return c.eachMapping(function(E){if(A!==null)if(g<E.generatedLine)x(A,b()),g++,P=0;else{var V=m[f]||"",S=V.substr(0,E.generatedColumn-P);m[f]=V.substr(E.generatedColumn-P),P=E.generatedColumn,x(A,S),A=E;return}for(;g<E.generatedLine;)d.add(b()),g++;if(P<E.generatedColumn){var V=m[f]||"";d.add(V.substr(0,E.generatedColumn)),m[f]=V.substr(E.generatedColumn),P=E.generatedColumn}A=E},this),f<m.length&&(A&&x(A,b()),d.add(m.splice(f).join(""))),c.sources.forEach(function(E){var V=c.sourceContentFor(E);V!=null&&(l!=null&&(E=t.join(l,E)),d.setSourceContent(E,V))}),d;function x(E,V){if(E===null||E.source===void 0)d.add(V);else{var S=l?t.join(l,E.source):E.source;d.add(new r(E.originalLine,E.originalColumn,S,V,E.name))}}},r.prototype.add=function(o){if(Array.isArray(o))o.forEach(function(c){this.add(c)},this);else if(o[s]||typeof o=="string")o&&this.children.push(o);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+o);return this},r.prototype.prepend=function(o){if(Array.isArray(o))for(var c=o.length-1;c>=0;c--)this.prepend(o[c]);else if(o[s]||typeof o=="string")this.children.unshift(o);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+o);return this},r.prototype.walk=function(o){for(var c,l=0,d=this.children.length;l<d;l++)c=this.children[l],c[s]?c.walk(o):c!==""&&o(c,{source:this.source,line:this.line,column:this.column,name:this.name})},r.prototype.join=function(o){var c,l,d=this.children.length;if(d>0){for(c=[],l=0;l<d-1;l++)c.push(this.children[l]),c.push(o);c.push(this.children[l]),this.children=c}return this},r.prototype.replaceRight=function(o,c){var l=this.children[this.children.length-1];return l[s]?l.replaceRight(o,c):typeof l=="string"?this.children[this.children.length-1]=l.replace(o,c):this.children.push("".replace(o,c)),this},r.prototype.setSourceContent=function(o,c){this.sourceContents[t.toSetString(o)]=c},r.prototype.walkSourceContents=function(o){for(var c=0,l=this.children.length;c<l;c++)this.children[c][s]&&this.children[c].walkSourceContents(o);for(var d=Object.keys(this.sourceContents),c=0,l=d.length;c<l;c++)o(t.fromSetString(d[c]),this.sourceContents[d[c]])},r.prototype.toString=function(){var o="";return this.walk(function(c){o+=c}),o},r.prototype.toStringWithSourceMap=function(o){var c={code:"",line:1,column:0},l=new e(o),d=!1,m=null,f=null,b=null,g=null;return this.walk(function(P,A){c.code+=P,A.source!==null&&A.line!==null&&A.column!==null?((m!==A.source||f!==A.line||b!==A.column||g!==A.name)&&l.addMapping({source:A.source,original:{line:A.line,column:A.column},generated:{line:c.line,column:c.column},name:A.name}),m=A.source,f=A.line,b=A.column,g=A.name,d=!0):d&&(l.addMapping({generated:{line:c.line,column:c.column}}),m=null,d=!1);for(var x=0,E=P.length;x<E;x++)P.charCodeAt(x)===i?(c.line++,c.column=0,x+1===E?(m=null,d=!1):d&&l.addMapping({source:A.source,original:{line:A.line,column:A.column},generated:{line:c.line,column:c.column},name:A.name})):c.column++}),this.walkSourceContents(function(P,A){l.setSourceContent(P,A)}),{code:c.code,map:l}},$y.SourceNode=r,$y}var Yv;function oZ(){return Yv||(Yv=1,Ts.SourceMapGenerator=Nv().SourceMapGenerator,Ts.SourceMapConsumer=aZ().SourceMapConsumer,Ts.SourceNode=uZ().SourceNode),Ts}const cZ={name:"escodegen",description:"ECMAScript code generator",homepage:"http://github.com/estools/escodegen",main:"escodegen.js",bin:{esgenerate:"./bin/esgenerate.js",escodegen:"./bin/escodegen.js"},files:["LICENSE.BSD","README.md","bin","escodegen.js","package.json"],version:"2.1.0",engines:{node:">=6.0"},maintainers:[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",web:"http://github.com/Constellation"}],repository:{type:"git",url:"http://github.com/estools/escodegen.git"},dependencies:{estraverse:"^5.2.0",esutils:"^2.0.2",esprima:"^4.0.1"},optionalDependencies:{"source-map":"~0.6.1"},devDependencies:{acorn:"^8.0.4",bluebird:"^3.4.7","bower-registry-client":"^1.0.0",chai:"^4.2.0","chai-exclude":"^2.0.2","commonjs-everywhere":"^0.9.7",gulp:"^4.0.2","gulp-eslint":"^6.0.0","gulp-mocha":"^7.0.2",minimist:"^1.2.5",optionator:"^0.9.1",semver:"^7.3.4"},license:"BSD-2-Clause",scripts:{test:"gulp travis","unit-test":"gulp test",lint:"gulp lint",release:"node tools/release.js","build-min":"./node_modules/.bin/cjsify -ma path: tools/entry-point.js > escodegen.browser.min.js",build:"./node_modules/.bin/cjsify -a path: tools/entry-point.js > escodegen.browser.js"}};var Hv;function lZ(){return Hv||(Hv=1,function(e){(function(){var t,n,i,s,r,a,o,c,l,d,m,f,b,g,P,A,x,E,V,S,X,L,R,B,j,N;r=qS(),a=tZ(),t=r.Syntax;function ee(h){return xe.Expression.hasOwnProperty(h.type)}function Y(h){return xe.Statement.hasOwnProperty(h.type)}n={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,Coalesce:3,LogicalOR:4,LogicalAND:5,BitwiseOR:6,BitwiseXOR:7,BitwiseAND:8,Equality:9,Relational:10,BitwiseSHIFT:11,Additive:12,Multiplicative:13,Exponentiation:14,Await:15,Unary:15,Postfix:16,OptionalChaining:17,Call:18,New:19,TaggedTemplate:20,Member:21,Primary:22},i={"??":n.Coalesce,"||":n.LogicalOR,"&&":n.LogicalAND,"|":n.BitwiseOR,"^":n.BitwiseXOR,"&":n.BitwiseAND,"==":n.Equality,"!=":n.Equality,"===":n.Equality,"!==":n.Equality,is:n.Equality,isnt:n.Equality,"<":n.Relational,">":n.Relational,"<=":n.Relational,">=":n.Relational,in:n.Relational,instanceof:n.Relational,"<<":n.BitwiseSHIFT,">>":n.BitwiseSHIFT,">>>":n.BitwiseSHIFT,"+":n.Additive,"-":n.Additive,"*":n.Multiplicative,"%":n.Multiplicative,"/":n.Multiplicative,"**":n.Exponentiation};var K=1,te=2,Ce=4,ue=8,he=16,se=32,Ye=64,ot=te|Ce,pt=K|te,J=K|te|Ce,ct=K,pe=Ce,Ae=K|Ce,Pe=K,we=K|se,Le=0,ke=K|he,gt=K|ue;function oe(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:`
`,space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null}}function Ie(h,M){var y="";for(M|=0;M>0;M>>>=1,h+=h)M&1&&(y+=h);return y}function Gt(h){return/[\r\n]/g.test(h)}function re(h){var M=h.length;return M&&a.code.isLineTerminator(h.charCodeAt(M-1))}function Q(h,M){var y;for(y in M)M.hasOwnProperty(y)&&(h[y]=M[y]);return h}function Ke(h,M){var y,C;function F(z){return typeof z=="object"&&z instanceof Object&&!(z instanceof RegExp)}for(y in M)M.hasOwnProperty(y)&&(C=M[y],F(C)?F(h[y])?Ke(h[y],C):h[y]=Ke({},C):h[y]=C);return h}function me(h){var M,y,C,F,z;if(h!==h)throw new Error("Numeric literal whose value is NaN");if(h<0||h===0&&1/h<0)throw new Error("Numeric literal whose value is negative");if(h===1/0)return l?"null":d?"1e400":"1e+400";if(M=""+h,!d||M.length<3)return M;for(y=M.indexOf("."),!l&&M.charCodeAt(0)===48&&y===1&&(y=0,M=M.slice(1)),C=M,M=M.replace("e+","e"),F=0,(z=C.indexOf("e"))>0&&(F=+C.slice(z+1),C=C.slice(0,z)),y>=0&&(F-=C.length-y-1,C=+(C.slice(0,y)+C.slice(y+1))+""),z=0;C.charCodeAt(C.length+z-1)===48;)--z;return z!==0&&(F-=z,C=C.slice(0,z)),F!==0&&(C+="e"+F),(C.length<M.length||m&&h>1e12&&Math.floor(h)===h&&(C="0x"+h.toString(16)).length<M.length)&&+C===h&&(M=C),M}function _e(h,M){return(h&-2)===8232?(M?"u":"\\u")+(h===8232?"2028":"2029"):h===10||h===13?(M?"":"\\")+(h===10?"n":"r"):String.fromCharCode(h)}function At(h){var M,y,C,F,z,T,O,ne;if(y=h.toString(),h.source){if(M=y.match(/\/([^/]*)$/),!M)return y;for(C=M[1],y="",O=!1,ne=!1,F=0,z=h.source.length;F<z;++F)T=h.source.charCodeAt(F),ne?(y+=_e(T,ne),ne=!1):(O?T===93&&(O=!1):T===47?y+="\\":T===91&&(O=!0),y+=_e(T,ne),ne=T===92);return"/"+y+"/"+C}return y}function Fn(h,M){var y;return h===8?"\\b":h===12?"\\f":h===9?"\\t":(y=h.toString(16).toUpperCase(),l||h>255?"\\u"+"0000".slice(y.length)+y:h===0&&!a.code.isDecimalDigit(M)?"\\0":h===11?"\\x0B":"\\x"+"00".slice(y.length)+y)}function ii(h){if(h===92)return"\\\\";if(h===10)return"\\n";if(h===13)return"\\r";if(h===8232)return"\\u2028";if(h===8233)return"\\u2029";throw new Error("Incorrectly classified character")}function wn(h){var M,y,C,F;for(F=f==="double"?'"':"'",M=0,y=h.length;M<y;++M)if(C=h.charCodeAt(M),C===39){F='"';break}else if(C===34){F="'";break}else C===92&&++M;return F+h+F}function Lt(h){var M="",y,C,F,z=0,T=0,O,ne;for(y=0,C=h.length;y<C;++y){if(F=h.charCodeAt(y),F===39)++z;else if(F===34)++T;else if(F===47&&l)M+="\\";else if(a.code.isLineTerminator(F)||F===92){M+=ii(F);continue}else if(!a.code.isIdentifierPartES5(F)&&(l&&F<32||!l&&!b&&(F<32||F>126))){M+=Fn(F,h.charCodeAt(y+1));continue}M+=String.fromCharCode(F)}if(O=!(f==="double"||f==="auto"&&T<z),ne=O?"'":'"',!(O?z:T))return ne+M+ne;for(h=M,M=ne,y=0,C=h.length;y<C;++y)F=h.charCodeAt(y),(F===39&&O||F===34&&!O)&&(M+="\\"),M+=String.fromCharCode(F);return M+ne}function zn(h){var M,y,C,F="";for(M=0,y=h.length;M<y;++M)C=h[M],F+=Array.isArray(C)?zn(C):C;return F}function Se(h,M){if(!L)return Array.isArray(h)?zn(h):h;if(M==null){if(h instanceof s)return h;M={}}return M.loc==null?new s(null,null,L,h,M.name||null):new s(M.loc.start.line,M.loc.start.column,L===!0?M.loc.source||null:L,h,M.name||null)}function $e(){return P||" "}function ge(h,M){var y,C,F,z;return y=Se(h).toString(),y.length===0?[M]:(C=Se(M).toString(),C.length===0?[h]:(F=y.charCodeAt(y.length-1),z=C.charCodeAt(0),(F===43||F===45)&&F===z||a.code.isIdentifierPartES5(F)&&a.code.isIdentifierPartES5(z)||F===47&&z===105?[h,$e(),M]:a.code.isWhiteSpace(F)||a.code.isLineTerminator(F)||a.code.isWhiteSpace(z)||a.code.isLineTerminator(z)?[h,M]:[h,P,M]))}function tt(h){return[o,h]}function Ue(h){var M;M=o,o+=c,h(o),o=M}function Fi(h){var M;for(M=h.length-1;M>=0&&!a.code.isLineTerminator(h.charCodeAt(M));--M);return h.length-1-M}function wi(h,M){var y,C,F,z,T,O,ne,Re;for(y=h.split(/\r\n|[\r\n]/),O=Number.MAX_VALUE,C=1,F=y.length;C<F;++C){for(z=y[C],T=0;T<z.length&&a.code.isWhiteSpace(z.charCodeAt(T));)++T;O>T&&(O=T)}for(typeof M<"u"?(ne=o,y[1][O]==="*"&&(M+=" "),o=M):(O&1&&--O,ne=o),C=1,F=y.length;C<F;++C)Re=Se(tt(y[C].slice(O))),y[C]=L?Re.join(""):Re;return o=ne,y.join(`
`)}function bt(h,M){if(h.type==="Line"){if(re(h.value))return"//"+h.value;var y="//"+h.value;return B||(y+=`
`),y}return S.format.indent.adjustMultilineComment&&/[\n\r]/.test(h.value)?wi("/*"+h.value+"*/",M):"/*"+h.value+"*/"}function si(h,M){var y,C,F,z,T,O,ne,Re,lt,Nn,ri,La,xa,en;if(h.leadingComments&&h.leadingComments.length>0){if(z=M,B){for(F=h.leadingComments[0],M=[],Re=F.extendedRange,lt=F.range,ri=R.substring(Re[0],lt[0]),en=(ri.match(/\n/g)||[]).length,en>0?(M.push(Ie(`
`,en)),M.push(tt(bt(F)))):(M.push(ri),M.push(bt(F))),Nn=lt,y=1,C=h.leadingComments.length;y<C;y++)F=h.leadingComments[y],lt=F.range,La=R.substring(Nn[1],lt[0]),en=(La.match(/\n/g)||[]).length,M.push(Ie(`
`,en)),M.push(tt(bt(F))),Nn=lt;xa=R.substring(lt[1],Re[1]),en=(xa.match(/\n/g)||[]).length,M.push(Ie(`
`,en))}else for(F=h.leadingComments[0],M=[],E&&h.type===t.Program&&h.body.length===0&&M.push(`
`),M.push(bt(F)),re(Se(M).toString())||M.push(`
`),y=1,C=h.leadingComments.length;y<C;++y)F=h.leadingComments[y],ne=[bt(F)],re(Se(ne).toString())||ne.push(`
`),M.push(tt(ne));M.push(tt(z))}if(h.trailingComments)if(B)F=h.trailingComments[0],Re=F.extendedRange,lt=F.range,ri=R.substring(Re[0],lt[0]),en=(ri.match(/\n/g)||[]).length,en>0?(M.push(Ie(`
`,en)),M.push(tt(bt(F)))):(M.push(ri),M.push(bt(F)));else for(T=!re(Se(M).toString()),O=Ie(" ",Fi(Se([o,M,c]).toString())),y=0,C=h.trailingComments.length;y<C;++y)F=h.trailingComments[y],T?(y===0?M=[M,c]:M=[M,O],M.push(bt(F,O))):M=[M,tt(bt(F))],y!==C-1&&!re(Se(M).toString())&&(M=[M,`
`]);return M}function fe(h,M,y){var C,F=0;for(C=h;C<M;C++)R[C]===`
`&&F++;for(C=1;C<F;C++)y.push(g)}function Me(h,M,y){return M<y?["(",h,")"]:h}function nt(h){var M,y,C;for(C=h.split(/\r\n|\n/),M=1,y=C.length;M<y;M++)C[M]=g+o+C[M];return C}function et(h,M){var y,C,F;return y=h[S.verbatim],typeof y=="string"?C=Me(nt(y),n.Sequence,M):(C=nt(y.content),F=y.precedence!=null?y.precedence:n.Sequence,C=Me(C,F,M)),Se(C,h)}function xe(){}xe.prototype.maybeBlock=function(h,M){var y,C,F=this;return C=!S.comment||!h.leadingComments,h.type===t.BlockStatement&&C?[P,this.generateStatement(h,M)]:h.type===t.EmptyStatement&&C?";":(Ue(function(){y=[g,tt(F.generateStatement(h,M))]}),y)},xe.prototype.maybeBlockSuffix=function(h,M){var y=re(Se(M).toString());return h.type===t.BlockStatement&&(!S.comment||!h.leadingComments)&&!y?[M,P]:y?[M,o]:[M,g,o]};function He(h){return Se(h.name,h)}function It(h,M){return h.async?"async"+(M?$e():P):""}function _t(h){var M=h.generator&&!S.moz.starlessGenerator;return M?"*"+P:""}function Ea(h){var M=h.value,y="";return M.async&&(y+=It(M,!h.computed)),M.generator&&(y+=_t(M)?"*":""),y}xe.prototype.generatePattern=function(h,M,y){return h.type===t.Identifier?He(h):this.generateExpression(h,M,y)},xe.prototype.generateFunctionParams=function(h){var M,y,C,F;if(F=!1,h.type===t.ArrowFunctionExpression&&!h.rest&&(!h.defaults||h.defaults.length===0)&&h.params.length===1&&h.params[0].type===t.Identifier)C=[It(h,!0),He(h.params[0])];else{for(C=h.type===t.ArrowFunctionExpression?[It(h,!1)]:[],C.push("("),h.defaults&&(F=!0),M=0,y=h.params.length;M<y;++M)F&&h.defaults[M]?C.push(this.generateAssignment(h.params[M],h.defaults[M],"=",n.Assignment,J)):C.push(this.generatePattern(h.params[M],n.Assignment,J)),M+1<y&&C.push(","+P);h.rest&&(h.params.length&&C.push(","+P),C.push("..."),C.push(He(h.rest))),C.push(")")}return C},xe.prototype.generateFunctionBody=function(h){var M,y;return M=this.generateFunctionParams(h),h.type===t.ArrowFunctionExpression&&(M.push(P),M.push("=>")),h.expression?(M.push(P),y=this.generateExpression(h.body,n.Assignment,J),y.toString().charAt(0)==="{"&&(y=["(",y,")"]),M.push(y)):M.push(this.maybeBlock(h.body,gt)),M},xe.prototype.generateIterationForStatement=function(h,M,y){var C=["for"+(M.await?$e()+"await":"")+P+"("],F=this;return Ue(function(){M.left.type===t.VariableDeclaration?Ue(function(){C.push(M.left.kind+$e()),C.push(F.generateStatement(M.left.declarations[0],Le))}):C.push(F.generateExpression(M.left,n.Call,J)),C=ge(C,h),C=[ge(C,F.generateExpression(M.right,n.Assignment,J)),")"]}),C.push(this.maybeBlock(M.body,y)),C},xe.prototype.generatePropertyKey=function(h,M){var y=[];return M&&y.push("["),y.push(this.generateExpression(h,n.Assignment,J)),M&&y.push("]"),y},xe.prototype.generateAssignment=function(h,M,y,C,F){return n.Assignment<C&&(F|=K),Me([this.generateExpression(h,n.Call,F),P+y+P,this.generateExpression(M,n.Assignment,F)],n.Assignment,C)},xe.prototype.semicolon=function(h){return!x&&h&se?"":";"},xe.Statement={BlockStatement:function(h,M){var y,C,F=["{",g],z=this;return Ue(function(){h.body.length===0&&B&&(y=h.range,y[1]-y[0]>2&&(C=R.substring(y[0]+1,y[1]-1),C[0]===`
`&&(F=["{"]),F.push(C)));var T,O,ne,Re;for(Re=Pe,M&ue&&(Re|=he),T=0,O=h.body.length;T<O;++T)B&&(T===0&&(h.body[0].leadingComments&&(y=h.body[0].leadingComments[0].extendedRange,C=R.substring(y[0],y[1]),C[0]===`
`&&(F=["{"])),h.body[0].leadingComments||fe(h.range[0],h.body[0].range[0],F)),T>0&&!h.body[T-1].trailingComments&&!h.body[T].leadingComments&&fe(h.body[T-1].range[1],h.body[T].range[0],F)),T===O-1&&(Re|=se),h.body[T].leadingComments&&B?ne=z.generateStatement(h.body[T],Re):ne=tt(z.generateStatement(h.body[T],Re)),F.push(ne),re(Se(ne).toString())||B&&T<O-1&&h.body[T+1].leadingComments||F.push(g),B&&T===O-1&&(h.body[T].trailingComments||fe(h.body[T].range[1],h.range[1],F))}),F.push(tt("}")),F},BreakStatement:function(h,M){return h.label?"break "+h.label.name+this.semicolon(M):"break"+this.semicolon(M)},ContinueStatement:function(h,M){return h.label?"continue "+h.label.name+this.semicolon(M):"continue"+this.semicolon(M)},ClassBody:function(h,M){var y=["{",g],C=this;return Ue(function(F){var z,T;for(z=0,T=h.body.length;z<T;++z)y.push(F),y.push(C.generateExpression(h.body[z],n.Sequence,J)),z+1<T&&y.push(g)}),re(Se(y).toString())||y.push(g),y.push(o),y.push("}"),y},ClassDeclaration:function(h,M){var y,C;return y=["class"],h.id&&(y=ge(y,this.generateExpression(h.id,n.Sequence,J))),h.superClass&&(C=ge("extends",this.generateExpression(h.superClass,n.Unary,J)),y=ge(y,C)),y.push(P),y.push(this.generateStatement(h.body,we)),y},DirectiveStatement:function(h,M){return S.raw&&h.raw?h.raw+this.semicolon(M):wn(h.directive)+this.semicolon(M)},DoWhileStatement:function(h,M){var y=ge("do",this.maybeBlock(h.body,Pe));return y=this.maybeBlockSuffix(h.body,y),ge(y,["while"+P+"(",this.generateExpression(h.test,n.Sequence,J),")"+this.semicolon(M)])},CatchClause:function(h,M){var y,C=this;return Ue(function(){var F;h.param?(y=["catch"+P+"(",C.generateExpression(h.param,n.Sequence,J),")"],h.guard&&(F=C.generateExpression(h.guard,n.Sequence,J),y.splice(2,0," if ",F))):y=["catch"]}),y.push(this.maybeBlock(h.body,Pe)),y},DebuggerStatement:function(h,M){return"debugger"+this.semicolon(M)},EmptyStatement:function(h,M){return";"},ExportDefaultDeclaration:function(h,M){var y=["export"],C;return C=M&se?we:Pe,y=ge(y,"default"),Y(h.declaration)?y=ge(y,this.generateStatement(h.declaration,C)):y=ge(y,this.generateExpression(h.declaration,n.Assignment,J)+this.semicolon(M)),y},ExportNamedDeclaration:function(h,M){var y=["export"],C,F=this;return C=M&se?we:Pe,h.declaration?ge(y,this.generateStatement(h.declaration,C)):(h.specifiers&&(h.specifiers.length===0?y=ge(y,"{"+P+"}"):h.specifiers[0].type===t.ExportBatchSpecifier?y=ge(y,this.generateExpression(h.specifiers[0],n.Sequence,J)):(y=ge(y,"{"),Ue(function(z){var T,O;for(y.push(g),T=0,O=h.specifiers.length;T<O;++T)y.push(z),y.push(F.generateExpression(h.specifiers[T],n.Sequence,J)),T+1<O&&y.push(","+g)}),re(Se(y).toString())||y.push(g),y.push(o+"}")),h.source?y=ge(y,["from"+P,this.generateExpression(h.source,n.Sequence,J),this.semicolon(M)]):y.push(this.semicolon(M))),y)},ExportAllDeclaration:function(h,M){return["export"+P,"*"+P,"from"+P,this.generateExpression(h.source,n.Sequence,J),this.semicolon(M)]},ExpressionStatement:function(h,M){var y,C;function F(O){var ne;return O.slice(0,5)!=="class"?!1:(ne=O.charCodeAt(5),ne===123||a.code.isWhiteSpace(ne)||a.code.isLineTerminator(ne))}function z(O){var ne;return O.slice(0,8)!=="function"?!1:(ne=O.charCodeAt(8),ne===40||a.code.isWhiteSpace(ne)||ne===42||a.code.isLineTerminator(ne))}function T(O){var ne,Re,lt;if(O.slice(0,5)!=="async"||!a.code.isWhiteSpace(O.charCodeAt(5)))return!1;for(Re=6,lt=O.length;Re<lt&&a.code.isWhiteSpace(O.charCodeAt(Re));++Re);return Re===lt||O.slice(Re,Re+8)!=="function"?!1:(ne=O.charCodeAt(Re+8),ne===40||a.code.isWhiteSpace(ne)||ne===42||a.code.isLineTerminator(ne))}return y=[this.generateExpression(h.expression,n.Sequence,J)],C=Se(y).toString(),C.charCodeAt(0)===123||F(C)||z(C)||T(C)||V&&M&he&&h.expression.type===t.Literal&&typeof h.expression.value=="string"?y=["(",y,")"+this.semicolon(M)]:y.push(this.semicolon(M)),y},ImportDeclaration:function(h,M){var y,C,F=this;return h.specifiers.length===0?["import",P,this.generateExpression(h.source,n.Sequence,J),this.semicolon(M)]:(y=["import"],C=0,h.specifiers[C].type===t.ImportDefaultSpecifier&&(y=ge(y,[this.generateExpression(h.specifiers[C],n.Sequence,J)]),++C),h.specifiers[C]&&(C!==0&&y.push(","),h.specifiers[C].type===t.ImportNamespaceSpecifier?y=ge(y,[P,this.generateExpression(h.specifiers[C],n.Sequence,J)]):(y.push(P+"{"),h.specifiers.length-C===1?(y.push(P),y.push(this.generateExpression(h.specifiers[C],n.Sequence,J)),y.push(P+"}"+P)):(Ue(function(z){var T,O;for(y.push(g),T=C,O=h.specifiers.length;T<O;++T)y.push(z),y.push(F.generateExpression(h.specifiers[T],n.Sequence,J)),T+1<O&&y.push(","+g)}),re(Se(y).toString())||y.push(g),y.push(o+"}"+P)))),y=ge(y,["from"+P,this.generateExpression(h.source,n.Sequence,J),this.semicolon(M)]),y)},VariableDeclarator:function(h,M){var y=M&K?J:ot;return h.init?[this.generateExpression(h.id,n.Assignment,y),P,"=",P,this.generateExpression(h.init,n.Assignment,y)]:this.generatePattern(h.id,n.Assignment,y)},VariableDeclaration:function(h,M){var y,C,F,z,T,O=this;y=[h.kind],T=M&K?Pe:Le;function ne(){for(z=h.declarations[0],S.comment&&z.leadingComments?(y.push(`
`),y.push(tt(O.generateStatement(z,T)))):(y.push($e()),y.push(O.generateStatement(z,T))),C=1,F=h.declarations.length;C<F;++C)z=h.declarations[C],S.comment&&z.leadingComments?(y.push(","+g),y.push(tt(O.generateStatement(z,T)))):(y.push(","+P),y.push(O.generateStatement(z,T)))}return h.declarations.length>1?Ue(ne):ne(),y.push(this.semicolon(M)),y},ThrowStatement:function(h,M){return[ge("throw",this.generateExpression(h.argument,n.Sequence,J)),this.semicolon(M)]},TryStatement:function(h,M){var y,C,F,z;if(y=["try",this.maybeBlock(h.block,Pe)],y=this.maybeBlockSuffix(h.block,y),h.handlers)for(C=0,F=h.handlers.length;C<F;++C)y=ge(y,this.generateStatement(h.handlers[C],Pe)),(h.finalizer||C+1!==F)&&(y=this.maybeBlockSuffix(h.handlers[C].body,y));else{for(z=h.guardedHandlers||[],C=0,F=z.length;C<F;++C)y=ge(y,this.generateStatement(z[C],Pe)),(h.finalizer||C+1!==F)&&(y=this.maybeBlockSuffix(z[C].body,y));if(h.handler)if(Array.isArray(h.handler))for(C=0,F=h.handler.length;C<F;++C)y=ge(y,this.generateStatement(h.handler[C],Pe)),(h.finalizer||C+1!==F)&&(y=this.maybeBlockSuffix(h.handler[C].body,y));else y=ge(y,this.generateStatement(h.handler,Pe)),h.finalizer&&(y=this.maybeBlockSuffix(h.handler.body,y))}return h.finalizer&&(y=ge(y,["finally",this.maybeBlock(h.finalizer,Pe)])),y},SwitchStatement:function(h,M){var y,C,F,z,T,O=this;if(Ue(function(){y=["switch"+P+"(",O.generateExpression(h.discriminant,n.Sequence,J),")"+P+"{"+g]}),h.cases)for(T=Pe,F=0,z=h.cases.length;F<z;++F)F===z-1&&(T|=se),C=tt(this.generateStatement(h.cases[F],T)),y.push(C),re(Se(C).toString())||y.push(g);return y.push(tt("}")),y},SwitchCase:function(h,M){var y,C,F,z,T,O=this;return Ue(function(){for(h.test?y=[ge("case",O.generateExpression(h.test,n.Sequence,J)),":"]:y=["default:"],F=0,z=h.consequent.length,z&&h.consequent[0].type===t.BlockStatement&&(C=O.maybeBlock(h.consequent[0],Pe),y.push(C),F=1),F!==z&&!re(Se(y).toString())&&y.push(g),T=Pe;F<z;++F)F===z-1&&M&se&&(T|=se),C=tt(O.generateStatement(h.consequent[F],T)),y.push(C),F+1!==z&&!re(Se(C).toString())&&y.push(g)}),y},IfStatement:function(h,M){var y,C,F,z=this;return Ue(function(){y=["if"+P+"(",z.generateExpression(h.test,n.Sequence,J),")"]}),F=M&se,C=Pe,F&&(C|=se),h.alternate?(y.push(this.maybeBlock(h.consequent,Pe)),y=this.maybeBlockSuffix(h.consequent,y),h.alternate.type===t.IfStatement?y=ge(y,["else ",this.generateStatement(h.alternate,C)]):y=ge(y,ge("else",this.maybeBlock(h.alternate,C)))):y.push(this.maybeBlock(h.consequent,C)),y},ForStatement:function(h,M){var y,C=this;return Ue(function(){y=["for"+P+"("],h.init?h.init.type===t.VariableDeclaration?y.push(C.generateStatement(h.init,Le)):(y.push(C.generateExpression(h.init,n.Sequence,ot)),y.push(";")):y.push(";"),h.test&&(y.push(P),y.push(C.generateExpression(h.test,n.Sequence,J))),y.push(";"),h.update&&(y.push(P),y.push(C.generateExpression(h.update,n.Sequence,J))),y.push(")")}),y.push(this.maybeBlock(h.body,M&se?we:Pe)),y},ForInStatement:function(h,M){return this.generateIterationForStatement("in",h,M&se?we:Pe)},ForOfStatement:function(h,M){return this.generateIterationForStatement("of",h,M&se?we:Pe)},LabeledStatement:function(h,M){return[h.label.name+":",this.maybeBlock(h.body,M&se?we:Pe)]},Program:function(h,M){var y,C,F,z,T;for(z=h.body.length,y=[E&&z>0?`
`:""],T=ke,F=0;F<z;++F)!E&&F===z-1&&(T|=se),B&&(F===0&&(h.body[0].leadingComments||fe(h.range[0],h.body[F].range[0],y)),F>0&&!h.body[F-1].trailingComments&&!h.body[F].leadingComments&&fe(h.body[F-1].range[1],h.body[F].range[0],y)),C=tt(this.generateStatement(h.body[F],T)),y.push(C),F+1<z&&!re(Se(C).toString())&&(B&&h.body[F+1].leadingComments||y.push(g)),B&&F===z-1&&(h.body[F].trailingComments||fe(h.body[F].range[1],h.range[1],y));return y},FunctionDeclaration:function(h,M){return[It(h,!0),"function",_t(h)||$e(),h.id?He(h.id):"",this.generateFunctionBody(h)]},ReturnStatement:function(h,M){return h.argument?[ge("return",this.generateExpression(h.argument,n.Sequence,J)),this.semicolon(M)]:["return"+this.semicolon(M)]},WhileStatement:function(h,M){var y,C=this;return Ue(function(){y=["while"+P+"(",C.generateExpression(h.test,n.Sequence,J),")"]}),y.push(this.maybeBlock(h.body,M&se?we:Pe)),y},WithStatement:function(h,M){var y,C=this;return Ue(function(){y=["with"+P+"(",C.generateExpression(h.object,n.Sequence,J),")"]}),y.push(this.maybeBlock(h.body,M&se?we:Pe)),y}},Q(xe.prototype,xe.Statement),xe.Expression={SequenceExpression:function(h,M,y){var C,F,z;for(n.Sequence<M&&(y|=K),C=[],F=0,z=h.expressions.length;F<z;++F)C.push(this.generateExpression(h.expressions[F],n.Assignment,y)),F+1<z&&C.push(","+P);return Me(C,n.Sequence,M)},AssignmentExpression:function(h,M,y){return this.generateAssignment(h.left,h.right,h.operator,M,y)},ArrowFunctionExpression:function(h,M,y){return Me(this.generateFunctionBody(h),n.ArrowFunction,M)},ConditionalExpression:function(h,M,y){return n.Conditional<M&&(y|=K),Me([this.generateExpression(h.test,n.Coalesce,y),P+"?"+P,this.generateExpression(h.consequent,n.Assignment,y),P+":"+P,this.generateExpression(h.alternate,n.Assignment,y)],n.Conditional,M)},LogicalExpression:function(h,M,y){return h.operator==="??"&&(y|=Ye),this.BinaryExpression(h,M,y)},BinaryExpression:function(h,M,y){var C,F,z,T,O,ne;return T=i[h.operator],F=h.operator==="**"?n.Postfix:T,z=h.operator==="**"?T:T+1,T<M&&(y|=K),O=this.generateExpression(h.left,F,y),ne=O.toString(),ne.charCodeAt(ne.length-1)===47&&a.code.isIdentifierPartES5(h.operator.charCodeAt(0))?C=[O,$e(),h.operator]:C=ge(O,h.operator),O=this.generateExpression(h.right,z,y),h.operator==="/"&&O.toString().charAt(0)==="/"||h.operator.slice(-1)==="<"&&O.toString().slice(0,3)==="!--"?(C.push($e()),C.push(O)):C=ge(C,O),h.operator==="in"&&!(y&K)?["(",C,")"]:(h.operator==="||"||h.operator==="&&")&&y&Ye?["(",C,")"]:Me(C,T,M)},CallExpression:function(h,M,y){var C,F,z;for(C=[this.generateExpression(h.callee,n.Call,pt)],h.optional&&C.push("?."),C.push("("),F=0,z=h.arguments.length;F<z;++F)C.push(this.generateExpression(h.arguments[F],n.Assignment,J)),F+1<z&&C.push(","+P);return C.push(")"),y&te?Me(C,n.Call,M):["(",C,")"]},ChainExpression:function(h,M,y){n.OptionalChaining<M&&(y|=te);var C=this.generateExpression(h.expression,n.OptionalChaining,y);return Me(C,n.OptionalChaining,M)},NewExpression:function(h,M,y){var C,F,z,T,O;if(F=h.arguments.length,O=y&Ce&&!A&&F===0?Ae:ct,C=ge("new",this.generateExpression(h.callee,n.New,O)),!(y&Ce)||A||F>0){for(C.push("("),z=0,T=F;z<T;++z)C.push(this.generateExpression(h.arguments[z],n.Assignment,J)),z+1<T&&C.push(","+P);C.push(")")}return Me(C,n.New,M)},MemberExpression:function(h,M,y){var C,F;return C=[this.generateExpression(h.object,n.Call,y&te?pt:ct)],h.computed?(h.optional&&C.push("?."),C.push("["),C.push(this.generateExpression(h.property,n.Sequence,y&te?J:Ae)),C.push("]")):(!h.optional&&h.object.type===t.Literal&&typeof h.object.value=="number"&&(F=Se(C).toString(),F.indexOf(".")<0&&!/[eExX]/.test(F)&&a.code.isDecimalDigit(F.charCodeAt(F.length-1))&&!(F.length>=2&&F.charCodeAt(0)===48)&&C.push(" ")),C.push(h.optional?"?.":"."),C.push(He(h.property))),Me(C,n.Member,M)},MetaProperty:function(h,M,y){var C;return C=[],C.push(typeof h.meta=="string"?h.meta:He(h.meta)),C.push("."),C.push(typeof h.property=="string"?h.property:He(h.property)),Me(C,n.Member,M)},UnaryExpression:function(h,M,y){var C,F,z,T,O;return F=this.generateExpression(h.argument,n.Unary,J),P===""?C=ge(h.operator,F):(C=[h.operator],h.operator.length>2?C=ge(C,F):(T=Se(C).toString(),O=T.charCodeAt(T.length-1),z=F.toString().charCodeAt(0),((O===43||O===45)&&O===z||a.code.isIdentifierPartES5(O)&&a.code.isIdentifierPartES5(z))&&C.push($e()),C.push(F))),Me(C,n.Unary,M)},YieldExpression:function(h,M,y){var C;return h.delegate?C="yield*":C="yield",h.argument&&(C=ge(C,this.generateExpression(h.argument,n.Yield,J))),Me(C,n.Yield,M)},AwaitExpression:function(h,M,y){var C=ge(h.all?"await*":"await",this.generateExpression(h.argument,n.Await,J));return Me(C,n.Await,M)},UpdateExpression:function(h,M,y){return h.prefix?Me([h.operator,this.generateExpression(h.argument,n.Unary,J)],n.Unary,M):Me([this.generateExpression(h.argument,n.Postfix,J),h.operator],n.Postfix,M)},FunctionExpression:function(h,M,y){var C=[It(h,!0),"function"];return h.id?(C.push(_t(h)||$e()),C.push(He(h.id))):C.push(_t(h)||P),C.push(this.generateFunctionBody(h)),C},ArrayPattern:function(h,M,y){return this.ArrayExpression(h,M,y,!0)},ArrayExpression:function(h,M,y,C){var F,z,T=this;return h.elements.length?(z=C?!1:h.elements.length>1,F=["[",z?g:""],Ue(function(O){var ne,Re;for(ne=0,Re=h.elements.length;ne<Re;++ne)h.elements[ne]?(F.push(z?O:""),F.push(T.generateExpression(h.elements[ne],n.Assignment,J))):(z&&F.push(O),ne+1===Re&&F.push(",")),ne+1<Re&&F.push(","+(z?g:P))}),z&&!re(Se(F).toString())&&F.push(g),F.push(z?o:""),F.push("]"),F):"[]"},RestElement:function(h,M,y){return"..."+this.generatePattern(h.argument)},ClassExpression:function(h,M,y){var C,F;return C=["class"],h.id&&(C=ge(C,this.generateExpression(h.id,n.Sequence,J))),h.superClass&&(F=ge("extends",this.generateExpression(h.superClass,n.Unary,J)),C=ge(C,F)),C.push(P),C.push(this.generateStatement(h.body,we)),C},MethodDefinition:function(h,M,y){var C,F;return h.static?C=["static"+P]:C=[],h.kind==="get"||h.kind==="set"?F=[ge(h.kind,this.generatePropertyKey(h.key,h.computed)),this.generateFunctionBody(h.value)]:F=[Ea(h),this.generatePropertyKey(h.key,h.computed),this.generateFunctionBody(h.value)],ge(C,F)},Property:function(h,M,y){return h.kind==="get"||h.kind==="set"?[h.kind,$e(),this.generatePropertyKey(h.key,h.computed),this.generateFunctionBody(h.value)]:h.shorthand?h.value.type==="AssignmentPattern"?this.AssignmentPattern(h.value,n.Sequence,J):this.generatePropertyKey(h.key,h.computed):h.method?[Ea(h),this.generatePropertyKey(h.key,h.computed),this.generateFunctionBody(h.value)]:[this.generatePropertyKey(h.key,h.computed),":"+P,this.generateExpression(h.value,n.Assignment,J)]},ObjectExpression:function(h,M,y){var C,F,z,T=this;return h.properties.length?(C=h.properties.length>1,Ue(function(){z=T.generateExpression(h.properties[0],n.Sequence,J)}),!C&&!Gt(Se(z).toString())?["{",P,z,P,"}"]:(Ue(function(O){var ne,Re;if(F=["{",g,O,z],C)for(F.push(","+g),ne=1,Re=h.properties.length;ne<Re;++ne)F.push(O),F.push(T.generateExpression(h.properties[ne],n.Sequence,J)),ne+1<Re&&F.push(","+g)}),re(Se(F).toString())||F.push(g),F.push(o),F.push("}"),F)):"{}"},AssignmentPattern:function(h,M,y){return this.generateAssignment(h.left,h.right,"=",M,y)},ObjectPattern:function(h,M,y){var C,F,z,T,O,ne=this;if(!h.properties.length)return"{}";if(T=!1,h.properties.length===1)O=h.properties[0],O.type===t.Property&&O.value.type!==t.Identifier&&(T=!0);else for(F=0,z=h.properties.length;F<z;++F)if(O=h.properties[F],O.type===t.Property&&!O.shorthand){T=!0;break}return C=["{",T?g:""],Ue(function(Re){var lt,Nn;for(lt=0,Nn=h.properties.length;lt<Nn;++lt)C.push(T?Re:""),C.push(ne.generateExpression(h.properties[lt],n.Sequence,J)),lt+1<Nn&&C.push(","+(T?g:P))}),T&&!re(Se(C).toString())&&C.push(g),C.push(T?o:""),C.push("}"),C},ThisExpression:function(h,M,y){return"this"},Super:function(h,M,y){return"super"},Identifier:function(h,M,y){return He(h)},ImportDefaultSpecifier:function(h,M,y){return He(h.id||h.local)},ImportNamespaceSpecifier:function(h,M,y){var C=["*"],F=h.id||h.local;return F&&C.push(P+"as"+$e()+He(F)),C},ImportSpecifier:function(h,M,y){var C=h.imported,F=[C.name],z=h.local;return z&&z.name!==C.name&&F.push($e()+"as"+$e()+He(z)),F},ExportSpecifier:function(h,M,y){var C=h.local,F=[C.name],z=h.exported;return z&&z.name!==C.name&&F.push($e()+"as"+$e()+He(z)),F},Literal:function(h,M,y){var C;if(h.hasOwnProperty("raw")&&X&&S.raw)try{if(C=X(h.raw).body[0].expression,C.type===t.Literal&&C.value===h.value)return h.raw}catch{}return h.regex?"/"+h.regex.pattern+"/"+h.regex.flags:typeof h.value=="bigint"?h.value.toString()+"n":h.bigint?h.bigint+"n":h.value===null?"null":typeof h.value=="string"?Lt(h.value):typeof h.value=="number"?me(h.value):typeof h.value=="boolean"?h.value?"true":"false":At(h.value)},GeneratorExpression:function(h,M,y){return this.ComprehensionExpression(h,M,y)},ComprehensionExpression:function(h,M,y){var C,F,z,T,O=this;return C=h.type===t.GeneratorExpression?["("]:["["],S.moz.comprehensionExpressionStartsWithAssignment&&(T=this.generateExpression(h.body,n.Assignment,J),C.push(T)),h.blocks&&Ue(function(){for(F=0,z=h.blocks.length;F<z;++F)T=O.generateExpression(h.blocks[F],n.Sequence,J),F>0||S.moz.comprehensionExpressionStartsWithAssignment?C=ge(C,T):C.push(T)}),h.filter&&(C=ge(C,"if"+P),T=this.generateExpression(h.filter,n.Sequence,J),C=ge(C,["(",T,")"])),S.moz.comprehensionExpressionStartsWithAssignment||(T=this.generateExpression(h.body,n.Assignment,J),C=ge(C,T)),C.push(h.type===t.GeneratorExpression?")":"]"),C},ComprehensionBlock:function(h,M,y){var C;return h.left.type===t.VariableDeclaration?C=[h.left.kind,$e(),this.generateStatement(h.left.declarations[0],Le)]:C=this.generateExpression(h.left,n.Call,J),C=ge(C,h.of?"of":"in"),C=ge(C,this.generateExpression(h.right,n.Sequence,J)),["for"+P+"(",C,")"]},SpreadElement:function(h,M,y){return["...",this.generateExpression(h.argument,n.Assignment,J)]},TaggedTemplateExpression:function(h,M,y){var C=pt;y&te||(C=ct);var F=[this.generateExpression(h.tag,n.Call,C),this.generateExpression(h.quasi,n.Primary,pe)];return Me(F,n.TaggedTemplate,M)},TemplateElement:function(h,M,y){return h.value.raw},TemplateLiteral:function(h,M,y){var C,F,z;for(C=["`"],F=0,z=h.quasis.length;F<z;++F)C.push(this.generateExpression(h.quasis[F],n.Primary,J)),F+1<z&&(C.push("${"+P),C.push(this.generateExpression(h.expressions[F],n.Sequence,J)),C.push(P+"}"));return C.push("`"),C},ModuleSpecifier:function(h,M,y){return this.Literal(h,M,y)},ImportExpression:function(h,M,y){return Me(["import(",this.generateExpression(h.source,n.Assignment,J),")"],n.Call,M)}},Q(xe.prototype,xe.Expression),xe.prototype.generateExpression=function(h,M,y){var C,F;return F=h.type||t.Property,S.verbatim&&h.hasOwnProperty(S.verbatim)?et(h,M):(C=this[F](h,M,y),S.comment&&(C=si(h,C)),Se(C,h))},xe.prototype.generateStatement=function(h,M){var y,C;return y=this[h.type](h,M),S.comment&&(y=si(h,y)),C=Se(y).toString(),h.type===t.Program&&!E&&g===""&&C.charAt(C.length-1)===`
`&&(y=L?Se(y).replaceRight(/\s+$/,""):C.replace(/\s+$/,"")),Se(y,h)};function Yg(h){var M;if(M=new xe,Y(h))return M.generateStatement(h,Pe);if(ee(h))return M.generateExpression(h,n.Sequence,J);throw new Error("Unknown node type: "+h.type)}function Hg(h,M){var y=oe(),C,F;return M!=null?(typeof M.indent=="string"&&(y.format.indent.style=M.indent),typeof M.base=="number"&&(y.format.indent.base=M.base),M=Ke(y,M),c=M.format.indent.style,typeof M.base=="string"?o=M.base:o=Ie(c,M.format.indent.base)):(M=y,c=M.format.indent.style,o=Ie(c,M.format.indent.base)),l=M.format.json,d=M.format.renumber,m=l?!1:M.format.hexadecimal,f=l?"double":M.format.quotes,b=M.format.escapeless,g=M.format.newline,P=M.format.space,M.format.compact&&(g=P=c=o=""),A=M.format.parentheses,x=M.format.semicolons,E=M.format.safeConcatenation,V=M.directive,X=l?null:M.parse,L=M.sourceMap,R=M.sourceCode,B=M.format.preserveBlankLines&&R!==null,S=M,L&&(e.browser?s=JS.sourceMap.SourceNode:s=oZ().SourceNode),C=Yg(h),L?(F=C.toStringWithSourceMap({file:M.file,sourceRoot:M.sourceMapRoot}),M.sourceContent&&F.map.setSourceContent(M.sourceMap,M.sourceContent),M.sourceMapWithCode?F:F.map.toString()):(F={code:C.toString(),map:null},M.sourceMapWithCode?F:F.code)}j={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},N=oe().format,e.version=cZ.version,e.generate=Hg,e.attachComments=r.attachComments,e.Precedence=Ke({},n),e.browser=!1,e.FORMAT_MINIFY=j,e.FORMAT_DEFAULTS=N})()}(Iy)),Iy}var dZ=lZ();const Kv=Av(dZ);class hZ{constructor(){this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:t=>this.replacement=t}}replace(t,n,i,s){t&&n&&(i!=null?t[n][i]=s:t[n]=s)}remove(t,n,i){t&&n&&(i!=null?t[n].splice(i,1):delete t[n])}}class pZ extends hZ{constructor(t,n){super(),this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:i=>this.replacement=i},this.enter=t,this.leave=n}visit(t,n,i,s){if(t){if(this.enter){const a=this.should_skip,o=this.should_remove,c=this.replacement;this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.enter.call(this.context,t,n,i,s),this.replacement&&(t=this.replacement,this.replace(n,i,s,t)),this.should_remove&&this.remove(n,i,s);const l=this.should_skip,d=this.should_remove;if(this.should_skip=a,this.should_remove=o,this.replacement=c,l)return t;if(d)return null}let r;for(r in t){const a=t[r];if(a&&typeof a=="object")if(Array.isArray(a)){const o=a;for(let c=0;c<o.length;c+=1){const l=o[c];jv(l)&&(this.visit(l,t,r,c)||c--)}}else jv(a)&&this.visit(a,t,r,null)}if(this.leave){const a=this.replacement,o=this.should_remove;this.replacement=null,this.should_remove=!1,this.leave.call(this.context,t,n,i,s),this.replacement&&(t=this.replacement,this.replace(n,i,s,t)),this.should_remove&&this.remove(n,i,s);const c=this.should_remove;if(this.replacement=a,this.should_remove=o,c)return null}}return t}}function jv(e){return e!==null&&typeof e=="object"&&"type"in e&&typeof e.type=="string"}function Ov(e,{enter:t,leave:n}){return new pZ(t,n).visit(e,null)}let Uv=[];function mZ(e){Uv.push(e)}let Ki=new Map;function fZ(e,t){Ki.set(e,t)}function Jv(e,t={}){const{wrapAsync:n=!1,addReturn:i=!0,emitMiniLocations:s=!0,emitWidgets:r=!0}=t,a=[];let o=US(e,{ecmaVersion:2022,allowAwaitOutsideFunction:!0,locations:!0,onComment:a});const c=NZ(a,e.length);let l=[];const d=(g,P)=>{const A=Ki.get("minilang");if(A){const x=`[${g}]`,E=A.getLocations(x,P.start);l=l.concat(E)}else{const x=jr(`"${g}"`,P.start,e);l=l.concat(x)}};let m=[];Ov(o,{enter(g,P){if(RZ(g)){const{name:A}=g.tag,x=Ki.get(A),E=g.quasi.quasis[0].value.raw,V=g.quasi.start+1;if(s){const S=x.getLocations(E,V);l=l.concat(S)}return this.skip(),this.replace(zZ(A,E,V))}if(BZ(g,"tidal")){const A=g.quasi.quasis[0].value.raw,x=g.quasi.start+1;if(s){const E=kZ(A,x);l=l.concat(E)}return this.skip(),this.replace(VZ(A,x))}if(FZ(g,P)){if(iP(g.start,c))return;const{quasis:A}=g,{raw:x}=A[0].value;return this.skip(),s&&d(x,g),this.replace(tP(x,g))}if(AZ(g)){if(iP(g.start,c))return;const{value:A}=g;return this.skip(),s&&d(A,g),this.replace(tP(A,g))}if(wZ(g))return r&&m.push({from:g.arguments[0].start,to:g.arguments[0].end,value:g.arguments[0].raw,min:g.arguments[1]?.value??0,max:g.arguments[2]?.value??1,step:g.arguments[3]?.value,type:"slider"}),this.replace(XZ(g));if(DZ(g)){const A=g.callee.property.name,x=m.filter(V=>V.type===A).length,E={to:g.end,index:x,type:A,id:t.id};return r&&m.push(E),this.replace(SZ(g,E))}if(ZZ(g,P))return this.replace(EZ(g));if(LZ(g))return this.replace(xZ(g))},leave(g,P,A,x){if(!yZ(g))return;let[E,...V]=g.arguments;if(!E)throw new Error("K(...) requires an expression");gZ(E)&&(E={type:"CallExpression",callee:E,arguments:[],optional:!1});const{template:S,patternExprs:X}=bZ(E);if(X.length){const j=[{type:"Literal",value:S},...X,...V];let N=g.callee;return N.type==="ChainExpression"&&(N=N.expression),N.type==="MemberExpression"?this.replace({type:"CallExpression",callee:eP(N.object),arguments:j,optional:!1}):this.replace({type:"CallExpression",callee:{type:"Identifier",name:"worklet"},arguments:j,optional:!1})}const R=[{type:"Literal",value:eg(E)},...V];let B=g.callee;return B.type==="ChainExpression"&&(B=B.expression),B.type==="MemberExpression"?this.replace({type:"CallExpression",callee:eP(B.object),arguments:R,optional:!1}):this.replace({type:"CallExpression",callee:{type:"Identifier",name:"worklet"},arguments:R,optional:!1})}});let{body:f}=o;if(!f.length)console.warn("empty body -> fallback to silence"),f.push({type:"ExpressionStatement",expression:{type:"Identifier",name:"silence"}});else if(!f?.[f.length-1]?.expression)throw new Error("unexpected ast format without body expression");if(i){const{expression:g}=f[f.length-1];f[f.length-1]={type:"ReturnStatement",argument:g}}let b=Kv.generate(o);return n&&(b=`(async ()=>{${b}})()`),s?{output:b,miniLocations:l,widgets:m}:{output:b}}function yZ(e){if(e.type!=="CallExpression")return!1;let t=e.callee;return t.type==="ChainExpression"&&(t=t.expression),t.type==="MemberExpression"?!t.computed&&t.property?.name==="K":t.type==="Identifier"&&t.name==="K"}function gZ(e){return e.type!=="ArrowFunctionExpression"&&e.type!=="FunctionExpression"||e.params.length?!1:e.body?.type==="BlockStatement"}function eg(e){return Kv.generate(e,{format:{semicolons:!1}})}function bZ(e){const t=$v(e),n=new Map,i=[];if(Ov(t,{enter(o,c,l,d){n.set(o,{parent:c,prop:l,index:d});const m=MZ(o);m&&(i.push({node:o,patternExpr:m}),this.skip())}}),!i.length)return{template:eg(t),patternExprs:[]};i.sort((o,c)=>qv(o.node)-qv(c.node));const s=i.map(({patternExpr:o})=>$v(o));let r=t;return i.forEach(({node:o},c)=>{r=GZ(o,PZ(c),n,r)}),{template:eg(r),patternExprs:s}}function MZ(e){if(CZ(e)){const t=e.arguments?.[0];if(!t)throw new Error("S(...) requires an argument");return t}return Qv(e)?e:null}function CZ(e){if(e.type!=="CallExpression")return!1;const t=e.callee;return t.type==="Identifier"?t.name==="S":t.type==="MemberExpression"&&!t.computed?t.property?.name==="S":!1}function vZ(){return Ki.get("minilang")?.name||"m"}function Qv(e){if(e.type!=="CallExpression")return!1;const t=e.callee;if(t.type!=="Identifier"||t.name!==vZ())return!1;const n=e.arguments?.[0];return n?.type==="Literal"&&typeof n.value=="string"}function qv(e){if(typeof e.start=="number")return e.start;if(Qv(e)){const t=e.arguments?.[1];if(t?.type==="Literal"&&typeof t.value=="number")return t.value}return 0}function PZ(e){return{type:"MemberExpression",object:{type:"Identifier",name:"pat"},property:{type:"Literal",value:e},computed:!0,optional:!1}}function GZ(e,t,n,i){const s=n.get(e);if(!s||!s.parent)return t;const{parent:r,prop:a,index:o}=s;return Array.isArray(r[a])?r[a][o]=t:r[a]=t,n.set(t,{parent:r,prop:a,index:o}),i}function $v(e){return JSON.parse(JSON.stringify(e))}function eP(e){return{type:"MemberExpression",object:e,property:{type:"Identifier",name:"worklet"},computed:!1,optional:!1}}function AZ(e,t,n){return e.type!=="Literal"?!1:e.raw[0]==='"'}function FZ(e,t){return e.type==="TemplateLiteral"&&t.type!=="TaggedTemplateExpression"}function tP(e,t){const{start:n}=t,i=Ki.get("minilang");let s="m";return i&&i.name&&(s=i.name),{type:"CallExpression",callee:{type:"Identifier",name:s},arguments:[{type:"Literal",value:e},{type:"Literal",value:n}],optional:!1}}function wZ(e){return e.type==="CallExpression"&&e.callee.name==="slider"}function DZ(e){return e.type==="CallExpression"&&Uv.includes(e.callee.property?.name)}function XZ(e){const t="slider_"+e.arguments[0].start;return e.arguments.unshift({type:"Literal",value:t,raw:t}),e.callee.name="sliderWithID",e}function nP(e){return`${e.id||""}_widget_${e.type}_${e.index}`}function SZ(e,t){const n=nP(t);return e.arguments.unshift({type:"Literal",value:n,raw:n}),e}function ZZ(e,t){return e.type==="CallExpression"&&e.callee.name==="samples"&&t.type!=="AwaitExpression"}function EZ(e){return{type:"AwaitExpression",argument:e}}function LZ(e){return e.type==="LabeledStatement"}function xZ(e){return{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"MemberExpression",object:e.body.expression,property:{type:"Identifier",name:"p"}},arguments:[{type:"Literal",value:e.label.name,raw:`'${e.label.name}'`}]}}}function RZ(e){return e.type==="TaggedTemplateExpression"&&Ki.has(e.tag.name)}function BZ(e,t){return e.type==="TaggedTemplateExpression"&&e.tag.name===t}function kZ(e,t){return e.split("").reduce((n,i,s)=>(i!=='"'||(!n.length||n[n.length-1].length>1?n.push([s+1]):n[n.length-1].push(s)),n),[]).map(([n,i])=>{const s=e.slice(n,i);return jr(`"${s}"`,t+n-1)}).flat()}function VZ(e,t){return{type:"CallExpression",callee:{type:"Identifier",name:"tidal"},arguments:[{type:"Literal",value:e},{type:"Literal",value:t}],optional:!1}}function zZ(e,t,n){return{type:"CallExpression",callee:{type:"Identifier",name:e},arguments:[{type:"Literal",value:t},{type:"Literal",value:n}],optional:!1}}function NZ(e,t){const n=[],i=[];for(const s of e){const r=s.value.trim();if(r.startsWith("mini-off"))i.push(s.start);else if(r.startsWith("mini-on")){const a=i.pop();n.push([a,s.end])}}for(;i.length;){const s=i.pop();n.push([s,t])}return n}function iP(e,t){for(const[n,i]of t)if(e>=n&&e<i)return!0;return!1}function tg(e){return e!==null&&typeof e=="object"&&"name"in e&&typeof e.name=="string"}function ng(e){return e!==null&&typeof e=="object"&&"step"in e&&typeof e.step=="number"&&"alt"in e&&typeof e.alt=="number"&&!isNaN(e.step)&&!isNaN(e.alt)}var sP=[0,2,4,-1,1,3,5],rP=sP.map(e=>Math.floor(e*7/12));function aP(e){const{step:t,alt:n,oct:i,dir:s=1}=e,r=sP[t]+7*n;if(i===void 0)return[s*r];const a=i-rP[t]-4*n;return[s*r,s*a]}var WZ=[3,0,4,1,5,2,6];function uP(e){const[t,n,i]=e,s=WZ[TZ(t)],r=Math.floor((t+1)/7);if(n===void 0)return{step:s,alt:r,dir:i};const a=n+4*r+rP[s];return{step:s,alt:r,oct:a,dir:i}}function TZ(e){const t=(e+1)%7;return t<0?7+t:t}var oP=(e,t)=>Array(Math.abs(t)+1).join(e),ig=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),IZ="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",_Z="(AA|A|P|M|m|d|dd)([-+]?\\d+)",YZ=new RegExp("^"+IZ+"|"+_Z+"$");function HZ(e){const t=YZ.exec(`${e}`);return t===null?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}var cP={};function vn(e){return typeof e=="string"?cP[e]||(cP[e]=KZ(e)):ng(e)?vn(OZ(e)):tg(e)?vn(e.name):ig}var lP=[0,2,4,5,7,9,11],dP="PMMPPMM";function KZ(e){const t=HZ(e);if(t[0]==="")return ig;const n=+t[0],i=t[1],s=(Math.abs(n)-1)%7,r=dP[s];if(r==="M"&&i==="P")return ig;const a=r==="M"?"majorable":"perfectable",o=""+n+i,c=n<0?-1:1,l=n===8||n===-8?n:c*(s+1),d=jZ(a,i),m=Math.floor((Math.abs(n)-1)/7),f=c*(lP[s]+d+12*m),b=(c*(lP[s]+d)%12+12)%12,g=aP({step:s,alt:d,oct:m,dir:c});return{empty:!1,name:o,num:n,q:i,step:s,alt:d,dir:c,type:a,simple:l,semitones:f,chroma:b,coord:g,oct:m}}function hP(e,t){const[n,i=0]=e,s=n*7+i*12<0,r=t||s?[-n,-i,-1]:[n,i,1];return vn(uP(r))}function jZ(e,t){return t==="M"&&e==="majorable"||t==="P"&&e==="perfectable"?0:t==="m"&&e==="majorable"?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*(e==="perfectable"?t.length:t.length+1):0}function OZ(e){const{step:t,alt:n,oct:i=0,dir:s}=e;if(!s)return"";const r=t+1+7*i,a=r===0?t+1:r,o=s<0?"-":"",c=dP[t]==="M"?"majorable":"perfectable";return o+a+UZ(c,n)}function UZ(e,t){return t===0?e==="majorable"?"M":"P":t===-1&&e==="majorable"?"m":t>0?oP("A",t):oP("d",e==="perfectable"?t:t+1)}var pP=(e,t)=>Array(Math.abs(t)+1).join(e),mP=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),fP=new Map,JZ=e=>"CDEFGAB".charAt(e),ra=e=>e<0?pP("b",-e):pP("#",e),sg=e=>e[0]==="b"?-e.length:e.length;function We(e){const t=JSON.stringify(e),n=fP.get(t);if(n)return n;const i=typeof e=="string"?e7(e):ng(e)?We(t7(e)):tg(e)?We(e.name):mP;return fP.set(t,i),i}var QZ=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function rg(e){const t=QZ.exec(e);return t?[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]:["","","",""]}function qZ(e){return We(uP(e))}var $Z=(e,t)=>(e%t+t)%t,ag=[0,2,4,5,7,9,11];function e7(e){const t=rg(e);if(t[0]===""||t[3]!=="")return mP;const n=t[0],i=t[1],s=t[2],r=(n.charCodeAt(0)+3)%7,a=sg(i),o=s.length?+s:void 0,c=aP({step:r,alt:a,oct:o}),l=n+i+s,d=n+i,m=(ag[r]+a+120)%12,f=o===void 0?$Z(ag[r]+a,12)-12*99:ag[r]+a+12*(o+1),b=f>=0&&f<=127?f:null,g=o===void 0?null:Math.pow(2,(f-69)/12)*440;return{empty:!1,acc:i,alt:a,chroma:m,coord:c,freq:g,height:f,letter:n,midi:b,name:l,oct:o,pc:d,step:r}}function t7(e){const{step:t,alt:n,oct:i}=e,s=JZ(t);if(!s)return"";const r=s+ra(n);return i||i===0?r+i:r}function dn(e,t){const n=We(e),i=Array.isArray(t)?t:vn(t).coord;if(n.empty||!i||i.length<2)return"";const s=n.coord,r=s.length===1?[s[0]+i[0]]:[s[0]+i[0],s[1]+i[1]];return qZ(r).name}function yP(e,t){const n=e.length;return i=>{if(!t)return"";const s=i<0?(n- -i%n)%n:i%n,r=Math.floor(i/n),a=dn(t,[0,r]);return dn(a,e[s])}}function aa(e,t){const n=We(e),i=We(t);if(n.empty||i.empty)return"";const s=n.coord,r=i.coord,a=r[0]-s[0],o=s.length===2&&r.length===2?r[1]-s[1]:-Math.floor(a*7/12),c=i.height===n.height&&i.midi!==null&&n.oct===i.oct&&n.step>i.step;return hP([a,o],c).name}var gP=(e,t)=>Array(t+1).join(e),n7=/^(_{1,}|=|\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function bP(e){const t=n7.exec(e);return t?[t[1],t[2],t[3]]:["","",""]}function ua(e){const[t,n,i]=bP(e);if(n==="")return"";let s=4;for(let a=0;a<i.length;a++)s+=i.charAt(a)===","?-1:1;const r=t[0]==="_"?t.replace(/_/g,"b"):t[0]==="^"?t.replace(/\^/g,"#"):"";return n.charCodeAt(0)>96?n.toUpperCase()+r+(s+1):n+r+s}function MP(e){const t=We(e);if(t.empty||!t.oct&&t.oct!==0)return"";const{letter:n,acc:i,oct:s}=t,r=i[0]==="b"?i.replace(/b/g,"_"):i.replace(/#/g,"^"),a=s>4?n.toLowerCase():n,o=s===5?"":s>4?gP("'",s-5):gP(",",4-s);return r+a+o}function i7(e,t){return MP(dn(ua(e),t))}function s7(e,t){return aa(ua(e),ua(t))}var r7={abcToScientificNotation:ua,scientificToAbcNotation:MP,tokenize:bP,transpose:i7,distance:s7};function a7(e,t){const n=[];for(;t--;n[t]=t+e);return n}function u7(e,t){const n=[];for(;t--;n[t]=e-t);return n}function o7(e,t){return e<t?a7(e,t-e+1):u7(e,e-t+1)}function c7(e,t){const n=t.length,i=(e%n+n)%n;return t.slice(i,n).concat(t.slice(0,i))}function l7(e){return e.filter(t=>t===0||t)}function CP(e){return e.map(n=>We(n)).filter(n=>!n.empty).sort((n,i)=>n.height-i.height).map(n=>n.name)}function d7(e){return CP(e).filter((t,n,i)=>n===0||t!==i[n-1])}function h7(e,t=Math.random){let n,i,s=e.length;for(;s;)n=Math.floor(t()*s--),i=e[s],e[s]=e[n],e[n]=i;return e}function vP(e){return e.length===0?[[]]:vP(e.slice(1)).reduce((t,n)=>t.concat(e.map((i,s)=>{const r=n.slice();return r.splice(s,0,e[0]),r})),[])}const p7=Object.freeze(Object.defineProperty({__proto__:null,compact:l7,permutations:vP,range:o7,rotate:c7,shuffle:h7,sortedNoteNames:CP,sortedUniqNoteNames:d7},Symbol.toStringTag,{value:"Module"}));function m7(e,t){const n=[];for(;t--;n[t]=t+e);return n}function f7(e,t){const n=[];for(;t--;n[t]=e-t);return n}function oa(e,t){return e<t?m7(e,t-e+1):f7(e,e-t+1)}function ji(e,t){const n=t.length,i=(e%n+n)%n;return t.slice(i,n).concat(t.slice(0,i))}function ug(e){return e.filter(t=>t===0||t)}function y7(e,t=Math.random){let n,i,s=e.length;for(;s;)n=Math.floor(t()*s--),i=e[s],e[s]=e[n],e[n]=i;return e}function PP(e){return e.length===0?[[]]:PP(e.slice(1)).reduce((t,n)=>t.concat(e.map((i,s)=>{const r=n.slice();return r.splice(s,0,e[0]),r})),[])}var g7={compact:ug,permutations:PP,range:oa,rotate:ji,shuffle:y7},$n={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},og=e=>Number(e).toString(2).padStart(12,"0"),GP=e=>parseInt(e,2),b7=/^[01]{12}$/;function cg(e){return b7.test(e)}var M7=e=>typeof e=="number"&&e>=0&&e<=4095,C7=e=>e&&cg(e.chroma),AP={[$n.chroma]:$n};function vt(e){const t=cg(e)?e:M7(e)?og(e):Array.isArray(e)?L7(e):C7(e)?e.chroma:$n.chroma;return AP[t]=AP[t]||E7(t)}var v7=vt,FP=e=>vt(e).chroma,P7=e=>vt(e).intervals,G7=e=>vt(e).setNum,A7=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function F7(e){const t=[];for(let n=0;n<12;n++)e.charAt(n)==="1"&&t.push(A7[n]);return t}function w7(e){return vt(e).intervals.map(t=>dn("C",t))}function D7(){return oa(2048,4095).map(og)}function lg(e,t=!0){const i=vt(e).chroma.split("");return ug(i.map((s,r)=>{const a=ji(r,i);return t&&a[0]==="0"?null:a.join("")}))}function X7(e,t){return vt(e).setNum===vt(t).setNum}function ca(e){const t=vt(e).setNum;return n=>{const i=vt(n).setNum;return t&&t!==i&&(i&t)===i}}function la(e){const t=vt(e).setNum;return n=>{const i=vt(n).setNum;return t&&t!==i&&(i|t)===i}}function wP(e){const t=vt(e);return n=>{const i=We(n);return t&&!i.empty&&t.chroma.charAt(i.chroma)==="1"}}function S7(e){const t=wP(e);return n=>n.filter(t)}var DP={get:vt,chroma:FP,num:G7,intervals:P7,chromas:D7,isSupersetOf:la,isSubsetOf:ca,isNoteIncludedIn:wP,isEqual:X7,filter:S7,modes:lg,notes:w7,pcset:v7};function Z7(e){const t=e.split("");return t.map((n,i)=>ji(i,t).join(""))}function E7(e){const t=GP(e),n=Z7(e).map(GP).filter(r=>r>=2048).sort()[0],i=og(n),s=F7(e);return{empty:!1,name:"",setNum:t,chroma:e,normalized:i,intervals:s}}function L7(e){if(e.length===0)return $n.chroma;let t;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let i=0;i<e.length;i++)t=We(e[i]),t.empty&&(t=vn(e[i])),t.empty||(n[t.chroma]=1);return n.join("")}var x7=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],R7=x7;({...$n});var dg=[],da={};function XP(){return dg.slice()}function B7(e,t,n){const i=V7(e),s={...vt(e),name:n||"",quality:i,intervals:e,aliases:t};dg.push(s),s.name&&(da[s.name]=s),da[s.setNum]=s,da[s.chroma]=s,s.aliases.forEach(r=>k7(s,r))}function k7(e,t){da[t]=e}function V7(e){const t=n=>e.indexOf(n)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}R7.forEach(([e,t,n])=>B7(e.split(" "),n.split(" "),t)),dg.sort((e,t)=>e.setNum-t.setNum);var z7=e=>{const t=e.reduce((n,i)=>{const s=We(i).chroma;return s!==void 0&&(n[s]=n[s]||We(i).name),n},{});return n=>t[n]};function N7(e,t={}){const n=e.map(s=>We(s).pc).filter(s=>s);return We.length===0?[]:K7(n,1,t).filter(s=>s.weight).sort((s,r)=>r.weight-s.weight).map(s=>s.name)}var ha={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},pa=e=>t=>!!(t&e),W7=pa(ha.anyThirds),T7=pa(ha.perfectFifth),I7=pa(ha.anySeventh),_7=pa(ha.nonPerfectFifths);function Y7(e){const t=parseInt(e.chroma,2);return W7(t)&&T7(t)&&I7(t)}function H7(e){const t=parseInt(e,2);return _7(t)?e:(t|16).toString(2)}function K7(e,t,n){const i=e[0],s=We(i).chroma,r=z7(e),a=lg(e,!1),o=[];return a.forEach((c,l)=>{const d=n.assumePerfectFifth&&H7(c);XP().filter(f=>n.assumePerfectFifth&&Y7(f)?f.chroma===d:f.chroma===c).forEach(f=>{const b=f.aliases[0],g=r(l);l!==s?o.push({weight:.5*t,name:`${g}${b}/${i}`}):o.push({weight:1*t,name:`${g}${b}`})})}),o}function Ys(e){return e!==null&&typeof e=="object"&&"name"in e&&typeof e.name=="string"}var SP=[0,2,4,5,7,9,11],ZP=({step:e,alt:t})=>(SP[e]+t+120)%12,hg=({step:e,alt:t,oct:n,dir:i=1})=>i*(SP[e]+t+12*(n===void 0?-100:n)),EP=e=>{const t=hg(e);return e.oct!==void 0&&t>=-12&&t<=115?t+12:null};function ma(e){return e!==null&&typeof e=="object"&&"step"in e&&typeof e.step=="number"&&"alt"in e&&typeof e.alt=="number"}var LP=[0,2,4,-1,1,3,5],xP=LP.map(e=>Math.floor(e*7/12));function fa(e){const{step:t,alt:n,oct:i,dir:s=1}=e,r=LP[t]+7*n;if(i===void 0)return[s*r];const a=i-xP[t]-4*n;return[s*r,s*a]}var j7=[3,0,4,1,5,2,6];function ya(e){const[t,n,i]=e,s=j7[O7(t)],r=Math.floor((t+1)/7);if(n===void 0)return{step:s,alt:r,dir:i};const a=n+4*r+xP[s];return{step:s,alt:r,oct:a,dir:i}}function O7(e){const t=(e+1)%7;return t<0?7+t:t}var RP=(e,t)=>Array(Math.abs(t)+1).join(e),pg={empty:!0,name:"",acc:""},U7="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",J7="(AA|A|P|M|m|d|dd)([-+]?\\d+)",Q7=new RegExp("^"+U7+"|"+J7+"$");function mg(e){const t=Q7.exec(`${e}`);return t===null?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}var BP={};function St(e){return typeof e=="string"?BP[e]||(BP[e]=q7(e)):ma(e)?St(eE(e)):Ys(e)?St(e.name):pg}var kP=[0,2,4,5,7,9,11],VP="PMMPPMM";function q7(e){const t=mg(e);if(t[0]==="")return pg;const n=+t[0],i=t[1],s=(Math.abs(n)-1)%7,r=VP[s];if(r==="M"&&i==="P")return pg;const a=r==="M"?"majorable":"perfectable",o=""+n+i,c=n<0?-1:1,l=n===8||n===-8?n:c*(s+1),d=$7(a,i),m=Math.floor((Math.abs(n)-1)/7),f=c*(kP[s]+d+12*m),b=(c*(kP[s]+d)%12+12)%12,g=fa({step:s,alt:d,oct:m,dir:c});return{empty:!1,name:o,num:n,q:i,step:s,alt:d,dir:c,type:a,simple:l,semitones:f,chroma:b,coord:g,oct:m}}function Hs(e,t){const[n,i=0]=e,s=n*7+i*12<0,r=t||s?[-n,-i,-1]:[n,i,1];return St(ya(r))}function $7(e,t){return t==="M"&&e==="majorable"||t==="P"&&e==="perfectable"?0:t==="m"&&e==="majorable"?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*(e==="perfectable"?t.length:t.length+1):0}function eE(e){const{step:t,alt:n,oct:i=0,dir:s}=e;if(!s)return"";const r=t+1+7*i,a=r===0?t+1:r,o=s<0?"-":"",c=VP[t]==="M"?"majorable":"perfectable";return o+a+tE(c,n)}function tE(e,t){return t===0?e==="majorable"?"M":"P":t===-1&&e==="majorable"?"m":t>0?RP("A",t):RP("d",e==="perfectable"?t:t+1)}var zP=(e,t)=>Array(Math.abs(t)+1).join(e),NP={empty:!0,name:"",pc:"",acc:""},WP=new Map,fg=e=>"CDEFGAB".charAt(e),yg=e=>e<0?zP("b",-e):zP("#",e),gg=e=>e[0]==="b"?-e.length:e.length;function Pn(e){const t=JSON.stringify(e),n=WP.get(t);if(n)return n;const i=typeof e=="string"?sE(e):ma(e)?Pn(rE(e)):Ys(e)?Pn(e.name):NP;return WP.set(t,i),i}var nE=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function ga(e){const t=nE.exec(e);return t?[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]:["","","",""]}function bg(e){return Pn(ya(e))}var iE=(e,t)=>(e%t+t)%t,Mg=[0,2,4,5,7,9,11];function sE(e){const t=ga(e);if(t[0]===""||t[3]!=="")return NP;const n=t[0],i=t[1],s=t[2],r=(n.charCodeAt(0)+3)%7,a=gg(i),o=s.length?+s:void 0,c=fa({step:r,alt:a,oct:o}),l=n+i+s,d=n+i,m=(Mg[r]+a+120)%12,f=o===void 0?iE(Mg[r]+a,12)-12*99:Mg[r]+a+12*(o+1),b=f>=0&&f<=127?f:null,g=o===void 0?null:Math.pow(2,(f-69)/12)*440;return{empty:!1,acc:i,alt:a,chroma:m,coord:c,freq:g,height:f,letter:n,midi:b,name:l,oct:o,pc:d,step:r}}function rE(e){const{step:t,alt:n,oct:i}=e,s=fg(t);if(!s)return"";const r=s+yg(n);return i||i===0?r+i:r}function Oi(e,t){const n=Pn(e),i=Array.isArray(t)?t:St(t).coord;if(n.empty||!i||i.length<2)return"";const s=n.coord,r=s.length===1?[s[0]+i[0]]:[s[0]+i[0],s[1]+i[1]];return bg(r).name}function ba(e,t){const n=e.length;return i=>{if(!t)return"";const s=i<0?(n- -i%n)%n:i%n,r=Math.floor(i/n),a=Oi(t,[0,r]);return Oi(a,e[s])}}function Cg(e,t){const n=Pn(e),i=Pn(t);if(n.empty||i.empty)return"";const s=n.coord,r=i.coord,a=r[0]-s[0],o=s.length===2&&r.length===2?r[1]-s[1]:-Math.floor(a*7/12),c=i.height===n.height&&i.midi!==null&&n.midi!==null&&n.step>i.step;return Hs([a,o],c).name}var TP=(e,t)=>Array(Math.abs(t)+1).join(e);function Ui(e,t,n){return function(...i){return console.warn(`${e} is deprecated. Use ${t}.`),n.apply(this,i)}}var IP=Ui("isNamed","isNamedPitch",Ys);const _P=Object.freeze(Object.defineProperty({__proto__:null,accToAlt:gg,altToAcc:yg,chroma:ZP,coordToInterval:Hs,coordToNote:bg,coordinates:fa,deprecate:Ui,distance:Cg,fillStr:TP,height:hg,interval:St,isNamed:IP,isNamedPitch:Ys,isPitch:ma,midi:EP,note:Pn,pitch:ya,stepToLetter:fg,tokenizeInterval:mg,tokenizeNote:ga,tonicIntervalsTransposer:ba,transpose:Oi},Symbol.toStringTag,{value:"Module"}));var aE=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],uE=aE,oE={...$n,name:"",quality:"Unknown",intervals:[],aliases:[]},Ji=[],gi={};function vg(e){return gi[e]||oE}var cE=Ui("ChordType.chordType","ChordType.get",vg);function lE(){return Ji.map(e=>e.name).filter(e=>e)}function dE(){return Ji.map(e=>e.aliases[0]).filter(e=>e)}function hE(){return Object.keys(gi)}function Ma(){return Ji.slice()}var pE=Ui("ChordType.entries","ChordType.all",Ma);function mE(){Ji=[],gi={}}function YP(e,t,n){const i=yE(e),s={...vt(e),name:n||"",quality:i,intervals:e,aliases:t};Ji.push(s),s.name&&(gi[s.name]=s),gi[s.setNum]=s,gi[s.chroma]=s,s.aliases.forEach(r=>fE(s,r))}function fE(e,t){gi[t]=e}function yE(e){const t=n=>e.indexOf(n)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}uE.forEach(([e,t,n])=>YP(e.split(" "),n.split(" "),t)),Ji.sort((e,t)=>e.setNum-t.setNum);var HP={names:lE,symbols:dE,get:vg,all:Ma,add:YP,removeAll:mE,keys:hE,entries:pE,chordType:cE},gE=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],bE=gE,ME={...$n,intervals:[],aliases:[]},Ca=[],bi={};function KP(){return Ca.map(e=>e.name)}function va(e){return bi[e]||ME}var CE=va;function Qi(){return Ca.slice()}var vE=Qi;function PE(){return Object.keys(bi)}function GE(){Ca=[],bi={}}function jP(e,t,n=[]){const i={...vt(e),name:t,intervals:e,aliases:n};return Ca.push(i),bi[i.name]=i,bi[i.setNum]=i,bi[i.chroma]=i,i.aliases.forEach(s=>AE(i,s)),i}function AE(e,t){bi[t]=e}bE.forEach(([e,t,...n])=>jP(e.split(" "),t,n));var OP={names:KP,get:va,all:Qi,add:jP,removeAll:GE,keys:PE,entries:vE,scaleType:CE},Pg={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Gg(e){const[t,n,i,s]=ga(e);return t===""?["",e]:t==="A"&&s==="ug"?["","aug"]:[t+n,i+s]}function Mi(e){if(e==="")return Pg;if(Array.isArray(e)&&e.length===2)return Pa(e[1],e[0]);{const[t,n]=Gg(e),i=Pa(n,t);return i.empty?Pa(e):i}}function Pa(e,t,n){const i=vg(e),s=Pn(t||""),r=Pn(n||"");if(i.empty||t&&s.empty||n&&r.empty)return Pg;const a=Cg(s.pc,r.pc),o=i.intervals.indexOf(a)+1;if(!r.empty&&!o)return Pg;const c=Array.from(i.intervals);for(let f=1;f<o;f++){const b=c[0][0],g=c[0][1],P=parseInt(b,10)+7;c.push(`${P}${g}`),c.shift()}const l=s.empty?[]:c.map(f=>Oi(s,f));e=i.aliases.indexOf(e)!==-1?e:i.aliases[0];const d=`${s.empty?"":s.pc}${e}${r.empty||o<=1?"":"/"+r.pc}`,m=`${t?s.pc+" ":""}${i.name}${o>1&&n?" over "+r.pc:""}`;return{...i,name:m,symbol:d,type:i.name,root:r.name,intervals:c,rootDegree:o,tonic:s.name,notes:l}}var FE=Ui("Chord.chord","Chord.get",Mi);function wE(e,t){const[n,i]=Gg(e);return n?Oi(n,t)+i:e}function DE(e){const t=Mi(e),n=la(t.chroma);return Qi().filter(i=>n(i.chroma)).map(i=>i.name)}function XE(e){const t=Mi(e),n=la(t.chroma);return Ma().filter(i=>n(i.chroma)).map(i=>t.tonic+i.aliases[0])}function SE(e){const t=Mi(e),n=ca(t.chroma);return Ma().filter(i=>n(i.chroma)).map(i=>t.tonic+i.aliases[0])}function ZE(e){const{intervals:t,tonic:n}=Mi(e),i=ba(t,n);return s=>s?i(s>0?s-1:s):""}function EE(e){const{intervals:t,tonic:n}=Mi(e);return ba(t,n)}var LE={getChord:Pa,get:Mi,detect:N7,chordScales:DE,extended:XE,reduced:SE,tokenize:Gg,transpose:wE,degrees:ZE,steps:EE,chord:FE},xE=[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]],RE=xE,Ga=[];RE.forEach(([e,t,n])=>IE(e,t,n));var BE={empty:!0,name:"",value:0,fraction:[0,0],shorthand:"",dots:"",names:[]};function kE(){return Ga.reduce((e,t)=>(t.names.forEach(n=>e.push(n)),e),[])}function VE(){return Ga.map(e=>e.shorthand)}var zE=/^([^.]+)(\.*)$/;function Ag(e){const[t,n,i]=zE.exec(e)||[],s=Ga.find(o=>o.shorthand===n||o.names.includes(n));if(!s)return BE;const r=_E(s.fraction,i.length),a=r[0]/r[1];return{...s,name:e,dots:i,value:a,fraction:r}}var NE=e=>Ag(e).value,WE=e=>Ag(e).fraction,TE={names:kE,shorthands:VE,get:Ag,value:NE,fraction:WE};function IE(e,t,n){Ga.push({empty:!1,dots:"",name:"",value:1/e,fraction:e<1?[1/e,1]:[1,e],shorthand:t,names:n})}function _E(e,t){const n=Math.pow(2,t);let i=e[0]*n,s=e[1]*n;const r=i;for(let a=0;a<t;a++)i+=r/Math.pow(2,a+1);for(;i%2===0&&s%2===0;)i/=2,s/=2;return[i,s]}function YE(){return"1P 2M 3M 4P 5P 6m 7m".split(" ")}var UP=St,HE=e=>St(e).name,KE=e=>St(e).semitones,jE=e=>St(e).q,OE=e=>St(e).num;function UE(e){const t=St(e);return t.empty?"":t.simple+t.q}function JE(e){const t=St(e);if(t.empty)return"";const n=(7-t.step)%7,i=t.type==="perfectable"?-t.alt:-(t.alt+1);return St({step:n,alt:i,oct:t.oct,dir:t.dir}).name}var QE=[1,2,2,3,3,4,5,5,6,6,7,7],qE="P m M m M P d P m M m M".split(" ");function $E(e){const t=e<0?-1:1,n=Math.abs(e),i=n%12,s=Math.floor(n/12);return t*(QE[i]+7*s)+qE[i]}var eL=aa,JP=QP((e,t)=>[e[0]+t[0],e[1]+t[1]]),tL=e=>t=>JP(e,t),nL=QP((e,t)=>[e[0]-t[0],e[1]-t[1]]);function iL(e,t){const n=UP(e);if(n.empty)return"";const[i,s,r]=n.coord;return Hs([i+t,s,r]).name}var Ci={names:YE,get:UP,name:HE,num:OE,semitones:KE,quality:jE,fromSemitones:$E,distance:eL,invert:JE,simplify:UE,add:JP,addTo:tL,substract:nL,transposeFifths:iL};function QP(e){return(t,n)=>{const i=St(t).coord,s=St(n).coord;if(i&&s){const r=e(i,s);return Hs(r).name}}}function qP(e){return+e>=0&&+e<=127}function $P(e){if(qP(e))return+e;const t=We(e);return t.empty?null:t.midi}function sL(e,t=440){return Math.pow(2,(e-69)/12)*t}var rL=Math.log(2),aL=Math.log(440);function Fg(e){const t=12*(Math.log(e)-aL)/rL+69;return Math.round(t*100)/100}var uL="C C# D D# E F F# G G# A A# B".split(" "),oL="C Db D Eb E F Gb G Ab A Bb B".split(" ");function ei(e,t={}){if(isNaN(e)||e===-1/0||e===1/0)return"";e=Math.round(e);const i=(t.sharps===!0?uL:oL)[e%12];if(t.pitchClass)return i;const s=Math.floor(e/12)-1;return i+s}function wg(e){return e%12}function cL(e){return e.split("").reduce((t,n,i)=>(i<12&&n==="1"&&t.push(i),t),[])}function lL(e){return e.map(wg).sort((t,n)=>t-n).filter((t,n,i)=>n===0||t!==i[n-1])}function Dg(e){return Array.isArray(e)?lL(e):cL(e)}function dL(e){const t=Dg(e);return n=>{const i=wg(n);for(let s=0;s<12;s++){if(t.includes(i+s))return n+s;if(t.includes(i-s))return n-s}}}function eG(e,t){const n=Dg(e),i=n.length;return s=>{const r=s<0?(i- -s%i)%i:s%i,a=Math.floor(s/i);return n[r]+a*12+t}}function hL(e,t){const n=eG(e,t);return i=>{if(i!==0)return n(i>0?i-1:i)}}var pL={chroma:wg,freqToMidi:Fg,isMidi:qP,midiToFreq:sL,midiToNoteName:ei,pcsetNearest:dL,pcset:Dg,pcsetDegrees:hL,pcsetSteps:eG,toMidi:$P},mL=["C","D","E","F","G","A","B"],tG=e=>e.name,nG=e=>e.map(We).filter(t=>!t.empty);function fL(e){return e===void 0?mL.slice():Array.isArray(e)?nG(e).map(tG):[]}var hn=We,yL=e=>hn(e).name,gL=e=>hn(e).pc,bL=e=>hn(e).acc,ML=e=>hn(e).oct,CL=e=>hn(e).midi,vL=e=>hn(e).freq,PL=e=>hn(e).chroma;function iG(e){return ei(e)}function GL(e){return ei(Fg(e))}function AL(e){return ei(Fg(e),{sharps:!0})}function FL(e){return ei(e,{sharps:!0})}var wL=aa,pn=dn,DL=dn,sG=e=>t=>pn(t,e),XL=sG,rG=e=>t=>pn(e,t),SL=rG;function Aa(e,t){return pn(e,[t,0])}var ZL=Aa;function EL(e,t){return pn(e,[0,t])}var Xg=(e,t)=>e.height-t.height,LL=(e,t)=>t.height-e.height;function aG(e,t){return t=t||Xg,nG(e).sort(t).map(tG)}function uG(e){return aG(e,Xg).filter((t,n,i)=>n===0||t!==i[n-1])}var xL=e=>{const t=hn(e);return t.empty?"":ei(t.midi||t.chroma,{sharps:t.alt>0,pitchClass:t.midi===null})};function oG(e,t){const n=hn(e);if(n.empty)return"";const i=hn(t||ei(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(i.empty||i.chroma!==n.chroma)return"";if(n.oct===void 0)return i.pc;const s=n.chroma-n.alt,r=i.chroma-i.alt,a=s>11||r<0?-1:s<0||r>11?1:0,o=n.oct+a;return i.pc+o}var Gn={names:fL,get:hn,name:yL,pitchClass:gL,accidentals:bL,octave:ML,midi:CL,ascending:Xg,descending:LL,distance:wL,sortedNames:aG,sortedUniqNames:uG,fromMidi:iG,fromMidiSharps:FL,freq:vL,fromFreq:GL,fromFreqSharps:AL,chroma:PL,transpose:pn,tr:DL,transposeBy:sG,trBy:XL,transposeFrom:rG,trFrom:SL,transposeFifths:Aa,transposeOctaves:EL,trFifths:ZL,simplify:xL,enharmonic:oG},cG={empty:!0,name:"",chordType:""},lG={};function ti(e){return typeof e=="string"?lG[e]||(lG[e]=WL(e)):typeof e=="number"?ti(Fa[e]||""):ng(e)?kL(e):tg(e)?ti(e.name):cG}var RL=ti;function BL(e=!0){return(e?Fa:NL).slice()}function kL(e){return ti(ra(e.alt)+Fa[e.step])}var VL=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function zL(e){return VL.exec(e)||["","","",""]}var dG="I II III IV V VI VII",Fa=dG.split(" "),NL=dG.toLowerCase().split(" ");function WL(e){const[t,n,i,s]=zL(e);if(!i)return cG;const r=i.toUpperCase(),a=Fa.indexOf(r),o=sg(n),c=1;return{empty:!1,name:t,roman:i,interval:vn({step:a,alt:o,dir:c}).name,acc:n,chordType:s,alt:o,step:a,major:i===r,oct:0,dir:c}}var TL={names:BL,get:ti,romanNumeral:RL},Pt=Object.freeze([]),hG={type:"major",tonic:"",alteration:0,keySignature:""},wa={tonic:"",grades:Pt,intervals:Pt,scale:Pt,triads:Pt,chords:Pt,chordsHarmonicFunction:Pt,chordScales:Pt,secondaryDominants:Pt,secondaryDominantSupertonics:Pt,substituteDominantsMinorRelative:Pt,substituteDominants:Pt,substituteDominantSupertonics:Pt,secondaryDominantsMinorRelative:Pt},IL={...hG,...wa,type:"major",minorRelative:"",scale:Pt,substituteDominants:Pt,secondaryDominantSupertonics:Pt,substituteDominantsMinorRelative:Pt},_L={...hG,type:"minor",relativeMajor:"",natural:wa,harmonic:wa,melodic:wa},Sg=(e,t,n="")=>t.map((i,s)=>`${e[s]}${n}${i}`);function Da(e,t,n,i,s){return r=>{const a=e.map(b=>ti(b).interval||""),o=a.map(b=>pn(r,b)),c=Sg(o,n),l=o.map(b=>pn(b,"5P")).map(b=>o.includes(b)&&!c.includes(b+"7")?b+"7":""),d=pG(l,t),m=l.map(b=>{if(!b)return"";const g=b.slice(0,-1);return pn(g,"5d")+"7"}),f=pG(m,t);return{tonic:r,grades:e,intervals:a,scale:o,triads:Sg(o,t),chords:c,chordsHarmonicFunction:i.slice(),chordScales:Sg(o,s," "),secondaryDominants:l,secondaryDominantSupertonics:d,substituteDominants:m,substituteDominantSupertonics:f,secondaryDominantsMinorRelative:d,substituteDominantsMinorRelative:f}}}var pG=(e,t)=>e.map((n,i)=>{if(!n)return"";const s=n.slice(0,-1),r=pn(s,"5P");return t[i].endsWith("m")?r+"m7":r+"m7b5"}),mG=(e,t)=>{const n=We(e),i=We(t);return n.empty||i.empty?0:i.coord[0]-n.coord[0]},YL=Da("I II III IV V VI VII".split(" ")," m m   m dim".split(" "),"maj7 m7 m7 maj7 7 m7 m7b5".split(" "),"T SD T SD D T D".split(" "),"major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(",")),HL=Da("I II bIII IV V bVI bVII".split(" "),"m dim  m m  ".split(" "),"m7 m7b5 maj7 m7 m7 maj7 7".split(" "),"T SD T SD D SD SD".split(" "),"minor,locrian,major,dorian,phrygian,lydian,mixolydian".split(",")),KL=Da("I II bIII IV V bVI VII".split(" "),"m dim aug m   dim".split(" "),"mMaj7 m7b5 +maj7 m7 7 maj7 o7".split(" "),"T SD T SD D SD D".split(" "),"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian".split(",")),jL=Da("I II bIII IV V VI VII".split(" "),"m m aug   dim dim".split(" "),"m6 m7 +maj7 7 7 m7b5 m7b5".split(" "),"T SD T SD D  ".split(" "),"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered".split(","));function OL(e){const t=We(e).pc;if(!t)return IL;const n=YL(t),i=mG("C",t);return{...n,type:"major",minorRelative:pn(t,"-3m"),alteration:i,keySignature:ra(i)}}function UL(e){const t=We(e).pc;if(!t)return _L;const n=mG("C",t)-3;return{type:"minor",tonic:t,relativeMajor:pn(t,"3m"),alteration:n,keySignature:ra(n),natural:HL(t),harmonic:KL(t),melodic:jL(t)}}function JL(e){return typeof e=="number"?Aa("C",e):typeof e=="string"&&/^b+|#+$/.test(e)?Aa("C",sg(e)):null}var QL={majorKey:OL,majorTonicFromKeySignature:JL,minorKey:UL},qL=vn;function $L(e){const t=vn(e);return t.empty?"":t.simple+t.q}function ex(e,t){const n=qL(e);if(n.empty)return"";const[i,s,r]=n.coord;return hP([i+t,s,r]).name}var Zg=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],fG={...$n,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},Eg=Zg.map(sx),Lg={};Eg.forEach(e=>{Lg[e.name]=e,e.aliases.forEach(t=>{Lg[t]=e})});function vi(e){return typeof e=="string"?Lg[e.toLowerCase()]||fG:e&&e.name?vi(e.name):fG}var tx=vi;function yG(){return Eg.slice()}var nx=yG;function ix(){return Eg.map(e=>e.name)}function sx(e){const[t,n,i,s,r,a,o]=e,c=o?[o]:[],l=Number(n).toString(2);return{empty:!1,intervals:va(s).intervals,modeNum:t,chroma:l,normalized:l,name:s,setNum:n,alt:i,triad:r,seventh:a,aliases:c}}function rx(e,t){return vi(e).intervals.map(n=>dn(t,n))}function gG(e){return(t,n)=>{const i=vi(t);if(i.empty)return[];const s=ji(i.modeNum,e),r=i.intervals.map(a=>dn(n,a));return s.map((a,o)=>r[o]+a)}}var ax=gG(Zg.map(e=>e[4])),ux=gG(Zg.map(e=>e[5]));function bG(e,t){const n=vi(t),i=vi(e);return n.empty||i.empty?"":$L(ex("1P",i.alt-n.alt))}function ox(e,t,n){return dn(n,bG(e,t))}var cx={get:vi,names:ix,all:yG,distance:bG,relativeTonic:ox,notes:rx,triads:ax,seventhChords:ux,entries:nx,mode:tx};function lx(e){const[t,n,i,s]=rg(e);return t===""?xg("",e):t==="A"&&s==="ug"?xg("","aug"):xg(t+n,i+s)}function xg(e,t){const n=t.split("/");if(n.length===1)return[e,n[0],""];const[i,s,r,a]=rg(n[1]);return i!==""&&r===""&&a===""?[e,n[0],i+s]:[e,t,""]}function dx(e,t){return t.map(ti).map(i=>dn(e,vn(i))+i.chordType)}function hx(e,t){return t.map(n=>{const[i,s]=lx(n),r=aa(e,i);return ti(vn(r)).name+s})}var px={fromRomanNumerals:dx,toRomanNumerals:hx};function MG(e){const t=ug(e.map(n=>typeof n=="number"?n:$P(n)));return!e.length||t.length!==e.length?[]:t.reduce((n,i)=>{const s=n[n.length-1];return n.concat(oa(s,i).slice(1))},[t[0]])}function mx(e,t){return MG(e).map(n=>ei(n,t))}var fx={numeric:MG,chromatic:mx},yx={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function CG(e){if(typeof e!="string")return["",""];const t=e.indexOf(" "),n=We(e.substring(0,t));if(n.empty){const s=We(e);return s.empty?["",e]:[s.name,""]}const i=e.substring(n.name.length+1).toLowerCase();return[n.name,i.length?i:""]}var gx=KP;function An(e){const t=Array.isArray(e)?e:CG(e),n=We(t[0]).name,i=va(t[1]);if(i.empty)return yx;const s=i.name,r=n?i.intervals.map(o=>dn(n,o)):[],a=n?n+" "+s:s;return{...i,name:a,type:s,tonic:n,notes:r}}var bx=An;function Mx(e,t={}){const n=FP(e),i=We(t.tonic??e[0]??""),s=i.chroma;if(s===void 0)return[];const r=n.split("");r[s]="1";const a=ji(s,r).join(""),o=Qi().find(l=>l.chroma===a),c=[];return o&&c.push(i.name+" "+o.name),t.match==="exact"||vG(a).forEach(l=>{c.push(i.name+" "+l)}),c}function Cx(e){const t=An(e),n=ca(t.chroma);return XP().filter(i=>n(i.chroma)).map(i=>i.aliases[0])}function vG(e){const t=cg(e)?e:An(e).chroma,n=la(t);return Qi().filter(i=>n(i.chroma)).map(i=>i.name)}function vx(e){const t=ca(An(e).chroma);return Qi().filter(n=>t(n.chroma)).map(n=>n.name)}function PG(e){const t=e.map(s=>We(s).pc).filter(s=>s),n=t[0],i=uG(t);return ji(i.indexOf(n),i)}function Px(e){const t=An(e);if(t.empty)return[];const n=t.tonic?t.notes:t.intervals;return lg(t.chroma).map((i,s)=>{const r=An(i).name;return r?[n[s],r]:["",""]}).filter(i=>i[0])}function Gx(e){const t=Array.isArray(e)?PG(e):An(e).notes,n=t.map(i=>We(i).chroma);return i=>{const s=We(typeof i=="number"?iG(i):i),r=s.height;if(r===void 0)return;const a=r%12,o=n.indexOf(a);if(o!==-1)return oG(s.name,t[o])}}function Ax(e){const t=Gx(e);return(n,i)=>{const s=We(n).height,r=We(i).height;return s===void 0||r===void 0?[]:oa(s,r).map(t).filter(a=>a)}}function Fx(e){const{intervals:t,tonic:n}=An(e),i=yP(t,n);return s=>s?i(s>0?s-1:s):""}function wx(e){const{intervals:t,tonic:n}=An(e);return yP(t,n)}var Xa={degrees:Fx,detect:Mx,extended:vG,get:An,modeNames:Px,names:gx,rangeOf:Ax,reduced:vx,scaleChords:Cx,scaleNotes:PG,steps:wx,tokenize:CG,scale:bx},Dx={empty:!0,name:"",upper:void 0,lower:void 0,type:void 0,additive:[]},Xx=["4/4","3/4","2/4","2/2","12/8","9/8","6/8","3/8"];function Sx(){return Xx.slice()}var Zx=/^(\d*\d(?:\+\d)*)\/(\d+)$/,GG=new Map;function Ex(e){const t=JSON.stringify(e),n=GG.get(t);if(n)return n;const i=Rx(Rg(e));return GG.set(t,i),i}function Rg(e){if(typeof e=="string"){const[r,a,o]=Zx.exec(e)||[];return Rg([a,o])}const[t,n]=e,i=+n;if(typeof t=="number")return[t,i];const s=t.split("+").map(r=>+r);return s.length===1?[s[0],i]:[s,i]}var Lx={names:Sx,parse:Rg,get:Ex},xx=e=>Math.log(e)/Math.log(2)%1===0;function Rx([e,t]){const n=Array.isArray(e)?e.reduce((o,c)=>o+c,0):e,i=t;if(n===0||i===0)return Dx;const s=Array.isArray(e)?`${e.join("+")}/${t}`:`${e}/${t}`,r=Array.isArray(e)?e:[],a=i===4||i===2?"simple":i===8&&n%3===0?"compound":xx(i)?"irregular":"irrational";return{empty:!1,name:s,type:a,upper:n,lower:i,additive:r}}var Bx=_P,kx=DP,Vx=HP,zx=OP;const Nx=Object.freeze(Object.defineProperty({__proto__:null,AbcNotation:r7,Array:p7,Chord:LE,ChordDictionary:Vx,ChordType:HP,Collection:g7,Core:_P,DurationValue:TE,Interval:Ci,Key:QL,Midi:pL,Mode:cx,Note:Gn,PcSet:kx,Pcset:DP,Progression:px,Range:fx,RomanNumeral:TL,Scale:Xa,ScaleDictionary:zx,ScaleType:OP,TimeSignature:Lx,Tonal:Bx,accToAlt:gg,altToAcc:yg,chroma:ZP,coordToInterval:Hs,coordToNote:bg,coordinates:fa,deprecate:Ui,distance:Cg,fillStr:TP,height:hg,interval:St,isNamed:IP,isNamedPitch:Ys,isPitch:ma,midi:EP,note:Pn,pitch:ya,stepToLetter:fg,tokenizeInterval:mg,tokenizeNote:ga,tonicIntervalsTransposer:ba,transpose:Oi},Symbol.toStringTag,{value:"Module"})),Wx=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],Tx=["c","db","d","eb","e","f","gb","g","ab","a","bb","b"],Ix=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],_x={b:-1,"#":1},Yx=e=>{const[t,...n]=e.split("");return Tx.indexOf(t.toLowerCase())+n.reduce((i,s)=>i+_x[s],0)};function Hx(e){const t=(e||"").match(/^([A-G][b#]*)([^/]*)[/]?([A-G][b#]*)?$/);return t?t.slice(1):[]}const Bg=e=>e%12,AG=e=>{let t=Number(e);return isNaN(t)?Ci.semitones(e):t},kg=(e,t)=>{if(typeof e=="number")return e;if(typeof e=="string")return nn(e,t)},Kx=(e,t=!1)=>{const n=Math.floor(e/12)-1;return(t?Ix:Wx)[e%12]+n};function jx(e,t,n=1){e=e.map(s=>typeof s=="string"?nn(s):s);const i=Math.floor(t/e.length)*n*12;return t=Nt(t,e.length),e[t]+i}function FG(e,t,n){let i=0,s=1/0;return t.forEach((r,a)=>{const o=Math.abs(r-e);(!n&&o<s||n&&o<=s)&&(i=a,s=o)}),i}let Vg={};function Ox(e,t,n,i){const[s,r]=Xa.tokenize(t),a=kg(s),o=Bg(a);if(!Vg[r]){const{intervals:f}=Xa.get(`C ${r}`);Vg[r]=f.map(AG)}const c=Vg[r];if(!c)return null;let l=a;if(n){n=kg(n,3);const f=Bg(n),b=Nt(f-o,12),g=FG(b,c,i);e=e+g,l=n-b}const d=Math.floor(e/c.length)*12;return e=Nt(e,c.length),c[e]+l+d}let wG={below:e=>e.slice(-1)[0],duck:e=>e.slice(-1)[0],above:e=>e[0],root:e=>e[0]};function Ux({chord:e,dictionary:t,offset:n=0,n:i,mode:s="below",anchor:r="c5",octaves:a=1}){const[o,c]=Hx(e),l=Yx(o);r=kg(r?.note||r,4);const d=Bg(r),m=t[c].map(L=>(typeof L=="string"?L.split(" "):L).map(AG));let f,b,g=m.map((L,R)=>{const B=wG[s](L),j=Nt(d-B-l,12);return(f===void 0||j<f)&&(f=j,b=R),j});s==="root"&&(b=0);const P=Math.ceil(n/m.length)*12,A=Nt(b+n,m.length),x=m[A],E=wG[s](x),V=r-g[A]+P,S=x.map(L=>V-E+L);let X=S.map(L=>Kx(L));return s==="duck"&&(X=X.filter((L,R)=>S[R]!==r)),i!==void 0?[jx(X,i,a)]:X}const Jx=e=>(e<=0?-1:1)+e*7+"P";function zg(e){e=e.replaceAll(":"," ");const t=Xa.get(e),{tonic:n,empty:i}=t;if(i&&_n(e)||i&&!n)throw new Error(`Scale name ${e} is incomplete. Make sure to use ":" instead of spaces, example: .scale("C:major")`);if(i)throw new Error(`Invalid scale name "${e}"`);return t}function Qx(e,t){e=Math.ceil(e);let{intervals:n,tonic:i}=zg(t);i=i||"C";const{pc:s,oct:r=3}=Gn.get(i),a=Math.floor(e/n.length),o=Nt(e,n.length),c=Ci.add(n[o],Jx(a));return Gn.transpose(s+r,c)}function DG(e,t,n){let{notes:i}=zg(e);if(i=i.map(m=>Gn.get(m).pc),t=Number(t),isNaN(t))throw new Error(`scale offset "${t}" not a number`);const{pc:s,oct:r=3}=Gn.get(n),a=i.indexOf(s);if(a===-1)throw new Error(`note "${n}" is not in scale "${e}"`);let o=a,c=r,l=s;const d=Math.sign(t);for(;Math.abs(o-a)<Math.abs(t);){o+=d;const m=Nt(o,i.length);d<0&&l[0]==="C"&&(c+=d),l=i[m],d>0&&l[0]==="C"&&(c+=d)}return l+c}const{transpose:XG,trans:SG}=k(["transpose","trans"],function(t,n){return n.withHap(i=>{const s=i.value.note??i.value;if(typeof s=="number"){let o;typeof t=="number"?o=t:typeof t=="string"&&(o=Ci.semitones(t)||0);const c=s+o;return typeof i.value=="object"?i.withValue(()=>({...i.value,note:c})):i.withValue(()=>c)}if(typeof s!="string"||!_n(s))return mt(`[tonal] transpose: not a note "${s}"`,"warning"),i;const r=isNaN(Number(t))?String(t):Ci.fromSemitones(t),a=Gn.transpose(s,r);return typeof i.value=="object"?i.withValue(()=>({...i.value,note:a})):i.withValue(()=>a)})}),{scaleTranspose:ZG,scaleTrans:EG,strans:LG}=k(["scaleTranspose","scaleTrans","strans"],function(e,t){return t.withHap(n=>{if(!n.context.scale)throw new Error("can only use scaleTranspose after .scale");if(typeof n.value=="object")return n.withValue(()=>({...n.value,note:DG(n.context.scale,Number(e),n.value.note)}));if(typeof n.value!="string")throw new Error("can only use scaleTranspose with notes");return n.withValue(()=>DG(n.context.scale,Number(e),n.value))})});function qx(e){let t=Number(e),n=0;if(isNaN(t)){e=String(e);const i=/^(-?\d+)([#bsf]*)$/.exec(e);if(!i)throw new Error(`invalid scale step "${e}", expected number or integer with optional # b suffixes`);t=Number(i[1]);const s=i[2]||"";n=er(s)}return[t,n]}let Ng={};function $x(e,t,n=!0){let i=typeof t=="string"?nn(t):t;if(Ng[e]===void 0){const{intervals:m,tonic:f}=zg(e),{pc:b}=Gn.get(f),P=m.concat("8P").map(x=>Gn.transpose(b+"0",x)),A=P.map(nn);Ng[e]=[A,P]}const[s,r]=Ng[e],a=s[0],o=Math.floor((i-a)/12),c=s.map(m=>m+12*o),l=FG(i,c,n),d=r[l];return Gn.transpose(d,Ci.fromSemitones(12*o))}const xG=k("scale",function(e,t){return Array.isArray(e)&&(e=e.flat().join(" ")),t.withHaps(n=>(n=n.map(i=>{let s=i.value;const r=typeof s=="object";s=r?s:{n:s};const{note:a,n:o,value:c,...l}=s,d=a??o??c;if(d===void 0)return mt(`[tonal] Invalid value format for 'scale'. Value must contain n, note, or value but received keys [${Object.keys(s).join(", ")}]`,"error"),i;let m;if(_n(d))m=$x(e,d),i.value={...l,note:m};else try{const[f,b]=qx(d);l.anchor?m=Ox(f,e,l.anchor):m=Qx(f,e),b!=0&&(m=Gn.transpose(m,Ci.fromSemitones(b)))}catch(f){as(f,"tonal");return}return i.value=r?{...l,note:m}:m,i.setContext({...i.context,scale:e})}),Hn(n)))},!0,!0);var Wg={},Ks={},js={},RG;function BG(){if(RG)return js;RG=1,js.__esModule=!0,js.getBestVoicing=void 0;function e(t){var n=t.chord,i=t.range,s=t.finder,r=t.picker,a=t.lastVoicing,o=s(n,i);return o.length?r(o,a):[]}return js.getBestVoicing=e,js}var Os={};const kG=QS(Nx);var Us={},VG;function zG(){if(VG)return Us;VG=1,Us.__esModule=!0,Us.tokenizeChord=void 0;function e(t){var n=(t||"").match(/^([A-G][b#]*)([^\/]*)[\/]?([A-G][b#]*)?$/);return n?n.slice(1):[]}return Us.tokenizeChord=e,Us}var NG;function eR(){if(NG)return Os;NG=1,Os.__esModule=!0,Os.voicingsInRange=void 0;var e=kG,t=TG(),n=zG();function i(s,r,a){r===void 0&&(r=t.lefthand),a===void 0&&(a=["D3","A4"]);var o=(0,n.tokenizeChord)(s),c=o[0],l=o[1];if(!r[l])return[];var d=r[l].map(function(f){return f.split(" ")}),m=e.Range.chromatic(a);return d.reduce(function(f,b){var g=b.map(function(E){return e.Interval.substract(E,b[0])}),P=e.Note.transpose(c,b[0]),A=m.filter(function(E){return e.Note.chroma(E)===e.Note.chroma(P)}).filter(function(E){return e.Note.midi(e.Note.transpose(E,g[g.length-1]))<=e.Note.midi(a[1])}).map(function(E){return e.Note.enharmonic(E,P)}),x=A.map(function(E){return g.map(function(V){return e.Note.transpose(E,V)})});return f.concat(x)},[])}return Os.voicingsInRange=i,Os}var WG;function TG(){return WG||(WG=1,function(e){var t=Ks.__assign||function(){return t=Object.assign||function(o){for(var c,l=1,d=arguments.length;l<d;l++){c=arguments[l];for(var m in c)Object.prototype.hasOwnProperty.call(c,m)&&(o[m]=c[m])}return o},t.apply(this,arguments)},n=Ks.__rest||function(o,c){var l={};for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&c.indexOf(d)<0&&(l[d]=o[d]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,d=Object.getOwnPropertySymbols(o);m<d.length;m++)c.indexOf(d[m])<0&&Object.prototype.propertyIsEnumerable.call(o,d[m])&&(l[d[m]]=o[d[m]]);return l};e.__esModule=!0,e.dictionaryVoicing=e.dictionaryVoicingFinder=e.triads=e.guidetones=e.lefthand=void 0;var i=BG(),s=eR();e.lefthand={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},e.guidetones={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},e.triads={M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]};var r=function(o){return function(c,l){return(0,s.voicingsInRange)(c,o,l)}};e.dictionaryVoicingFinder=r;var a=function(o){var c=o.dictionary,l=o.range,d=n(o,["dictionary","range"]);return(0,i.getBestVoicing)(t(t({},d),{range:l,finder:(0,e.dictionaryVoicingFinder)(c)}))};e.dictionaryVoicing=a}(Ks)),Ks}var Js={},IG;function tR(){if(IG)return Js;IG=1,Js.__esModule=!0,Js.minTopNoteDiff=void 0;var e=kG;function t(n,i){if(!i)return n[0];var s=function(r){return Math.abs(e.Note.midi(i[i.length-1])-e.Note.midi(r[r.length-1]))};return n.reduce(function(r,a){return s(a)<s(r)?a:r},n[0])}return Js.minTopNoteDiff=t,Js}var _G;function nR(){return _G||(_G=1,function(e){e.__esModule=!0;var t=TG(),n=tR(),i=BG(),s=zG();e.default={tokenizeChord:s.tokenizeChord,getBestVoicing:i.getBestVoicing,dictionaryVoicing:t.dictionaryVoicing,dictionaryVoicingFinder:t.dictionaryVoicingFinder,lefthand:t.lefthand,guidetones:t.guidetones,triads:t.triads,minTopNoteDiff:n.minTopNoteDiff}}(Wg)),Wg}var iR=nR();const YG=Av(iR),ni={2:["1P 5P 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P"],5:["1P 5P 8P 12P","5P 8P 12P 15P"],6:["1P 5P 6M 8P 10M","1P 5P 8P 10M 13M","3M 5P 8P 10M 13M","5P 8P 10M 12P 13M"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M"],9:["1P 5P 7m 9M 10M","1P 7m 9M 10M 12P","3M 7m 8P 9M 12P","7m 9M 10M 14m 15P","3M 7m 8P 12P 16M","7m 10M 12P 15P 16M"],11:["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],13:["1P 6M 7m 9M 10M","1P 7m 9M 10M 13M","3M 7m 8P 9M 13M","7m 8P 9M 10M 13M","7m 9M 10M 13M 15P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 8P 9M 13M","5P 8P 9M 10M 13M"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 12P 17M"],"+":["1P 3M 6m 8P 10M","1P 6m 8P 10M 13m","3M 6m 8P 10M 13m","3M 8P 10M 13m 15P","6m 8P 10M 13m 15P","6m 10M 13m 15P 17M"],o:["1P 5d 8P 10m 12d","3m 8P 10m 12d 15P","5d 8P 10m 12d 15P"],h:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P","1P 4P 5P 8P 11P","5P 8P 11P 12P","5P 8P 11P 12P 15P"],"^":["1P 5P 8P 10M","1P 5P 8P 10M 12P","3M 5P 8P 10M 12P","3M 8P 10M 12P 15P","5P 8P 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 5P 8P 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 5P 7M 10M 12P","1P 10M 12P 14M","3M 8P 10M 12P 14M","5P 8P 10M 12P 14M","5P 8P 10M 14M 17M"],"-7":["1P 3m 5P 7m 10m","1P 5P 7m 10m 12P","3m 7m 8P 10m 12P","3m 7m 8P 10m 14m","5P 7m 8P 10m 14m","7m 10m 12P 14m 15P","5P 8P 10m 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 5P 7m 8P 11P","5P 8P 11P 12P 14m","7m 8P 11P 12P 14m","7m 11P 12P 14m 18P"],h7:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 5P 7M 9M 10M","1P 7M 9M 10M 12P","3M 7M 8P 9M 12P","3M 7M 8P 12P 16M","5P 8P 10M 14M 16M","7M 8P 10M 12P 16M"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 8P 13M 16M","7M 8P 10M 13M 16M"],"^7#11":["1P 5P 7M 10M 12d","3M 7M 8P 10M 12d","1P 7M 10M 12d 14M","3M 7M 8P 12d 14M","5P 8P 10M 12d 14M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 8P 9M 12d","3M 8P 9M 12d 14M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 8P 10M 13m","6m 7M 8P 10M 13m"],"-6":["1P 3m 5P 6M 8P","1P 5P 6M 8P 10m","3m 5P 6M 8P 10m","1P 5P 8P 10m 13M","3m 5P 8P 10m 13M","5P 8P 10m 12P 13M","5P 8P 10m 13M 15P"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 10m","1P 5P 7M 10m 12P","3m 7M 8P 10m 12P","5P 7M 8P 10m 14M","5P 8P 10m 14M 17m"],"-^9":["1P 3m 5P 7M 9M","1P 7M 9M 10m 12P","3m 7M 8P 9M 12P","5P 8P 9M 10m 14M"],"-9":["1P 3m 5P 7m 9M","3m 5P 7m 8P 9M","3m 7m 8P 9M 12P","5P 8P 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 12P 15P 16M"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["1P 3m 7m 9M 11P","3m 7m 8P 9M 11P","1P 4P 7m 10m 12P","5P 8P 11P 14m","3m 7m 9M 11P 15P","5P 8P 11P 14m 16M","7m 10m 12P 15P 18P"],"-7b5":["3m 5d 7m 8P 10m","1P 7m 10m 12d","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["1P 7m 9M 10m 12d","3m 7m 8P 9M 12d","5d 8P 9M 10m 14m","7m 10m 12d 15P 16M"],"-b6":["1P 5P 6m 8P 10m","1P 5P 8P 10m 13m","3m 5P 8P 10m 13m","5P 8P 10m 13m","5P 8P 10m 13m 15P"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 10m 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 8P 10m 14m","7m 10m 10M 14m 15P"],"7#11":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7b5":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"7#9#5":["1P 3M 7m 10m 13m","3M 7m 10m 13m 15P","7m 10M 13m 15P 17m"],"7#9b5":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7#9#11":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7b9#11":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9b5":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 8P 9m 10m","7m 8P 10M 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7alt":["3M 7m 8P 9m 12d","1P 7m 10m 10M 13m","3M 7m 8P 10m 13m","3M 7m 9m 12d 15P","3M 7m 10m 13m 15P","7m 10M 12d 15P 17m","7m 10M 13m 15P 17m"],"13#11":["1P 6M 7m 10M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["1P 3M 6M 7m 9m","1P 6M 7m 9m 10M","3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["1P 3M 6M 7m 10m","3M 7m 8P 10m 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","5P 7m 9M 11P 13M","7m 9M 11P 13M 15P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},Pi={2:["1P 5P 6M 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P 13M","5P 8P 9M 12P 15P"],5:["1P 5P 8P 12P","1P 5P 8P 9M 12P","5P 8P 12P 15P","5P 8P 12P 15P 16M"],6:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M","7m 10M 14m 17M 19P"],9:["1P 6M 7m 9M 10M","3M 7m 9M 10M 12P","1P 7m 9M 10M 13M","3M 7m 9M 10M 13M","3M 7m 9M 12P 15P","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],11:["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],13:["3M 7m 9M 10M 13M","3M 7m 9M 13M 15P","3M 7m 10M 13M 16M","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 10M 15P","5P 8P 9M 12P 17M"],"+":["1P 6m 8P 9M 10M","1P 6m 8P 10M 13m","3M 8P 9M 10M 13m","3M 8P 10M 13m 15P","6m 10M 13m 15P 16M","6m 10M 13m 15P 17M"],o:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],h:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P 9M","1P 4P 5P 8P 11P","1P 5P 8P 9M 11P","5P 8P 9M 11P 12P","5P 8P 11P 12P 13M","5P 8P 11P 13M 15P"],"^":["1P 3M 5P 6M 9M","1P 5P 8P 10M 12P","3M 5P 9M 10M 12P","1P 5P 8P 10M 13M","3M 8P 10M 13M 15P","5P 9M 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 3m 5P 9M 11P","3m 5P 8P 9M 11P","5P 8P 9M 10m 11P","1P 5P 9M 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 6M 7M 9M 10M","3M 7M 9M 10M 12P","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"-7":["1P 3m 5P 7m 9M","1P 3m 5P 7m 10m","1P 5P 7m 10m 11P","3m 7m 8P 10m 11P","1P 5P 7m 10m 12P","3m 7m 9M 10m 12P","3m 7m 8P 10m 14m","5P 7m 9M 10m 14m","7m 10m 11P 14m 15P","7m 10m 12P 15P 16M","5P 8P 11P 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],h7:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^7#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 10M 12d 14M","7M 10M 12d 13M 14M","7M 10M 12d 13M 16M","7M 10M 12d 14M 17M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 9M 12d 14M","7M 10M 12d 14M 16M","7M 10M 12d 13M 16M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 9M 10M 13m","3M 7M 10M 13m 14M","7M 10M 13m 14M 16M","7M 10M 13m 14M 17M"],"-6":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","1P 5P 6M 10m 11P","3m 5P 6M 8P 11P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 10m 11P 13M","5P 8P 10m 13M 16M"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-^9":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-9":["1P 3m 5P 7m 9M","1P 3m 7m 9M 11P","3m 7m 9M 10m 11P","3m 7m 9M 10m 12P","3m 7m 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 11P 14m 16M","7m 10m 12P 16M 18P"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["3m 5P 7m 9M 11P","7m 9M 10m 11P","1P 4P 7m 10m 12P","3m 7m 9M 11P 12P","7m 9M 10m 11P 12P","3m 7m 9M 11P 14m","4P 10m 12P 14m","5P 8P 11P 14m","5P 8P 11P 14m 16M","7m 10m 12P 16M 18P","7m 10m 11P 16M 21m"],"-7b5":["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["3m 5d 7m 9M 11P","1P 7m 9M 10m 12d","3m 7m 9M 12d 14m","5d 8P 9M 10m 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 16M"],"-b6":["1P 3m 5P 6m 8P","3m 5P 8P 11P 13m","5P 8P 10m 11P 13m"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 11P 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 10m 10M 12P","3M 7m 10m 12P 14m","7m 10M 12P 14m 17m"],"7#11":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7b5":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"7#9#5":["3M 7m 10m 10M 13m","3M 7m 10m 13m 14m","7m 10M 13m 14m 17m"],"7#9b5":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7#9#11":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7b9#11":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9b5":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 10m 13m 16m","7m 10M 13m 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7alt":["3M 7m 8P 10m 13m","3M 7m 9m 12d 13m","3M 7m 9m 10m 13m","3M 7m 10m 13m 14m","3M 7m 9m 12d 14m","3M 7m 10m 13m 15P","3M 7m 10m 13m 16m","7m 10M 12d 14m 16m","7m 10M 12d 13m 16m","7m 10M 13m 15P 17m","7m 10M 13m 16m 17m","7m 10M 13m 16m 19d"],"13#11":["3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["3M 7m 10m 10M 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","4P 7m 9M 11P 13M","7m 9M 11P 13M 15P","7m 11P 13M 14m 16M","7m 11P 13M 16M 18P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},{dictionaryVoicing:sR,minTopNoteDiff:rR}=YG.default||YG,Gi={lefthand:{dictionary:{m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},range:["F3","A4"],mode:"below",anchor:"a4"},triads:{dictionary:{"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]},mode:"below",anchor:"a4"},guidetones:{dictionary:{m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},mode:"above",anchor:"a4"},legacy:{dictionary:{"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"],m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},mode:"below",anchor:"a4"}};let HG="ireal";const Tg=e=>HG=e,KG=(e,t)=>Ig(e,Gi[e].dictionary,t),Ig=(e,t,n=["F3","A4"])=>{Object.assign(Gi,{[e]:{dictionary:t,range:n}})},Sa=(e,t,n={})=>{Object.assign(Gi,{[e]:{dictionary:t,...n}})},aR=(e,t,n)=>{const{dictionary:i,range:s}=Gi[t];return sR({chord:e,dictionary:i,range:s,picker:rR,lastVoicing:n})};let Za;const jG=k("voicings",function(e,t){return t.fmap(n=>(Za=aR(n,e,Za),qe(...Za))).outerJoin()}),OG=k("rootNotes",function(e,t){return t.fmap(n=>{const r=(n.chord||n).match(/^([a-gA-G][b#]?).*$/)[1]+e;return n.chord?{note:r}:r})}),UG=k("voicing",function(e){return e.fmap(t=>{t=typeof t=="string"?{chord:t}:t;let{dictionary:n=HG,chord:i,anchor:s,offset:r,mode:a,n:o,octaves:c,...l}=t;n=typeof n=="string"?Gi[n]:{dictionary:n,mode:"below",anchor:"c5"};try{let d=Ux({...n,chord:i,anchor:s,offset:r,mode:a,n:o,octaves:c});return qe(...d).note().set(l)}catch{return mt(`[voicing]: unknown chord "${i}"`),Te}}).outerJoin()});function qi(e,t,n){n=Array.isArray(n)?n:[n],n.forEach(i=>{i[t]=i[e]})}qi("^","",[ni,Pi]),Object.keys(ni).forEach(e=>{if(e.includes("-")){let t=e.replace("-","m");qi(e,t,[Pi,ni])}if(e.includes("^")){let t=e.replace("^","M");qi(e,t,[Pi,ni])}if(e.includes("+")){let t=e.replace("+","aug");qi(e,t,[Pi,ni])}}),Sa("ireal",ni),Sa("ireal-ext",Pi);function JG(){Za=void 0,Tg("ireal")}const QG="@strudel/tonal",uR=Object.freeze(Object.defineProperty({__proto__:null,addVoicings:Ig,complex:Pi,packageName:QG,registerVoicings:Sa,resetVoicings:JG,rootNotes:OG,scale:xG,scaleTrans:EG,scaleTranspose:ZG,setDefaultVoicings:Tg,setVoicingRange:KG,simple:ni,strans:LG,trans:SG,transpose:XG,voicing:UG,voicingAlias:qi,voicingRegistry:Gi,voicings:jG},Symbol.toStringTag,{value:"Module"}));async function qG(){const e=ds(ds,Promise.resolve().then(()=>w5),Promise.resolve().then(()=>cS),Promise.resolve().then(()=>uR),Promise.resolve().then(()=>aS),{hush:eA,evaluate:tA});await Promise.all([e,ly()])}let _g,Ai;function $G(e={}){ay(),e.miniAllStrings!==!1&&wy();const{prebake:t,...n}=e;return Ai=My({...n,transpiler:Jv}),_g=(async()=>(await qG(),await t?.(),Ai))(),ys(()=>Ai.scheduler.now()),_g}window.initStrudel=$G,_.prototype.play=function(){if(!Ai)throw new Error(".play: no repl found. Have you called initStrudel?");return _g.then(()=>{Ai.setPattern(this,!0)}),this};function eA(){Ai.stop()}async function tA(e,t=!0){return Ai.evaluate(e,t)}return u.ClockCollator=eu,u.Cyclist=kf,u.DEFAULT_MAX_POLYPHONY=Nr,u.FXr=xf,u.FXrel=Lf,u.FXrelease=Ef,u.Fraction=U,u.Hap=Qe,u.Pattern=_,u.StartRules=L9,u.State=ci,u.SyntaxError=Jn,u.TimeSpan=ut,u.Warpmode=Vr,u.__chooseWith=Xr,u._brandBy=wr,u._fitslice=bu,u._irand=Dr,u._keyDown=Sr,u._match=Mu,u._mod=Nt,u._morph=mr,u._polymeterListSteps=vu,u._retime=dr,u._slices=hr,u.accelerate=wo,u.activeLabel=Oh,u.ad=ef,u.add=zb,u.addVoicings=Ig,u.adsr=$m,u.aliasBank=r9,u.almostAlways=m5,u.almostNever=p5,u.always=y5,u.amp=Eo,u.analyze=Hl,u.anchor=Pp,u.and=i2,u.apply=x2,u.applyFM=ki,u.applyGainCurve=cn,u.applyN=fu,u.applyParameterModulators=Rr,u.ar=nf,u.arp=bb,u.arpWith=gb,u.arrange=Gb,u.as=Gf,u.asym=p3,u.att=xo,u.attack=Lo,u.averageArray=_a,u.backgroundImage=A5,u.band=Yb,u.bandf=e0,u.bandq=i0,u.bank=_l,u.base64ToUnicode=qa,u.bbexpr=D0,u.bbst=S0,u.beat=u3,u.begin=r0,u.berlin=t5,u.bgain=op,u.binary=VC,u.binaryL=zC,u.binaryN=u1,u.binaryNL=o1,u.bind=Sb,u.binshift=Fm,u.bite=N2,u.bjork=G3,u.bjorklund=Mr,u.blshift=jb,u.bmod=Sf,u.bor=Hb,u.bp=n0,u.bpa=od,u.bpattack=ud,u.bpd=md,u.bpdc=_d,u.bpdecay=pd,u.bpdepth=Nd,u.bpdepthfreq=Td,u.bpdepthfrequency=Wd,u.bpe=nd,u.bpenv=td,u.bpf=t0,u.bpq=s0,u.bpr=wd,u.bprate=Vd,u.bprelease=Fd,u.bps=Cd,u.bpshape=Id,u.bpskew=Yd,u.bpsustain=Md,u.bpsync=zd,u.brak=U2,u.brand=KC,u.brandBy=HC,u.brshift=Ob,u.bus=ap,u.busgain=up,u.bxor=Kb,u.bypass=wM,u.byteBeatExpression=w0,u.byteBeatStartTime=X0,u.calculateSteps=yb,u.cat=Si,u.ccn=cf,u.ccv=lf,u.ceil=o2,u.ch=E0,u.channel=H0,u.channels=Z0,u.chebyshev=y3,u.choose=d1,u.chooseCycles=h1,u.chooseIn=OC,u.chooseInWith=vs,u.chooseOut=UC,u.chooseWith=Cs,u.chop=JM,u.chord=Mp,u.chorus=Yl,u.chunk=fM,u.chunkBack=bM,u.chunkBackInto=FM,u.chunkInto=GM,u.chunkback=MM,u.chunkbackinto=AM,u.chunkinto=PM,u.clamp=cs,u.cleanupOnEnd=X1,u.cleanupUi=F5,u.clip=Vm,u.coarse=p0,u.code2hash=hb,u.color=Qm,u.colour=qm,u.comb=Pm,u.complex=Pi,u.compose=ab,u.compress=f2,u.compressSpan=y2,u.compressor=Kp,u.compressorAttack=Up,u.compressorKnee=jp,u.compressorRatio=Op,u.compressorRelease=Jp,u.compressspan=g2,u.connectBusModulator=R1,u.connectEnvelope=x1,u.connectLFO=L1,u.connectToDestination=uy,u.constant=ub,u.contract=Du,u.control=of,u.controls=C3,u.cosine=CC,u.cosine2=vC,u.cpm=R2,u.cps=km,u.createClock=Bf,u.createFilter=F1,u.createParam=ps,u.createParams=br,u.crush=h0,u.ctf=O0,u.ctlNum=df,u.ctranspose=qh,u.cubic=d3,u.curry=Fe,u.curve=Im,u.cut=K0,u.cutoff=j0,u.cycleToSeconds=rr,u.cyclesPer=M5,u.dec=Ol,u.decay=jl,u.defaultPrebake=qG,u.degrade=s5,u.degradeBy=i5,u.degradeByWith=n5,u.degree=Jh,u.delay=ph,u.delayfb=fh,u.delayfeedback=mh,u.delayspeed=gh,u.delaysync=vh,u.delayt=Mh,u.delaytime=bh,u.deltaSlide=_m,u.det=Ah,u.detune=Gh,u.dfb=yh,u.dict=vp,u.dictionary=Cp,u.diode=h3,u.dist=_p,u.distort=Ip,u.distortionAlgorithms=Br,u.distorttype=Hp,u.distortvol=Yp,u.div=Tb,u.djf=hh,u.dough=b9,u.doughTrigger=fy,u.doughsamples=yy,u.drawFrequencyScope=vy,u.drawLine=iu,u.drawTimeScope=Cy,u.drive=v0,u.drop=Au,u.dry=Dh,u.drywet=w1,u.ds=tf,u.dspWorklet=my,u.dt=Ch,u.duck=P0,u.duckattack=F0,u.duckdepth=G0,u.duckonset=A0,u.dur=Wm,u.duration=Nm,u.early=B2,u.echo=uM,u.echoWith=iM,u.echowith=sM,u.effectSend=Bi,u.eish=Z3,u.end=a0,u.enhance=vm,u.env=Xf,u.eq=$b,u.eqt=e2,u.euclid=P3,u.euclidLegato=D3,u.euclidLegatoRot=X3,u.euclidRot=F3,u.euclidish=S3,u.euclidrot=A3,u.evalScope=ds,u.evaluate=tA,u.every=L2,u.expand=wu,u.expression=nm,u.extend=Fu,u.fadeInTime=Zh,u.fadeOutTime=Sh,u.fadeTime=Xh,u.fanchor=Xd,u.fast=A2,u.fastChunk=vM,u.fastGap=b2,u.fastcat=Ct,u.fastchunk=CM,u.fastgap=M2,u.fft=Kl,u.filter=EM,u.filterWhen=LM,u.firstOf=E2,u.fit=n3,u.flatten=yn,u.floor=u2,u.fm=qo,u.fm1=$o,u.fm2=ec,u.fm3=tc,u.fm4=nc,u.fm5=ic,u.fm6=sc,u.fm7=rc,u.fm8=ac,u.fmatt=Fc,u.fmatt1=wc,u.fmatt2=Dc,u.fmatt3=Xc,u.fmatt4=Sc,u.fmatt5=Zc,u.fmatt6=Ec,u.fmatt7=Lc,u.fmatt8=xc,u.fmattack=yc,u.fmattack1=gc,u.fmattack2=bc,u.fmattack3=Mc,u.fmattack4=Cc,u.fmattack5=vc,u.fmattack6=Pc,u.fmattack7=Gc,u.fmattack8=Ac,u.fmdec=qc,u.fmdec1=$c,u.fmdec2=el,u.fmdec3=tl,u.fmdec4=nl,u.fmdec5=il,u.fmdec6=sl,u.fmdec7=rl,u.fmdec8=al,u.fmdecay=_c,u.fmdecay1=Yc,u.fmdecay2=Hc,u.fmdecay3=Kc,u.fmdecay4=jc,u.fmdecay5=Oc,u.fmdecay6=Uc,u.fmdecay7=Jc,u.fmdecay8=Qc,u.fmenv=uc,u.fmenv1=oc,u.fmenv2=cc,u.fmenv3=lc,u.fmenv4=dc,u.fmenv5=hc,u.fmenv6=pc,u.fmenv7=mc,u.fmenv8=fc,u.fmh=Ro,u.fmh1=Bo,u.fmh2=ko,u.fmh3=Vo,u.fmh4=zo,u.fmh5=No,u.fmh6=Wo,u.fmh7=To,u.fmh8=Io,u.fmi=_o,u.fmi1=Yo,u.fmi2=Ho,u.fmi3=Ko,u.fmi4=jo,u.fmi5=Oo,u.fmi6=Uo,u.fmi7=Jo,u.fmi8=Qo,u.fmrel=Rl,u.fmrel1=Bl,u.fmrel2=kl,u.fmrel3=Vl,u.fmrel4=zl,u.fmrel5=Nl,u.fmrel6=Wl,u.fmrel7=Tl,u.fmrel8=Il,u.fmrelease=Fl,u.fmrelease1=wl,u.fmrelease2=Dl,u.fmrelease3=Xl,u.fmrelease4=Sl,u.fmrelease5=Zl,u.fmrelease6=El,u.fmrelease7=Ll,u.fmrelease8=xl,u.fmsus=yl,u.fmsus1=gl,u.fmsus2=bl,u.fmsus3=Ml,u.fmsus4=Cl,u.fmsus5=vl,u.fmsus6=Pl,u.fmsus7=Gl,u.fmsus8=Al,u.fmsustain=ul,u.fmsustain1=ol,u.fmsustain2=cl,u.fmsustain3=ll,u.fmsustain4=dl,u.fmsustain5=hl,u.fmsustain6=pl,u.fmsustain7=ml,u.fmsustain8=fl,u.fmwave=Rc,u.fmwave1=Bc,u.fmwave2=kc,u.fmwave3=Vc,u.fmwave4=zc,u.fmwave5=Nc,u.fmwave6=Wc,u.fmwave7=Tc,u.fmwave8=Ic,u.focus=C2,u.focusSpan=v2,u.focusspan=P2,u.fold=m3,u.fractionalArgs=ob,u.frameRate=Xm,u.frames=Sm,u.freeze=ym,u.freq=Eh,u.freqToMidi=tr,u.fromBipolar=l2,u.fshift=sm,u.fshiftnote=rm,u.fshiftphase=am,u.ftype=Dd,u.func=r2,u.fxr=Rf,u.gain=So,u.gainNode=Oe,u.gap=li,u.gat=Yh,u.gate=_h,u.getADSRValues=Vt,u.getAccidentalsOffset=er,u.getAnalyserById=oy,u.getAnalyzerData=Ss,u.getAudioContext=Ge,u.getAudioContextCurrentTime=D5,u.getAudioDevices=ey,u.getCachedBuffer=K5,u.getCompressor=A1,u.getControlName=Ei,u.getCps=U3,u.getCurrentKeyboardState=nu,u.getDefaultValue=st,u.getDistortion=D1,u.getDistortionAlgorithm=_5,u.getEnvelope=G1,u.getEventOffsetMs=nb,u.getFreq=Ia,u.getFrequency=Ha,u.getFrequencyFromValue=En,u.getIsStarted=q3,u.getLeafLocation=Kr,u.getLeafLocations=jr,u.getLeaves=Fy,u.getLfo=di,u.getLoadedBuffer=j5,u.getOscillator=hy,u.getParamADSR=kt,u.getParamLfo=xr,u.getPattern=J3,u.getPerformanceTimeSeconds=mb,u.getPitchEnvelope=hi,u.getPlayableNoteValue=rb,u.getRandsAtTime=Sn,u.getSampleBuffer=z1,u.getSampleBufferSource=N1,u.getSampleInfo=V1,u.getSound=Un,u.getSoundIndex=sb,u.getSuperdoughAudioController=Xs,u.getTime=vr,u.getTrigger=t1,u.getTriggerFunc=Q3,u.getVibratoOscillator=pi,u.getWidgetID=nP,u.getWorklet=Xt,u.getZZFX=py,u.grow=BM,u.gt=Jb,u.gte=qb,u.h=B9,u.hard=l3,u.harmonic=$h,u.hash2code=pb,u.hbrick=wm,u.hcutoff=rh,u.hold=$l,u.hours=Zm,u.hp=uh,u.hpa=ad,u.hpattack=rd,u.hpd=hd,u.hpdc=Qd,u.hpdecay=dd,u.hpdepth=jd,u.hpdepthfreq=Ud,u.hpdepthfrequency=Od,u.hpe=ed,u.hpenv=$0,u.hpf=ah,u.hpq=ch,u.hpr=Ad,u.hprate=Hd,u.hprelease=Gd,u.hps=bd,u.hpshape=Jd,u.hpskew=qd,u.hpsustain=gd,u.hpsync=Kd,u.hresonance=oh,u.hsl=ZM,u.hsla=SM,u.hurry=F2,u.hush=eA,u.id=oi,u.imag=Cm,u.inhabit=W3,u.inhabitmod=I3,u.initAudio=Ir,u.initAudioOnFirstClick=ay,u.initStrudel=$G,u.innerBind=Zb,u.inside=X2,u.inv=K2,u.invert=H2,u.ir=xp,u.irand=jC,u.irbegin=kp,u.iresponse=Rp,u.irspeed=Bp,u.isControlName=Ru,u.isNote=_n,u.isNoteWithOctave=eb,u.isPattern=cr,u.isaw=Ms,u.isaw2=Ar,u.iter=dM,u.iterBack=hM,u.iterback=pM,u.itri=FC,u.itri2=wC,u.jux=nM,u.juxBy=eM,u.juxby=tM,u.kcutoff=cm,u.keep=kb,u.keepif=Vb,u.keyAlias=tu,u.keyDown=b5,u.krush=om,u.label=Uh,u.lastOf=Z2,u.late=pu,u.lbrick=Dm,u.legato=zm,u.leslie=Hh,u.lfo=Df,u.linger=W2,u.listRange=Xi,u.loadBuffer=ws,u.loadWorklets=sy,u.lock=Ph,u.logKey=$s,u.loop=u0,u.loopAt=e3,u.loopAtCps=i3,u.loopBegin=o0,u.loopEnd=l0,u.loopat=t3,u.loopatcps=s3,u.loopb=c0,u.loope=d0,u.lp=J0,u.lpa=sd,u.lpattack=id,u.lpd=ld,u.lpdc=Bd,u.lpdecay=cd,u.lpdepth=Ed,u.lpdepthfreq=xd,u.lpdepthfrequency=Ld,u.lpe=q0,u.lpenv=Q0,u.lpf=U0,u.lpq=dh,u.lpr=Pd,u.lprate=Sd,u.lprelease=vd,u.lps=yd,u.lpshape=Rd,u.lpskew=kd,u.lpsustain=fd,u.lpsync=Zd,u.lrate=Kh,u.lsize=jh,u.lt=Ub,u.lte=Qb,u.m=R9,u.mapArgs=ir,u.mask=Fb,u.midi2note=ib,u.midiToFreq=Yn,u.midibend=bf,u.midichan=sf,u.midicmd=uf,u.midimap=rf,u.midiport=af,u.miditouch=Mf,u.mini=Or,u.mini2ast=Wi,u.miniAllStrings=wy,u.minify=k9,u.minutes=Em,u.mod=Ib,u.mode=Fp,u.morph=o3,u.mouseX=EC,u.mouseY=SC,u.mousex=ZC,u.mousey=XC,u.mtranspose=Qh,u.mul=Wb,u.n=Ao,u.nanFallback=Ya,u.ne=t2,u.net=n2,u.never=f5,u.noise=nh,u.noises=Lr,u.note=Fo,u.noteToMidi=nn,u.nothing=Bt,u.nrpnn=hf,u.nrpv=pf,u.nudge=np,u.numeralArgs=Rt,u.objectMap=$a,u.oct=sp,u.octave=ip,u.octaveR=tp,u.octaves=Ap,u.octer=lm,u.octersub=dm,u.octersubsub=hm,u.off=O2,u.offset=Gp,u.often=d5,u.onTriggerSample=_1,u.onTriggerSynth=U1,u.onceEnded=un,u.or=s2,u.orbit=rp,u.oschost=vf,u.oscport=Pf,u.outerBind=Eb,u.outside=S2,u.overgain=cp,u.overshape=lp,u.pace=Cu,u.packageName=QG,u.pairs=Ua,u.palindrome=$2,u.pan=dp,u.panchor=Ih,u.panorient=fp,u.panspan=hp,u.pansplay=pp,u.panwidth=mp,u.parray=fr,u.parse=Ay,u.parseFractional=Oa,u.parseNumeral=nr,u.partials=g3,u.patt=xh,u.pattack=Lh,u.patternifyAST=yi,u.pcurve=Th,u.pdec=Bh,u.pdecay=Rh,u.penv=Wh,u.per=m1,u.perCycle=C5,u.perlin=e5,u.perx=v5,u.ph=k0,u.phasdp=Y0,u.phaser=V0,u.phasercenter=W0,u.phaserdepth=I0,u.phaserrate=B0,u.phasersweep=z0,u.phases=b3,u.phc=T0,u.phd=_0,u.phs=N0,u.pick=Nf,u.pickF=L3,u.pickOut=R3,u.pickReset=z3,u.pickRestart=k3,u.pickSqueeze=T3,u.pickmod=Wf,u.pickmodF=x3,u.pickmodOut=B3,u.pickmodReset=N3,u.pickmodRestart=V3,u.pickmodSqueeze=_3,u.pipe=ja,u.pitchJump=Ym,u.pitchJumpTime=Hm,u.ply=G2,u.plyForEach=lM,u.plyWith=cM,u.pm=vb,u.polyBind=Rb,u.polyTouch=Cf,u.polymeter=hs,u.polyrhythm=Mb,u.postgain=Zo,u.pow=_b,u.pr=Cb,u.prel=Nh,u.prelease=zh,u.press=q2,u.pressBy=Q2,u.processSampleMap=T1,u.progNum=mf,u.psus=Vh,u.psustain=kh,u.pure=je,u.pw=L0,u.pwrate=x0,u.pwsweep=R0,u.rand=Dt,u.rand2=YC,u.randL=NC,u.randcat=JC,u.randrun=c1,u.range=d2,u.range2=p2,u.rangex=h2,u.rarely=h5,u.ratio=m2,u.rdim=Zp,u.real=Mm,u.ref=r3,u.register=k,u.registerControl=w,u.registerLanguage=fZ,u.registerMultiControl=rn,u.registerSampleSource=Y1,u.registerSamplesPrefix=Q5,u.registerSound=jt,u.registerSynthSounds=ly,u.registerVoicings=Sa,u.registerWaveTable=zr,u.registerWidgetType=mZ,u.registerWorklet=iy,u.registerZZFXSounds=y9,u.reify=H,u.rel=ql,u.release=Ql,u.releaseAudioNode=Ee,u.removeUndefineds=Hn,u.renderPatternAudio=v9,u.repeatCycles=mM,u.repl=bC,u.replicate=RM,u.resetDefaultValues=ny,u.resetDefaults=o9,u.resetGlobalEffects=cy,u.resetLoadedSounds=d9,u.resetSeenKeys=j1,u.resetVoicings=JG,u.reset_state=Vf,u.reset_timelines=zf,u.resonance=lh,u.rev=mu,u.reverseBuffer=W1,u.revv=J2,u.rfade=Lp,u.rib=XM,u.ribbon=DM,u.ring=pm,u.ringdf=fm,u.ringf=mm,u.rlp=Xp,u.room=wp,u.roomdim=Sp,u.roomfade=Ep,u.roomlp=Dp,u.roomsize=Vp,u.rootNotes=OG,u.rotate=Ka,u.round=a2,u.rsize=Wp,u.run=a1,u.s=Bu,u.s_add=IM,u.s_alt=zM,u.s_cat=VM,u.s_contract=KM,u.s_expand=YM,u.s_extend=HM,u.s_polymeter=NM,u.s_sub=_M,u.s_taper=WM,u.s_taperlist=TM,u.s_tour=jM,u.s_zip=OM,u.samples=I1,u.saw=xi,u.saw2=Gr,u.scale=xG,u.scaleTrans=EG,u.scaleTranspose=ZG,u.scheduleAtTime=N5,u.scram=Am,u.scramble=IC,u.scrub=Af,u.seconds=Lm,u.seed=_C,u.seg=I2,u.segment=T2,u.semitone=gp,u.seq=du,u.seqPLoop=Ab,u.sequence=Yt,u.sequenceP=au,u.set=Bb,u.setAudioContext=Ps,u.setCpsFunc=If,u.setDefault=u9,u.setDefaultAudioContext=f1,u.setDefaultValue=Wr,u.setDefaultValues=c9,u.setDefaultVoicings=Tg,u.setGainCurve=s9,u.setIsStarted=Hf,u.setLogger=y1,u.setMaxPolyphony=Q1,u.setMultiChannelOrbits=q1,u.setPattern=_f,u.setStringParser=ru,u.setSuperdoughAudioController=_r,u.setTime=ys,u.setTriggerFunc=Yf,u.setVersionDefaults=l9,u.setVoicingRange=KG,u.shape=Tp,u.shrink=Su,u.shrinklist=Xu,u.shuffle=TC,u.signal=wt,u.silence=Te,u.simple=ni,u.sine=n1,u.sine2=Fr,u.sinefold=f3,u.size=zp,u.slice=Lu,u.slide=yp,u.slow=w2,u.slowChunk=gM,u.slowcat=Xn,u.slowcatPrime=lr,u.slowchunk=yM,u.smear=Gm,u.soft=c3,u.sol2note=cb,u.someCycles=l5,u.someCyclesBy=c5,u.sometimes=o5,u.sometimesBy=u5,u.songPtr=xm,u.sound=ku,u.soundAlias=a9,u.soundMap=Kt,u.source=Po,u.sparsity=D2,u.speak=G5,u.speed=gr,u.splice=$M,u.splitAt=sr,u.spread=wh,u.square=i1,u.square2=PC,u.squeeze=Y3,u.squeezeBind=Lb,u.squiz=$p,u.src=Go,u.stack=qe,u.stackBy=Pb,u.stackCentre=lu,u.stackLeft=ou,u.stackRight=cu,u.steady=MC,u.stepBind=xb,u.stepalt=Pu,u.stepcat=Zt,u.steps=UM,u.stepsPerOctave=ep,u.strans=LG,u.stretch=Qp,u.striate=QM,u.stringifyValues=ar,u.struct=wb,u.strudelScope=ur,u.stut=oM,u.stutWith=rM,u.stutwith=aM,u.sub=Nb,u.superdough=Es,u.superdoughTrigger=m9,u.superimpose=Db,u.sus=Jl,u.sustain=Ul,u.sustainpedal=im,u.swing=Y2,u.swingBy=_2,u.sysex=ff,u.sysexdata=gf,u.sysexid=yf,u.sz=Np,u.tables=n9,u.take=Gu,u.time=DC,u.timeCat=pr,u.timecat=kM,u.timeline=E3,u.toBipolar=c2,u.tokenizeNote=Ta,u.tour=Zu,u.trans=SG,u.transient=Zf,u.transpiler=Jv,u.transpose=XG,u.trem=f0,u.tremolo=m0,u.tremolodepth=g0,u.tremolophase=M0,u.tremoloshape=C0,u.tremoloskew=b0,u.tremolosync=y0,u.tri=GC,u.tri2=AC,u.triode=um,u.tsdelay=bm,u.uid=Rm,u.undegrade=a5,u.undegradeBy=r5,u.unicodeToBase64=Qa,u.uniq=lb,u.uniqsort=db,u.uniqsortr=Ja,u.unison=Fh,u.unit=qp,u.useRNG=kC,u.v=th,u.val=Bm,u.valueToMidi=tb,u.vel=Xo,u.velocity=Do,u.vib=$d,u.vibmod=ih,u.vibrato=eh,u.vmod=sh,u.voice=bp,u.voicing=UG,u.voicingAlias=qi,u.voicingRegistry=Gi,u.voicings=jG,u.vowel=em,u.warp=eo,u.warpatt=io,u.warpattack=no,u.warpdc=mo,u.warpdec=ro,u.warpdecay=so,u.warpdepth=ho,u.warpenv=Co,u.warpmode=yo,u.warprate=lo,u.warprel=co,u.warprelease=oo,u.warpshape=po,u.warpskew=fo,u.warpsus=uo,u.warpsustain=ao,u.warpsync=vo,u.waveformN=dy,u.waveloss=tm,u.wavetablePhaseRand=Mo,u.wavetablePosition=zu,u.wavetableWarp=to,u.wavetableWarpMode=go,u.wchoose=qC,u.wchooseCycles=p1,u.webAudioTimeout=an,u.webaudioOutput=by,u.webaudioRepl=My,u.when=j2,u.whenKey=g5,u.withSeed=l1,u.withValue=Xb,u.within=xM,u.worklet=M3,u.wrandcat=$C,u.wt=Vu,u.wtatt=Tu,u.wtattack=Wu,u.wtdc=qu,u.wtdec=_u,u.wtdecay=Iu,u.wtdepth=Ju,u.wtenv=Nu,u.wtphaserand=bo,u.wtrate=Ou,u.wtrel=ju,u.wtrelease=Ku,u.wtshape=Qu,u.wtskew=$u,u.wtsus=Hu,u.wtsustain=Yu,u.wtsync=Uu,u.xfade=xu,u.xsdelay=gm,u.zcrush=Om,u.zdelay=Um,u.zip=Eu,u.zipWith=os,u.zmod=jm,u.znoise=Km,u.zoom=k2,u.zoomArc=V2,u.zoomarc=z2,u.zrand=Tm,u.zzfx=Jm,Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),u}({});
